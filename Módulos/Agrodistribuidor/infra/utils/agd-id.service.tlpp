#include "totvs.ch"
#include 'tlpp-core.th'

namespace agd.idService 

/*/{Protheus.doc} agdIdService
Classe Utilitaria para Padronizar o retorno de Servicos do AgroDistribuidor
@type class
@version 12
@author jean.schulze
@since 26/12/2024
/*/
class agdIdService
	public method new()

	public method encode()       as character
	public method decode()       as array
	
endclass

/*/{Protheus.doc} new
Constructor da Classe
@type method
@version 12
@author jean.schulze
@since 26/12/2024
@return variant, Retorna a propria instancia
/*/
method new() class agdIdService
return Self

/*/{Protheus.doc} encode
Retorna o objeto de Resposta da classe de Servico
@type method
@version 12
@author jean.schulze
@since 26/12/2024
@return object, Objeto de Resposta
/*/
method encode(paFields as array) as character class agdIdService
	Local cChave as Character
	Local nX     

	For nX:= 1 to Len(paFields)
		cChave += IIF(nX > 1, "|", "") +  RTrim(paFields[nX])
	Next
	
return cChave

/*/{Protheus.doc} decode
Retorna a Mensagem de Erro do Servico
@type method
@version 12
@author jean.schulze
@since 26/12/2024
@return character, Mensagem de erro
/*/
method decode(cChave as character) as array class agdIdService
return StrTokArr2( cChave, "|", .t. )

