#Include "msobject.ch"
#Include "totvs.framework.treports.integratedprovider.th"
#Include "tlpp-core.th"
#Include "tlpp-rest.th"
#Include "TOTVS.CH"
#Include "rh.sv.gpe.gper460.ch"

namespace totvs.protheus.rh.treportsintegratedprovider

/*/{Protheus.doc} GPER460TReportsBusinessObject:new()
	Classe do objeto de negócio da Ficha de Registro (GPER460).
	@type Class
	@version 12.1.2410
	@author karina.alves
	@since 08/11/2024
/*/
@totvsFrameworkTReportsIntegratedProvider(active=.T., team="SIGAGPE", tables="SRA, SX5, CTT, SRJ, SQ3, SQB, CC2, CCH, RCE, SR6", customTables="SRA, CTT, SRJ, SQ3, SQB, RCE, SR6", name="Ficha de Registros", country="ALL", initialRelease="12.1.2310")
Class GPER460TReportsBusinessObject From totvs.framework.treports.integratedprovider.IntegratedProvider
	// Define os métodos da classe
	Public Method new()            As Object
	Public Method getDescription() As Character
	Public Method getData()        As Object
	Public Method getSchema()      As Object
EndClass

/*/{Protheus.doc} GPER460TReportsBusinessObject:new()
	Instancia a classe do objeto de negócio.
	@type Method
	@version 12.1.2410
	@author karina.alves
	@since 08/11/2024
	@return Object, Instância do objeto de negócio
/*/
Method new() As Object Class GPER460TReportsBusinessObject
	_Super:new()

	//Define a Área
	self:appendArea(STR0002) // "RH"

	// Define o nome do objeto de negócio
	self:setDisplayName(STR0003) // "Ficha de Registros"

Return self

/*/{Protheus.doc} GPER460TReportsBusinessObject:getDescription()
	Retorna a descrição do objeto de negócio.
	@type Method
	@version 12.1.2410
	@author karina.alves
	@since 08/11/2024
	@return Character, Descrição do objeto de negócio
/*/
Method getDescription() As Character Class GPER460TReportsBusinessObject
Return STR0001 // "Este objeto de negócio emite a Impressão do Relatório de Funcionários."

/*/{Protheus.doc} GPER460TReportsBusinessObject:getData()
	Captura os dados do objeto de negócio.
	@type Method
	@version 12.1.2410
	@author karina.alves
	@since 08/11/2024
	@return Object, Dados do objeto de negócio
/*/
Method getData(nPage As Numeric, oFilter As Object) As Object Class GPER460TReportsBusinessObject
	// Declaração das variáveis locais
	Local aSituacoes           as Array     // Situações
	Local aPDFields            as Array     // Campos que podem ser exibidos de acordo com a LGPD
    Local aPDFieldsNR          as Array     // Campos com nome diferente do real que podem ser exibidos de acordo com a LGPD
    Local aAllFields           as Array     // Estrutura de todos os campos do ON
    Local aFieldsNR            as Array     // Campos com nome diferente do real
	Local aCategorias          as Array     // Categorias
	Local aTarefas             as Array     // Tarefas
	Local aInfo                as Array     // Dados da filial
	Local aSal                 as Array     // Salário
	Local aTar                 as Array     // Tarefeiro 
	Local aAfast               as Array     // Afastamentos
	Local cAlias               as Character // Alias do arquivo temporário
	Local cBRPDH               as Character // Descrição BRPDH
	Local cJoinCC2             as Character // Join da Query
	Local cJoinCC21            as Character // Join da Query
	Local cJoinCC22            as Character // Join da Query
	Local cJoinCCH             as Character // Join da Query
	Local cJoinCCH1            as Character // Join da Query
	Local cJoinCCH2            as Character // Join da Query
	Local cJoinCCH3            as Character // Join da Query
	Local cJoinCTT             as Character // Join da Query
	Local cJoinRCE             as Character // Join da Query
	Local cJoinSQ3             as Character // Join da Query
	Local cJoinSRJ             as Character // Join da Query
	Local cJoinSX5             as Character // Join da Query
	Local cPossuiInsalubridade as Character // Possui Insalubridade
	Local cQuery               as Character // Query a ser executada
	Local cRacaCor             as Character // Descrição Raça/Cor
	Local cSituacoes           as Character // Parâmetro Situações
	Local cTipoDefi            as Character // Descrição Tipo Deficiência
	Local cTpContr             as Character // Descrição Tipo Contrato
	Local cTpRegTra            as Character // Descrição Tp. Reg. J. Tra
	Local cTpReinESoc          as Character // Descrição TpReinESoc
    Local cCustomFields        as Character // Campos customizados no formato SQL
    Local cName                as Character // Nome real do campo
    Local cFilialDe            as Character // Parâmetro Filial De
	Local cFilialAte           as Character // Parâmetro Filial Ate
	Local cCCDe 			   as Character // Parâmetro CC De
	Local cCCAte 			   as Character // Parâmetro CC Ate
	Local cMatDe 			   as Character // Parâmetro Mat De
	Local cMatAte 			   as Character // Parâmetro Mat Ate
	Local cNomeDe 			   as Character // Parâmetro Nome De
	Local cNomeAte 			   as Character // Parâmetro Nome Ate
    Local cFiltro              as Character // Filtro do objeto de negócio
	Local cFichaAtual          as Character // Parâmetro Ficha Atualizada 1 - Sim 2 - Não
	Local cAltSal              as Character // Parâmetro Alt. Salariais 1 - Sim 2 - Não
	Local cAfast               as Character // Parâmetro Afastamentos 1 - Sim 2 - Não
	Local cDepen               as Character // Parâmetro Dependentes 1 - Sim 2 - Não
	Local cFerias              as Character // Parâmetro Férias 1 - Sim 2 - Não
	Local cContribSind         as Character // Parâmetro Contrib. Sindicais 1 - Sim 2 - Não
	Local cContribAss          as Character // Parâmetro Contrib. Assist. 1 - Sim 2 - Não
	Local cBenefic             as Character // Parâmetro Beneficiarios 1 - Sim 2 - Não
	Local cTransf              as Character // Parâmetro Transferências 1 - Todas 2 - Empresa/Filial 3 - Nenhuma
	Local cImpDescFil          as Character // Parâmetro Imprime Descrição Filial 1 - Nome Reduzido 2 - Filial
	Local cDataIni             as Character // Parâmetro Data Inicial
	Local cDataFim             as Character // Parâmetro Data Final
	Local cResponsavel         as Character // Parâmetero Responsável Legal
	Local cProcesso		       as Character // Parâmetero Processo
	Local cDiasLicFerias       as Character // Parâmetero Considera Dias Lic. Férias 1 - Sim 2 - Não
	Local cImpSalAtual         as Character // Parâmetero Impr. Salário Atual 1 - Sim 2 - Não
	Local cImpTrein            as Character // Parâmetro Impr. Treinamentos 1 - Sim 2 - Não
	Local cAcessaSRA           as Character 
	Local cFilAnterior		   as Character // Filial anterior
	Local cPeriodo             as Character // Período a ser levado em conta 1 - Admissinal 2 - Movimento
	Local cImpSalTar           as Character // Parametro Prof./Tarefeiros Impr.
	Local cValidFil            as Character // Filiais válidas
	Local cMotivo              as Character
	Local jParams              as JSON      // Parâmetros do relatório
    Local jData                as JSON      // Informações a serem adicionadas no ON
	Local jRegistros           as JSON      // Parâmetros do objeto de negócio
    Local jLGPD                as JSON      // Indica quais campos devem ser ofuscados
	Local nParamOrder          as Numeric   // Contador de Parâmetros
    Local nSituacoes           as Numeric   // Contador de Situacoes
    Local nFields              as Numeric   // Contador de campos
	Local nAux                 as Numeric   // Contador Auxiliar
	Local nSal                 as Numeric  // Salário do funcionário
	Local oExec                as object
    Local lObfuscated          as Logical   // Flag que indica se tem algum campo para ofuscar
	Local dDataIni             as Date
	Local dDataFim             as Date
	Local aCampos              as Array
	Local aFer                 as Array
	Local aDep                 as Array
	Local aBenefic             as Array
	Local aAux                 as Array
	Local aConSin              as Array
	Local aConAss              as Array
	Local aCurso               as Array
	Local aConvoca             as Array

	// Inicialização das variáveis
	aSituacoes           := {}
	aCategorias          := {}
    aPDFields            := {}
    aPDFieldsNR          := {}
    aAllFields           := {}
    aFieldsNR            := {}
	aTarefas             := {}
	aInfo                := {}
	aSal                 := {}
	aTar                 := {}
	aAfast               := {}
	cAlias               := GetNextAlias()
	cBRPDH               := ""
	cJoinCC2             := ""
	cJoinCC21            := ""
	cJoinCC22            := ""
	cJoinCCH             := ""
	cJoinCCH1            := ""
	cJoinCCH2            := ""
	cJoinCCH3            := ""
	cJoinCTT             := ""
	cJoinRCE             := ""
	cJoinSQ3             := ""
	cJoinSRJ             := ""
	cJoinSX5             := ""
	cPossuiInsalubridade := ""
	cQuery               := ""
	cRacaCor             := ""
	cSituacoes           := ""
	cTipoDefi            := ""
	cTpContr             := ""
	cTpRegTra            := ""
	cTpReinESoc          := ""
    cCustomFields        := ""
    cName                := ""
    cFilialDe            := ""
	cFilialAte           := ""
	cCCDe				 := ""
	cCCAte               := ""
	cMatDe				 := ""
	cMatAte              := ""
	cNomeDe              := ""
	cNomeAte             := ""
	cImpSalTar           := ""
	cMotivo              := ""
	cPeriodo             := ""
    cValidFil            := fValidFil()
    cFiltro              := IIf(oFilter:hasFilter(), " AND " + oFilter:getSQLExpression(), "")
	jParams              := oFilter:getParameters()
    jData 				 := JSONObject():New()
	jRegistros 			 := JSONObject():New()
    jLGPD                := JSONObject():New()
	nParamOrder          := 1
    nSituacoes           := 1
    nFields              := 1
    lObfuscated          := .F.
	nAux                 := 1
	cFichaAtual          := ""
	cAltSal              := ""
	cAfast               := ""
	cDepen               := ""
	cFerias              := ""
	cContribSind         := ""
	cBenefic             := ""
	cTransf              := ""
	cImpDescFil          := ""
	cDataIni             := ""
    cDataFim             := ""
	cResponsavel         := ""
	cContribAss          := ""
	cProcesso            := ""
	cImpTrein            := ""
	cDiasLicFerias       := ""
	cImpSalAtual         := ""
	cAcessaSRA           := &("{ || " + ChkRH("GPER460","SRA","2") + "}")
	cFilAnterior         := ""
	aCampos              := {}
	aFer                 := {}
	aDep                 := {}
	aAux                 := {}
	aConSin              := {}
	aConAss              := {}
	aCurso               := {}
	aConvoca             := {}
	
	// Verifica se precisa fazer o tratamento para LGPD
    aPDFields   := FwProtectedDataUtil():UsrAccessPDField(__cUserID, self:getArrayFields())
    lObfuscated := Len(aPDFields) != Len(self:getArrayFields())
    aAllFields  := self:getStructFields()

    // Adiciona no JSON todos os campos como atributos e com o conteúdo sendo uma flag que indica se o campo deve ser ofuscado
    For nFields := 1 To Len(aAllFields)
        cName        := Trim(aAllFields[nFields]:getName())
        jLGPD[cName] := AScan(aPDFields, {|x| Trim(x) == cName}) <= 0
    Next nFields

    // Tratamento de LGPD para os campos em que o nome da propriedade não é o nome real do campo
    aFieldsNR := {"DESCNACIONAL", "DESCESTCIVIL", "X5_DESC_GRINRAI", "CCH_PAIS_RFB", "CCH_PAIS_ORIGEM", "CTT_CC", "RJ_DESFUNC", "RCE_SINDICA", "RJ_DESCFUNC", ;
	"Q3_DESC_CARGO","DESC_CODTIT", "QB_DESC_DEPTO", "CC2_DES_MUN", "CCH_DESC_PAIS", "DESMUNRIC", "RA_DESCTNOTRAB", "DESC_PAISEXT", "DESC_CODMUN"}
    aPDFieldsNR := FwProtectedDataUtil():UsrAccessPDField(__cUserID, aFieldsNR)
    For nFields := 1 To Len(aFieldsNR)
        cName        := Trim(aFieldsNR[nFields])
        jLGPD[cName] := AScan(aPDFieldsNR, {|x| Trim(x) == cName}) <= 0
    Next nFields

	// Captura o valor dos parâmetros
	If (jParams != NIL)
		cFilialDe     := IIf(jParams:hasProperty("PAR_FILIALDE")     .and. Len(jParams["PAR_FILIALDE"])  > 0 .and.!Empty(jParams["PAR_FILIALDE"][1]),  jParams["PAR_FILIALDE"][1],  "")
		cFilialAte    := IIf(jParams:hasProperty("PAR_FILIALATE")    .and. Len(jParams["PAR_FILIALATE"]) > 0 .and.!Empty(jParams["PAR_FILIALATE"][1]), jParams["PAR_FILIALATE"][1], Replicate("Z", GetSX3Cache("RA_FILIAL", "X3_TAMANHO")))
		cCCDe         := IIf(jParams:hasProperty("PAR_CCDE")         .and. Len(jParams["PAR_CCDE"])  > 0 .and.!Empty(jParams["PAR_CCDE"][1]),  jParams["PAR_CCDE"][1],  "")
        cCCAte        := IIf(jParams:hasProperty("PAR_CCATE")        .and. Len(jParams["PAR_CCATE"]) > 0 .and.!Empty(jParams["PAR_CCATE"][1]), jParams["PAR_CCATE"][1], Replicate("Z", GetSX3Cache("RA_CC", "X3_TAMANHO")))
        cMatDe        := IIf(jParams:hasProperty("PAR_MATDE")        .and. Len(jParams["PAR_MATDE"])  > 0 .and.!Empty(jParams["PAR_MATDE"][1]),  jParams["PAR_MATDE"][1],  "")
        cMatAte       := IIf(jParams:hasProperty("PAR_MATATE")       .and. Len(jParams["PAR_MATATE"]) > 0 .and.!Empty(jParams["PAR_MATATE"][1]), jParams["PAR_MATATE"][1], Replicate("Z", GetSX3Cache("RA_MAT", "X3_TAMANHO")))
        cNomeDe       := IIf(jParams:hasProperty("PAR_NOMEDE")       .and. Len(jParams["PAR_NOMEDE"])         > 0 .and.!Empty(jParams["PAR_NOMEDE"][1]),         jParams["PAR_NOMEDE"][1],         "")
        cNomeAte      := IIf(jParams:hasProperty("PAR_NOMEATE")      .and. Len(jParams["PAR_NOMEATE"])        > 0 .and.!Empty(jParams["PAR_NOMEATE"][1]),        jParams["PAR_NOMEATE"][1],        Replicate("Z", GetSX3Cache("RA_NOME", "X3_TAMANHO")))
        aSituacoes    := IIf(jParams:hasProperty("PAR_SITFOLH"), jParams["PAR_SITFOLH"], {})
		aCategorias   := IIf(jParams:hasProperty("PAR_CATEG"),   jParams["PAR_CATEG"], {})
        cFichaAtual   := IIf(jParams:hasProperty("PAR_FICHAATUAL")    .and. Len(jParams["PAR_FICHAATUAL"])  > 0 .and.!Empty(jParams["PAR_FICHAATUAL"][1]),  jParams["PAR_FICHAATUAL"][1],  "2")
		cAltSal       := IIf(jParams:hasProperty("PAR_ALTSAL")        .and. Len(jParams["PAR_ALTSAL"])  > 0     .and.!Empty(jParams["PAR_ALTSAL"][1]),      jParams["PAR_ALTSAL"][1],  "2")
		cAfast  	  := IIf(jParams:hasProperty("PAR_AFAST")         .and. Len(jParams["PAR_AFAST"])  > 0     .and.!Empty(jParams["PAR_AFAST"][1]),      jParams["PAR_AFAST"][1],  "2")
		cDepen  	  := IIf(jParams:hasProperty("PAR_DEPEN")         .and. Len(jParams["PAR_DEPEN"])  > 0     .and.!Empty(jParams["PAR_DEPEN"][1]),      jParams["PAR_DEPEN"][1],  "2")
		cFerias  	  := IIf(jParams:hasProperty("PAR_FERIAS")        .and. Len(jParams["PAR_FERIAS"])  > 0    .and.!Empty(jParams["PAR_FERIAS"][1]),     jParams["PAR_FERIAS"][1],  "2")
		cContribSind  := IIf(jParams:hasProperty("PAR_CONTRIBSIND")   .and. Len(jParams["PAR_CONTRIBSIND"])  > 0    .and.!Empty(jParams["PAR_CONTRIBSIND"][1]),     jParams["PAR_CONTRIBSIND"][1],  "2")
		cContribAss   := IIf(jParams:hasProperty("PAR_CONTRIBASS")    .and. Len(jParams["PAR_CONTRIBASS"])  > 0    .and.!Empty(jParams["PAR_CONTRIBASS"][1]),     jParams["PAR_CONTRIBASS"][1],  "2")
		cBenefic      := IIf(jParams:hasProperty("PAR_BENEFIC")       .and. Len(jParams["PAR_BENEFIC"])  > 0    .and.!Empty(jParams["PAR_BENEFIC"][1]),     jParams["PAR_BENEFIC"][1],  "2")
		cTransf       := IIf(jParams:hasProperty("PAR_TRANSF")        .and. Len(jParams["PAR_TRANSF"])  > 0    .and.!Empty(jParams["PAR_TRANSF"][1]),     jParams["PAR_TRANSF"][1],  "3")
		cImpDescFil   := IIf(jParams:hasProperty("PAR_IMPDESCFILIAL") .and. Len(jParams["PAR_IMPDESCFILIAL"])  > 0    .and.!Empty(jParams["PAR_IMPDESCFILIAL"][1]),     jParams["PAR_IMPDESCFILIAL"][1],  "1")
		cDataIni      := IIf(jParams:hasProperty("PAR_DATAINI")       .and. Len(jParams["PAR_DATAINI"])     > 0 .and.!Empty(jParams["PAR_DATAINI"][1]),     jParams["PAR_DATAINI"][1],     FwTimeStamp(6, CToD("")))
		cDataFim      := IIf(jParams:hasProperty("PAR_DATAFIM")       .and. Len(jParams["PAR_DATAFIM"])     > 0 .and.!Empty(jParams["PAR_DATAFIM"][1]),     jParams["PAR_DATAFIM"][1],     FwTimeStamp(6, CToD("")))
        cResponsavel  := IIf(jParams:hasProperty("PAR_RESPONSAVEL")         .and. Len(jParams["PAR_RESPONSAVEL"])    > 0 .and.!Empty(jParams["PAR_RESPONSAVEL"][1]),         jParams["PAR_RESPONSAVEL"][1],         "")
		aTarefas      := IIf(jParams:hasProperty("PAR_IMPTAREFAS"),   jParams["PAR_IMPTAREFAS"], {})		
		cProcesso   := IIf(jParams:hasProperty("PAR_PROCESSO")     .and. Len(jParams["PAR_PROCESSO"]) > 0 .and.!Empty(jParams["PAR_PROCESSO"][1]), jParams["PAR_PROCESSO"][1], "")
		cImpTrein   := IIf(jParams:hasProperty("PAR_IMPTREIN")     .and. Len(jParams["PAR_IMPTREIN"])  > 0    .and.!Empty(jParams["PAR_IMPTREIN"][1]),     jParams["PAR_IMPTREIN"][1],  "2")
		cDiasLicFerias  := IIf(jParams:hasProperty("PAR_DSLICFER") .and. Len(jParams["PAR_DSLICFER"])  > 0    .and.!Empty(jParams["PAR_DSLICFER"][1]),     jParams["PAR_DSLICFER"][1],  "2")
		cImpSalAtual := IIf(jParams:hasProperty("PAR_IMPSALATUAL") .and. Len(jParams["PAR_IMPSALATUAL"])  > 0    .and.!Empty(jParams["PAR_IMPSALATUAL"][1]),     jParams["PAR_IMPSALATUAL"][1],  "1")
		cImpSalTar := IIf(jParams:hasProperty("PAR_IMPTAREFEIROS") .and. Len(jParams["PAR_IMPTAREFEIROS"])  > 0    .and.!Empty(jParams["PAR_IMPTAREFEIROS"][1]),     jParams["PAR_IMPTAREFEIROS"][1],  "3") // 1 - Hist. Salarial 2 - Tarefas 3 - Ambos
		cPeriodo  := IIf(jParams:hasProperty("PAR_PERIODO") .and. Len(jParams["PAR_PERIODO"])  > 0    .and.!Empty(jParams["PAR_PERIODO"][1]),     jParams["PAR_PERIODO"][1],  "1") // 1 -Admissional 2 - Movimento
	EndIf

    For nSituacoes := 1 To Len(aSituacoes)
        aSituacoes[nSituacoes] := IIf(aSituacoes[nSituacoes] == NIL .or. Empty(aSituacoes[nSituacoes]), " ", aSituacoes[nSituacoes])
    Next nSituacoes

    For nAux := 1 To Len(aCategorias)
        aCategorias[nAux] := IIf(aCategorias[nAux] == NIL .or. Empty(aCategorias[nAux]), " ", aCategorias[nAux])
    Next nAux

	For nAux := 1 To Len(aTarefas)
        aTarefas[nAux] := IIf(aTarefas[nAux] == NIL .or. Empty(aTarefas[nAux]), " ", aTarefas[nAux])
    Next nAux	

	cDataIni := StrTran(SubStr(cDataIni, 1, 10), "-", "")
    cDataFim := StrTran(SubStr(cDataFim,   1, 10), "-", "")

	dDataIni := SToD(cDataIni) 
	dDataFim := SToD(cDataFim) 
	
	dDataFim := Max( dDataFim, dDataIni )

	cJoinSX5  :=  FWJoinFilial("SRA", "SX5")
	cJoinCTT  :=  FWJoinFilial("SRA", "CTT")
	cJoinSRJ  :=  FWJoinFilial("SRA", "SRJ")
	cJoinSQ3  :=  FWJoinFilial("SRA", "SQ3")
	cJoinSQB  :=  FWJoinFilial("SRA", "SQB")
	cJoinCC2  :=  FWJoinFilial("SRA", "CC2")
	cJoinCCH  :=  FWJoinFilial("SRA", "CCH")
	cJoinRCE  :=  FWJoinFilial("SRA", "RCE")
	cJoinCCH1 := REPLACE(cJoinCCH,"CCH.","CCH1.")
	cJoinCCH2 := REPLACE(cJoinCCH,"CCH.","CCH2.")
	cJoinCCH3 := REPLACE(cJoinCCH,"CCH.","CCH3.")
	cJoinCC21 := REPLACE(cJoinCC2,"CC2.","CC21.")
	cJoinCC22 := REPLACE(cJoinCC2,"CC2.","CC22.")
	cJoinSX51 := REPLACE(cJoinSX5,"SX5.","SX51.")
	cJoinSX52 := REPLACE(cJoinSX5,"SX5.","SX52.")
	cJoinSX53 := REPLACE(cJoinSX5,"SX5.","SX53.")
	cJoinSR6  := FWJoinFilial("SRA", "SR6")

	// Montagem da query de busca
	cQuery := " SELECT RA_FILIAL, RA_MAT, RA_NOME, RA_NOMECMP, RA_PAI, RA_MAE, RA_NATURAL, RA_NACIONA, SX51.X5_DESCRI AS DESCNACIONAL, RA_ESTCIVI, "
	cQuery += " SX52.X5_DESCRI AS DESCESTCIVIL, RA_SEXO, RA_NASC, RA_GRINRAI, SX5.X5_DESCRI AS X5_DESC_GRINRAI, RA_APELIDO, RA_DEFIFIS, RA_BRPDH, "
	cQuery += " RA_RACACOR, RA_RECMAIL, RA_EMAIL, RA_TPDEFFI, RA_MUNNASC, RA_BRNASEX, RA_CPAISOR, CCH.CCH_PAIS AS CCH_PAIS_ORIGEM, RA_NACIONC, "
	cQuery += " CCH1.CCH_PAIS AS CCH_PAIS_RFB, RA_CODMUNN, RA_EMAIL2, RA_PORTDEF, RA_ALTNASC, RA_ALTNOME, RA_BLOQADM, RA_TPMAIL, RA_POSTO, "
	cQuery += " RA_CTPCD, RA_CC, CTT_DESC01 as CTT_CC, RA_ADMISSA, RA_OPCAO, RA_DEMISSA, RA_VCTOEXP, RA_VCTEXP2, RA_EXAMEDI, RA_BCDEPSA, RA_CTDEPSA, "
	cQuery += " RA_BCDPFGT, RA_CTDPFGT, RA_SITFOLH, RA_HRSMES, RA_HRSEMAN, RA_CODFUNC, SRJ.RJ_DESC AS RJ_DESFUNC, RA_CODFUNC,RA_PGCTSIN, SRJ.RJ_CODCBO, "
	cQuery += " RA_ALTCBO, RA_SINDICA, RCE_DESCRI AS RCE_SINDICA, RA_PROCES, RA_PERCADT, RA_CATFUNC, RJ_DESC  AS RJ_DESCFUNC, RA_TIPOPGT, RA_SALARIO, "
	cQuery += " RA_ANTEAUM, RA_TIPOADM, RA_FTINSAL,RA_AFASFGT, RA_VIEMRAI, RA_RESCRAI, RA_MESESAN, RA_ALTADM, RA_ALTOPC, RA_TIPINF, RA_DTREC, RA_BITMAP, "
    cQuery += " RA_CATEG, RA_TPCONTR, RA_AUTMEI, RA_OCORREN, RA_PERCSAT, RA_PERFGTS, RA_DTVTEST, RA_CARGO, Q3_DESCSUM AS Q3_DESC_CARGO, RA_TIPOVIA, RA_DTENTRA, "
    cQuery += " SX53.X5_DESCRI AS DESC_CODTIT, RA_DEPTO, QB_DESCRIC AS QB_DESC_DEPTO, RA_FECREI, RA_DEMIANT, RA_ASSIST, RA_CONFED, RA_MENSIND, "
	cQuery += " RA_MOLEST, RA_DTFIMCT, RA_CLAURES, RA_HOPARC, RA_COMPSAB, RA_TPCTSAL, RA_TPPREVI, RA_HRSDIA, RA_CATEFD, RA_EAPOSEN, RA_NJUD14, "
	cQuery += " RA_TPREINT, RA_NRPROC, RA_NRLEIAN, RA_DTEFRET, RA_DTEFRTN, RA_DTCAGED, RA_HOJORVA, RA_TIPOCON, RA_CIC, RA_PIS, RA_ALTPIS, RA_RG, "
    cQuery += " RA_RGORG, RA_DTRGEXP, RA_RGEXP, RA_RGUF, RA_ORGEMRG, RA_COMPLRG, RA_NUMCP, RA_SERCP, RA_DTCPEXP, RA_UFCP, RA_ALTCP, RA_CODIGO, "
    cQuery += " RA_HABILIT, RA_CATCNH, RA_UFCNH, RA_CNHORG, RA_DTEMCNH, RA_DTVCCNH, RA_DTINCON, RA_TITULOE, RA_ZONASEC, RA_SECAO, RA_REGISTR, "
    cQuery += " RA_TIPCERT, RA_EMICERT, RA_MATCERT, RA_LIVCERT, RA_FOLCERT, RA_CARCERT, RA_UFCERT, RA_CDMUCER, CC2.CC2_MUN AS CC2_DES_MUN, "
    cQuery += " RA_FICHA, RA_RESERVI, RA_NUMEPAS, RA_EMISPAS, RA_UFPAS, RA_DEMIPAS, RA_DVALPAS, RA_CODPAIS, CCH2.CCH_PAIS AS CCH_DESC_PAIS, "
	cQuery += " RA_NUMRIC, RA_UFRIC, RA_CDMURIC, CC21.CC2_MUN AS DESMUNRIC, RA_EMISRIC, RA_DEXPRIC, RA_SERVENT, RA_CODACER, RA_REGCIVI, RA_TPLIVRO, "
	cQuery += " RA_OCEMIS, RA_OCDTEXP, RA_OCDTVAL, RA_DEPIR, RA_DEPSF, RA_LOCBNF, RA_PLSAUDE, RA_CHAPA, RA_TNOTRAB, SR6.R6_DESC as RA_DESCTNOTRAB, "
	cQuery += " RA_CRACHA, RA_REGRA, RA_SEQTURN, RA_BHFOL, RA_ACUMBH, RA_PRCFCH, RA_PERFCH, RA_ROTFCH, RA_NUPFCH, RA_TPJORNA, RA_CODRET, RA_NUMINSC, "
	cQuery += " RA_SERVICO, RA_MATMIG, RA_NSOCIAL, RA_TABELA, RA_TABNIVE, RA_TABFAIX, RA_ENDEREC, RA_COMPLEM, RA_BAIRRO, RA_MUNICIP, RA_ESTADO, "
	cQuery += " RA_CEP, RA_TELEFON, RA_ALTEND, RA_RESEXT, RA_NUMENDE, RA_TIPENDE, RA_DDDFONE, RA_DDDCELU, RA_NUMCELU, RA_CPOSTAL, RA_CEPCXPO, "
	cQuery += " RA_PAISEXT, CCH3.CCH_PAIS AS DESC_PAISEXT, RA_LOGRTP, RA_LOGRDSC, RA_LOGRNUM, RA_CODMUN, CC22.CC2_MUN AS DESC_CODMUN, RA_ANOCHEG, "
	cQuery += " RA_INSSAUT, RA_DATCHEG, RA_NUMNATU, RA_DATNATU, RA_CLASEST, RA_RNE, RA_RNEORG, RA_RNEDEXP, RA_CASADBR, RA_FILHOBR, RA_ADTPOSE, "
	cQuery += " RA_PERICUL, RA_INSMAX, RA_ADCTRF, RA_ADCCONF, RA_ADCPERI, RA_ADCINS, RA_CODUNIC, RA_USRADM, RA_DESEPS, RA_DESCEP, SRA.R_E_C_N_O_ REGSRA "
	cQuery += " ? " // 1
	cQuery += " FROM " + retsqlname("SRA") + " SRA "
	cQuery += " LEFT JOIN " + retsqlname("SX5") + " SX5 ON "
	cQuery +=       cJoinSX5
	cQuery +=       " AND SX5.X5_TABELA = ? "  // 2 ('26')
	cQuery +=       " AND SX5.X5_CHAVE = SRA.RA_GRINRAI "
	cQuery +=       " AND SX5.D_E_L_E_T_ = ? " // 3
	cQuery += " LEFT JOIN " + retsqlname("SX5") + " SX51 ON "
	cQuery +=       cJoinSX51
	cQuery +=       " AND SX51.X5_TABELA = ? "  // 4 ('34')
	cQuery +=       " AND SX51.X5_CHAVE = SRA.RA_NACIONA "
	cQuery +=       " AND SX51.D_E_L_E_T_ = ? " // 5
	cQuery += " LEFT JOIN " + retsqlname("SX5") + " SX52 ON "
	cQuery +=       cJoinSX52
	cQuery +=       " AND SX52.X5_TABELA = ? "  // 6 ('33')
	cQuery +=       " AND SX52.X5_CHAVE = SRA.RA_ESTCIVI " 
	cQuery +=       " AND SX52.D_E_L_E_T_ = ? " // 7
	cQuery += " LEFT JOIN " + retsqlname("SX5") + " SX53 ON "
	cQuery +=       cJoinSX53
	cQuery +=       " AND SX53.X5_TABELA = ? "  // 8 ('FF')
	cQuery +=       " AND SX53.X5_CHAVE = SRA.RA_CODTIT "
	cQuery +=       " AND SX53.D_E_L_E_T_ = ? " // 9
	cQuery += " LEFT JOIN " + retsqlname("CTT") + " CTT ON "
	cQuery +=       cJoinCTT
	cQuery +=       " AND CTT.CTT_CUSTO = SRA.RA_CC "
	cQuery +=       " AND CTT.D_E_L_E_T_ = ? " // 10
	cQuery += " LEFT JOIN " + retsqlname("SRJ") + " SRJ ON "
	cQuery +=       cJoinSRJ
	cQuery +=       " AND SRJ.RJ_FUNCAO = SRA.RA_CODFUNC "
	cQuery +=       " AND SRJ.D_E_L_E_T_ = ? " // 11
	cQuery += " LEFT JOIN " + retsqlname("SQ3") + " SQ3 ON "
	cQuery +=       cJoinSQ3
	cQuery +=       " AND SQ3.Q3_CARGO = SRA.RA_CARGO "
	cQuery +=       " AND (SQ3.Q3_CC = SRA.RA_CC OR Q3_CC = ?) " // 12
	cQuery +=       " AND SQ3.D_E_L_E_T_ = ? "                   // 13
	cQuery += " LEFT JOIN " + retsqlname("SQB") + " SQB ON "
	cQuery +=       cJoinSQB
	cQuery +=       " AND SQB.QB_DEPTO = SRA.RA_DEPTO "
	cQuery +=       " AND SQB.D_E_L_E_T_ = ? " // 14
	cQuery += " LEFT JOIN " + retsqlname("CC2") + " CC2 ON "
	cQuery +=       cJoinCC2
	cQuery +=       " AND CC2.CC2_EST = SRA.RA_UFCERT "
	cQuery +=       " AND CC2.CC2_CODMUN = SRA.RA_CDMUCER "
	cQuery +=       " AND CC2.D_E_L_E_T_ = ? " // 15
	cQuery += " LEFT JOIN " + retsqlname("CC2") + " CC21 ON "
	cQuery +=       cJoinCC21
	cQuery +=       " AND CC21.CC2_EST = SRA.RA_UFRIC "
	cQuery +=       " AND CC21.CC2_CODMUN = SRA.RA_CDMURIC "
	cQuery +=       " AND CC21.D_E_L_E_T_ = ? " // 16
	cQuery += " LEFT JOIN " + retsqlname("CCH") + " CCH ON "
	cQuery +=       cJoinCCH
	cQuery +=       " AND CCH.CCH_CODIGO = SRA.RA_CPAISOR "
	cQuery +=       " AND CCH.D_E_L_E_T_ = ? " // 17
	cQuery += " LEFT JOIN " + retsqlname("CCH") + " CCH1 ON "
	cQuery +=       cJoinCCH1
	cQuery +=       " AND CCH1.CCH_CODIGO = SRA.RA_NACIONC "
	cQuery +=       " AND CCH1.D_E_L_E_T_ = ? " // 18
	cQuery += " LEFT JOIN " + retsqlname("CCH") + " CCH2 ON "
	cQuery +=       cJoinCCH2
	cQuery +=       " AND CCH2.CCH_CODIGO = SRA.RA_CODPAIS "
	cQuery +=       " AND CCH2.D_E_L_E_T_ = ? " // 19
	cQuery += " LEFT JOIN " + retsqlname("RCE") + " RCE ON "
	cQuery +=       cJoinRCE
	cQuery +=       " AND RCE.RCE_CODIGO = SRA.RA_SINDICA "
	cQuery +=       " AND RCE.D_E_L_E_T_ = ? " // 20
	cQuery += " LEFT JOIN " + retsqlname("SR6") + " SR6 ON "
	cQuery +=       cJoinSR6
	cQuery +=       " AND SR6.R6_TURNO = SRA.RA_TNOTRAB "
	cQuery +=       " AND SR6.D_E_L_E_T_ = ? " // 21
	cQuery += " LEFT JOIN " + retsqlname("CCH") + " CCH3 ON "
	cQuery +=       cJoinCCH3
	cQuery +=       " AND CCH3.CCH_CODIGO = SRA.RA_PAISEXT "
	cQuery +=       " AND CCH3.D_E_L_E_T_ = ? " // 22
	cQuery += " LEFT JOIN " + retsqlname("CC2") + " CC22 ON "
	cQuery +=       cJoinCC22
	cQuery +=       " AND CC22.CC2_EST = SRA.RA_ESTADO "
	cQuery +=       " AND CC22.CC2_CODMUN = SRA.RA_CODMUN "
	cQuery +=       " AND CC22.D_E_L_E_T_ = ? " // 23
	cQuery += " WHERE "
	cQuery +=       " RA_FILIAL  BETWEEN ? AND ? "  // 24 e 25     
	cQuery +=       " AND RA_CC   BETWEEN ? AND ? " // 26 e 27      
	cQuery +=       " AND RA_MAT  BETWEEN ? AND ? " // 28 e 29
    cQuery +=       " AND RA_NOME BETWEEN ? AND ? " // 30 e 31              
	cQuery +=       IIf(Len(aSituacoes) > 0, " AND RA_SITFOLH IN (?)", " ")          // 32  
	cQuery +=       IIf(Len(aCategorias)> 0, " AND RA_CATFUNC IN (?) ", " ")         // 33
	cQuery +=       IIf(Len(cProcesso)> 0, " AND RA_PROCES IN (?) ", " ")            // 34
	cQuery +=       IIf(cPeriodo == "1" , " AND RA_ADMISSA  BETWEEN ? AND ?", " ")   // 35 e 36
    cQuery +=       " AND SRA.D_E_L_E_T_ = ? "                                       
    cQuery +=       " ? "                                                            

	
	cQuery := ChangeQuery(cQuery)
	oExec := FwExecStatement():New(cQuery)

    // Captura e define os campos personalizados das tabelas SRA, CTT, SRJ, SQ3, SQB, RCE, SR6
    cCustomFields := GPESmartViewUtils():GetCustomFields(self:getCustomFields(), {"SRA", "CTT", "SRJ", "SQ3", "SQB", "RCE", "SR6"})
    oExec:SetUnsafe(nParamOrder++, IIf(!Empty(cCustomFields), "," + cCustomFields, "")) // 1

    // Define o valor dos bind parameters
    oExec:SetString(nParamOrder++, "26") // 2
    oExec:SetString(nParamOrder++, " ")  // 3
    oExec:SetString(nParamOrder++, "34") // 4
    oExec:SetString(nParamOrder++, " ")  // 5
    oExec:SetString(nParamOrder++, "33") // 6
    oExec:SetString(nParamOrder++, " ")  // 7
    oExec:SetString(nParamOrder++, "FF") // 8
    oExec:SetString(nParamOrder++, " ")  // 9
    oExec:SetString(nParamOrder++, " ")  // 10
    oExec:SetString(nParamOrder++, " ")  // 11
    oExec:SetString(nParamOrder++, " ")  // 12
    oExec:SetString(nParamOrder++, " ")  // 13
    oExec:SetString(nParamOrder++, " ")  // 14
    oExec:SetString(nParamOrder++, " ")  // 15
    oExec:SetString(nParamOrder++, " ")  // 16
    oExec:SetString(nParamOrder++, " ")  // 17
    oExec:SetString(nParamOrder++, " ")  // 18
    oExec:SetString(nParamOrder++, " ")  // 19
    oExec:SetString(nParamOrder++, " ")  // 20
    oExec:SetString(nParamOrder++, " ")  // 21
    oExec:SetString(nParamOrder++, " ")  // 22
    oExec:SetString(nParamOrder++, " ")  // 23

	// 24 e 25
	oExec:SetString(nParamOrder++, cFilialDe)          
    oExec:SetString(nParamOrder++, cFilialAte)       

	// 26 e 27
	oExec:SetString(nParamOrder++, cCCDe)              
    oExec:SetString(nParamOrder++, cCCAte)        

	// 28 e 29
	oExec:SetString(nParamOrder++, cMatDe)              
    oExec:SetString(nParamOrder++, cMatAte)    

	// 30 e 31
	oExec:SetString(nParamOrder++, cNomeDe)              
    oExec:SetString(nParamOrder++, cNomeAte)      

	// 32
    If (Len(aSituacoes) > 0)
		oExec:SetIn(nParamOrder++, aSituacoes) 
	EndIf

	// 33
    If (Len(aCategorias) > 0)
		oExec:SetIn(nParamOrder++, aCategorias) 
	EndIf

	// 34
	If (Len(cProcesso) > 0)
		oExec:SetString(nParamOrder++, cProcesso)  
	EndIf

	// 35 e 36
	IF  cPeriodo == "1" 
		oExec:SetString(nParamOrder++, cDataIni)
		oExec:SetString(nParamOrder++, cDataFim)
	Endif

    oExec:SetString(nParamOrder++, " ")     
    oExec:SetUnsafe(nParamOrder++, cFiltro) 

	cAlias := oExec:OpenAlias()

	dBSelectArea("SRA")
	dbSetOrder(1)

	// Percorre todos os registros
	While (!(cAlias)->(EOF()))

		jRegistros["TAREFAS"] := {}
		jRegistros["SALARIOS"] := {}
		jRegistros["AFASTAMENTOS"] := {}
		jRegistros["FERIAS"] := {}
		jRegistros["DEPENDENTES"] := {}
		jRegistros["BENEFICIARIOS"] := {}
		jRegistros["CONTRIBUICOES_SIN"] := {}
		jRegistros["CONTRIBUICOES_ASS"] := {}
		jRegistros["TRANSFERENCIA"] := {}
		jRegistros["TREINAMENTO"] := {}
		jRegistros["CURSO"] := {}
		jRegistros["CONVOCACOES"] := {}

		SRA->(DbGoTo( (cAlias)->REGSRA))

		If (Eval(cAcessaSRA) .and. (cAlias)->RA_FILIAL $ cValidFil)		

			If  (cAlias)->RA_FILIAL # cFilAnterior
				cFilAnterior := (cAlias)->RA_FILIAL	
				fInfo(@aInfo,(cAlias)->RA_FILIAL)
			Endif		
	
			aTar := {}
			aSal := {}
			// Alterações Salariais 1 - Sim, 2 - Não
			If (cAltSal == '1') 
				aTar := fImpTarefas(cAlias, cImpSalTar, aTarefas, dDataIni, dDataFim)				

				// Se for professor ou taefeiro imprime as tarefas
				if Len(aTar) > 0
					For nAux := 1 To Len(aTar)
						AAdd(jRegistros["TAREFAS"], {;
								"TIPO":         aTar[nAux][1]   ,; 
								"DATA_DE":      aTar[nAux][2]   ,;
								"DATA_ATE":     aTar[nAux][3]   ,;
								"TAREFA":       aTar[nAux][4]   ,;
								"AULA_SEMANA":  aTar[nAux][5]   ,;
								"Q_TAREFA":     aTar[nAux][6]   ,;
								"VLR_UNITARIO": aTar[nAux][7]   ,;
								"VLR_TOTAL":    aTar[nAux][8]   ; 
							})
					Next nAux				
				Endif

				aSal := fImpSal(cAlias, cImpSalTar, dDataIni, dDataFim) 

				// Verifica se houve alterações salariais
				if Len(aSal) > 0
					For nAux := 1 To Len(aSal)
						AAdd(jRegistros["SALARIOS"], {;
								"DATA":          aSal[nAux][1]   ,; 
								"DESC_AUMENTO":  aSal[nAux][2]   ,;
								"CATEGORIA":     aSal[nAux][3]   ,;
								"PAGAMENTO":     aSal[nAux][4]   ,;
								"VERBA":         aSal[nAux][5]   ,;
								"VALOR":         aSal[nAux][6]   ,;
								"FUNCAO":        aSal[nAux][7]   ,;
								"CARGO":         aSal[nAux][8]   ,; 
								"CHAVE":         aSal[nAux][9]   ,; 
								"DATA_DISSIDIO": aSal[nAux][10]   ; 
							})
					Next nAux
				Endif
			Endif

			aAfast := {}
			// Afastamentos 1 - Sim, 2 - Não
			if (cAfast == '1')
				aAfast := fImpAfas(cAlias, dDataIni, dDataFim)

				// Verifica se houve afastamentos
				if Len(aAfast) > 0
					For nAux := 1 To Len(aAfast)
						AAdd(jRegistros["AFASTAMENTOS"], {;
								"DATA":          aAfast[nAux][1]   ,; 
								"TIPO":          aAfast[nAux][2]   ,;
								"DATA_INICIO":   aAfast[nAux][3]   ,;
								"DATA_FIM":      aAfast[nAux][4]   ;								
							})
					Next nAux
				Endif
			Endif

			aFer := {}
			// Férias 1 - Sim, 2 - Não
			if (cFerias  == '1')
				aFer := fImpFerias(cAlias, dDataIni, dDataFim, cDiasLicFerias)

				// Verifica se houve férias
				if Len(aFer) > 0
					For nAux := 1 To Len(aFer)
						AAdd(jRegistros["FERIAS"], {;
								"PER_AQUISITIVO": aFer[nAux][1]   ,; 
								"PER_FERIAS":     aFer[nAux][2]   ,;
								"DATA_AVISO":     aFer[nAux][3]   ,;
								"DATA_PGTO":      aFer[nAux][4]   ,;	
								"D_FERIAS":       aFer[nAux][5]   ,;	
								"D_ABONO":        aFer[nAux][6]   ,;	
								"D_LIC_REM":      aFer[nAux][7]   ;
							})
					Next nAux
				Endif
			Endif

			aDep := {}
			// Dependentes
			if (cDepen == '1')
				aDep := fImpDep(cAlias)

				// Verifica se tem dependentes
				if Len(aDep) > 0
					For nAux := 1 To Len(aDep)
						AAdd(jRegistros["DEPENDENTES"], {;
								"COD":          aDep[nAux][1]   ,; 
								"DEPENDENTE":   aDep[nAux][2]   ,;
								"DT_NASC":      aDep[nAux][3]   ,;
								"SEXO":         aDep[nAux][4]   ,;	
								"PARENTESCO":   aDep[nAux][5]   ,;	
								"DEP_IR":       aDep[nAux][6]   ,;	
								"DEP_SALF":     aDep[nAux][7]   ;
							})
					Next nAux
				Endif
			endif

			aBenefic := {}
			//  Beneficiarios
			if (cBenefic == '1')
				aBenefic := fImpBenef(cAlias)

				// Verifica se tem beneficiario
				if Len(aBenefic) > 0
					For nAux := 1 To Len(aBenefic)
						AAdd(jRegistros["BENEFICIARIOS"], {;
								"COD":          aBenefic[nAux][1]   ,; 
								"BENEFICIARIO": aBenefic[nAux][2]   ;
							})
					Next nAux
				Endif
			endif

			// Contribuição Sindical ou Assistencial
			If (cContribSind == '1' .or. cContribAss == '1')
				aConSin := fImpContrib(cAlias, dDataIni, dDataFim)

				If len(aConSin) > 0

					aAux:=aClone(aConSin)

					aConSin := {}
					aConAss := {}

					aAdd(aConSin, aClone( aAux[1] ) )
					aAdd(aConAss, aClone( aAux[1] ) )

					Aeval(aAux,{|X| If(x[Len(X)] == "A", aAdd(aConAss, aClone(X) ), aAdd(aConSin, aClone(X)) )}, 2 )

					aSort( aConSin,2,,{ |x,y| Ctod(x[1]) < Ctod(y[1]) } )
					aSort( aConAss,2,,{ |x,y| Ctod(x[1]) < Ctod(y[1]) } )
				EndIf

				// Contribuição Assistencial
				If(cContribAss == '1')
					if Len(aConAss) > 0
						For nAux := 1 To Len(aConAss)
							AAdd(jRegistros["CONTRIBUICOES_ASS"], {;
									"DATA":          aConAss[nAux][1]   ,; 
									"MES":           aConAss[nAux][2]   ,;
									"VALOR":         aConAss[nAux][3]   ,; 
									"SINDICATO":     aConAss[nAux][4]   ;
								})
						Next nAux
					Endif
				Endif

				// Contribuição Sindical
				If(cContribSind == '1')
					if Len(aConSin) > 0
						For nAux := 1 To Len(aConSin)
							AAdd(jRegistros["CONTRIBUICOES_SIN"], {;
									"DATA":          aConSin[nAux][1]   ,; 
									"MES":           aConSin[nAux][2]   ,;
									"VALOR":         aConSin[nAux][3]   ,; 
									"SINDICATO":     aConSin[nAux][4]   ;
								})
						Next nAux
					Endif
				EndiF
			EndIf 

			aTransf := {}
			If(cTransf == '1' .or. cTransf == '2')
				aTransf := fImpTra(dDataIni, dDataFim, cTransf, cImpDescFil)			

				if Len(aTransf) > 0
						For nAux := 1 To Len(aTransf)						
								AAdd(jRegistros["TRANSFERENCIA"], {;
									"TIPO":          aTransf[nAux][1]   ,; 
									"DATA":          aTransf[nAux][2]   ,;
									"MAT_CC":        aTransf[nAux][3]   ,; 
									"FILIAL":        aTransf[nAux][4]   ,;
									"CGC_ENDERECO":  aTransf[nAux][5]   ,;
									"BAIRRO_CD_UF":  aTransf[nAux][6]   ;
								})							
						Next nAux
				Endif
			Endif

			aTrei := {}
			aCurso := {}
			//treinamentos
			If (cImpTrein == '1')
				aTrei := fImpTrei(cAlias, dDataIni, dDataFim)
				aCurso := fImpCurso(cAlias, dDataIni, dDataFim)

				if Len(aTrei) > 0
						For nAux := 1 To Len(aTrei)						
								AAdd(jRegistros["TREINAMENTO"], {;
									"CURSO":          aTrei[nAux][1]   ,; 
									"DESCRICAO":      aTrei[nAux][2]   ,;
									"DT_INICIAL":     aTrei[nAux][3]   ,; 
									"DT_FINAL":       aTrei[nAux][4]   ,;
									"VALIDADE":       aTrei[nAux][5]   ;										
								})							
						Next nAux
				Endif

				if Len(aCurso) > 0
						For nAux := 1 To Len(aCurso)						
								AAdd(jRegistros["CURSO"], {;
									"CURSO":          aCurso[nAux][1]   ,; 
									"DESCRICAO":      aCurso[nAux][2]   ,;
									"DT_INICIAL":     aCurso[nAux][3]   ,; 
									"DT_FINAL":       aCurso[nAux][4]   ,;
									"VALIDADE":       aCurso[nAux][5]   ;										
								})							
						Next nAux
				Endif
			EndIF

			aConvoca := {}
			If (cAlias)->RA_TPCONTR == "3" // Funcionário intermitente
				aConvoca := fImpConvoc(cAlias, cDataIni, cDataFim)

				if Len(aConvoca) > 0
						For nAux := 1 To Len(aConvoca)						
								AAdd(jRegistros["CONVOCACOES"], {;
									"DT_CONVOC":      aConvoca[nAux][1]   ,; 
									"INIC_ATIV":      aConvoca[nAux][2]   ,;
									"FIM_ATIV":       aConvoca[nAux][3]   ,; 
									"COD_ESOCIAL":    aConvoca[nAux][4]   ,;
									"SALARIO":        aConvoca[nAux][5]   ,;	
									"FUNCAO":         aConvoca[nAux][6]   ;										
								})							
						Next nAux
				Endif
			EndIf

			// Imprime Salário Atual
			If (cImpSalAtual == '1')
				nSal := (cAlias)->RA_SALARIO
			Else	
				nSal := fSalAdm(cAlias, dDataIni, dDataFim)
			EndIf

			If (cAlias)->RA_BRPDH =="1"
				cBRPDH = "1 - "+OemtoAnsi(STR0010) // "Beneficiário Reabilitado"
			Elseif (cAlias)->RA_BRPDH =="2"
				cBRPDH = "2 - "+OemtoAnsi(STR0011) // "Portador Deficiência Habilitado" 
			Elseif (cAlias)->RA_BRPDH =="3"
				cBRPDH = "3 - "+OemtoAnsi(STR0012) // "Não Aplicável"
			Else
				cBRPDH = ""
			EndIf

			If (cAlias)->RA_RACACOR == "1"
				cRacaCor = "1 - "+OemtoAnsi(STR0013) // "Indígena"
			ElseIf (cAlias)->RA_RACACOR == "2"
				cRacaCor = "2 - "+OemtoAnsi(STR0014) // "Branca"
			ElseIf (cAlias)->RA_RACACOR == "4"
				cRacaCor = "4 - "+OemtoAnsi(STR0015) // "Preta"
			ElseIf (cAlias)->RA_RACACOR == "6"
				cRacaCor = "6 - "+OemtoAnsi(STR0016) // "Amarela"
			ElseIf (cAlias)->RA_RACACOR == "8"
				cRacaCor = "8 - "+OemtoAnsi(STR0017) // "Parda"
			ElseIf (cAlias)->RA_RACACOR == "9"
				cRacaCor = "9 - "+OemtoAnsi(STR0018) // "Não Informado"
			Else
				cRacaCor = OemtoAnsi(STR0019) // "Anonimizado"
			EndIf

			If (cAlias)->RA_TPDEFFI == "0"
				cTipoDefi = "0 - "+OemtoAnsi(STR0020) // "Não é portador de deficiência"	 
			ElseIf (cAlias)->RA_TPDEFFI == "1"
				cTipoDefi = "1 -"+OemtoAnsi(STR0021) // "Física"
			ElseIf (cAlias)->RA_TPDEFFI == "2"
				cTipoDefi = "2 - "+OemtoAnsi(STR0022) // "Auditiva"
			ElseIf (cAlias)->RA_TPDEFFI == "3"
				cTipoDefi = "3 - "+OemtoAnsi(STR0023) // "Visual"
			ElseIf (cAlias)->RA_TPDEFFI == "4"
				cTipoDefi = "4 - "+OemtoAnsi(STR0024) // "Intelectual (Mental)"
			ElseIf (cAlias)->RA_TPDEFFI == "5"
				cTipoDefi = "5 - "+OemtoAnsi(STR0025) // "Múltipla"
			ElseIf (cAlias)->RA_TPDEFFI == "6"
				cTipoDefi = "6 - "+OemtoAnsi(STR0026)// "Reabilitado"
			Else
				cTipoDefi = ""
			EndIf

			If (cAlias)->RA_TPREINT == "1"
				cTpReinESoc = "1 - "+OemtoAnsi(STR0027) // "Reintegração por Determinação Judicial"
			ElseIf (cAlias)->RA_TPREINT == "2"
				cTpReinESoc = "2 - "+OemtoAnsi(STR0028)// "Reintegração por Anistia Legal"
			ElseIf (cAlias)->RA_TPREINT == "3"
				cTpReinESoc = "3 - "+OemtoAnsi(STR0029) // "Reversão de Servidor Público"
			ElseIf (cAlias)->RA_TPREINT == "4"
				cTpReinESoc = "4 - "+OemtoAnsi(STR0030) // "Recondução de Servidor Público"
			ElseIf (cAlias)->RA_TPREINT == "5"
				cTpReinESoc = "5 - "+OemtoAnsi(STR0031) // "Reinclusão de Militar"
			ElseIf (cAlias)->RA_TPREINT == "9"
				cTpReinESoc = "9 - "+OemtoAnsi(STR0032) // "Outros"
			Else
				cTpReinESoc = ""
			EndIf

			If (cAlias)->RA_TPJORNA == "1"
				cTpRegTra = "1 - "+OemtoAnsi(STR0033) // "Submetidos a Horário de Trabalho"
			ElseIf (cAlias)->RA_TPJORNA == "2"
				cTpRegTra = "2 - "+OemtoAnsi(STR0034) // "Atividade Externa especificada"
			ElseIf (cAlias)->RA_TPJORNA == "3"
				cTpRegTra= "3 - "+OemtoAnsi(STR0035) // "Funções especificadas"
			ElseIf (cAlias)->RA_TPJORNA == "4"
				cTpRegTra= "4 - "+OemtoAnsi(STR0036) // "Teletrabalho"
			Else
				cTpRegTra= ""
			EndIf

			If (cAlias)->RA_ADCINS == "1"
				cPossuiInsalubridade = "1 - "+OemtoAnsi(STR0037)// "Não"
			ElseIf (cAlias)->RA_ADCINS == "2"
				cPossuiInsalubridade = "2 - "+OemtoAnsi(STR0038)// "Insalubridade Mínima"
			ElseIf (cAlias)->RA_ADCINS == "3"
				cPossuiInsalubridade = "3 - "+OemtoAnsi(STR0039)// "Insalubridade Média"
			ElseIf (cAlias)->RA_ADCINS == "4"
				cPossuiInsalubridade = "4 - "+OemtoAnsi(STR0040)// "Insalubridade Máxima"
			Else
				cPossuiInsalubridade = ""
			EndIf

			If (cAlias)->RA_TPCONTR == "1"
				cTpContr = "1 - "+OemtoAnsi(STR0041)
			Elseif (cAlias)->RA_TPCONTR == "2"
				cTpContr = "2 - "+OemtoAnsi(STR0042)
			Elseif (cAlias)->RA_TPCONTR == "3"
				cTpContr = "3 - "+OemtoAnsi(STR0043)
			Else
				cTpContr = ""
			Endif	
				
			// Adiciona as informações do funcionário
			
				jData["OriginPlatform"]  := "Protheus"

				// Dados da Empresa
				jData["RA_EMPRESA"]      := Left(AllTrim(aInfo[3]),60)
				jData["RA_FILIAL"]       := Trim(IIf(jLGPD["RA_FILIAL"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_FILIAL),       (cAlias)->RA_FILIAL))
				jData["RA_CNPJ"]         := Transform(aInfo[8],"@R ##.###.###/####-##")
				jData["RA_CNAE"]         := aInfo[16]
				jData["RA_END_EMP"]      := alltrim(aInfo[4]) + " - " + If(len( AllTrim( ainfo[14] ) ) > 0  , AllTrim( aInfo[14] ) + " - " + AllTrim( aInfo[13] ), AllTrim( aInfo[13] ) )
				jData["RA_CEP_EMP"]      := Transform(aInfo[7],"@R #####-###")   
				jData["RA_CIDADEUF_EMP"] := alltrim(aInfo[5]) + " - " + aInfo[6]
				jData["RA_CODMUN_EMP"]   := aInfo[19]

				// Dados Cadastrais
				jData["RA_BITMAP"]       := Trim(IIf(jLGPD["RA_BITMAP"],   FwProtectedDataUtil():ValueAsteriskToAnonymize(''),                        Iif(SRA->RA_BITMAP != '', fRetornaImagem(AllTrim(SRA->RA_BITMAP)), '')))
				jData["RA_FICHA"]        := Trim(IIf(jLGPD["RA_FICHA"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_FICHA),        (cAlias)->RA_FICHA))
				jData["RA_MAT"]          := Trim(IIf(jLGPD["RA_MAT"],      FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_MAT),          (cAlias)->RA_MAT))
				jData["RA_NOMECMP"]      := Trim(IIf(jLGPD["RA_NOMECMP"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NOMECMP),      (cAlias)->RA_NOMECMP))
				jData["RA_NOME"]         := Trim(IIf(jLGPD["RA_NOME"],     FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NOME),         (cAlias)->RA_NOME))
				jData["RA_APELIDO"]      := Trim(IIf(jLGPD["RA_APELIDO"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_APELIDO),      (cAlias)->RA_APELIDO))
				jData["RA_PAI"]          := Trim(IIf(jLGPD["RA_PAI"],      FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_PAI),          (cAlias)->RA_PAI))
				jData["RA_MAE"]          := Trim(IIf(jLGPD["RA_MAE"],      FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_MAE),          (cAlias)->RA_MAE))
				jData["RA_NASC"]         := IIf(!Empty((cAlias)->RA_NASC),    SubStr(FwTimeStamp(2, SToD((cAlias)->RA_NASC)),     1, 10), "")
				jData["RA_ALTNASC"]      := Trim(IIf(jLGPD["RA_ALTNASC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ALTNASC == 'S', STR0051, Iif((cAlias)->RA_ALTNASC == 'N', STR0037, ''))),      Iif((cAlias)->RA_ALTNASC == 'S', STR0051, Iif((cAlias)->RA_ALTNASC == 'N', STR0037, ''))))
				jData["RA_CODMUNN"]      := Trim(IIf(jLGPD["RA_CODMUNN"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CODMUNN),      (cAlias)->RA_CODMUNN))
				jData["RA_MUNNASC"]      := Trim(IIf(jLGPD["RA_MUNNASC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_MUNNASC),      (cAlias)->RA_MUNNASC))
				jData["RA_ESTCIVI"]      := Trim(IIf(jLGPD["RA_ESTCIVI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_ESTCIVI),      (cAlias)->RA_ESTCIVI))
				jData["DESCESTCIVIL"]    := Trim(IIf(jLGPD["DESCESTCIVIL"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->DESCESTCIVIL),    (cAlias)->DESCESTCIVIL))
				jData["RA_SEXO"]         := Trim(IIf(jLGPD["RA_SEXO"],     FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_SEXO == 'F', STR0053,  Iif((cAlias)->RA_SEXO == 'M', STR0052, ''))), Iif((cAlias)->RA_SEXO == 'F', STR0051,  Iif((cAlias)->RA_SEXO == 'M', STR0052, ''))))
				jData["RA_NATURAL"]      := Trim(IIf(jLGPD["RA_NATURAL"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NATURAL),      (cAlias)->RA_NATURAL))
				jData["RA_NACIONA"]      := Trim(IIf(jLGPD["RA_NACIONA"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NACIONA),      (cAlias)->RA_NACIONA))
				jData["DESCNACIONAL"]    := Trim(IIf(jLGPD["X5_DESCRI"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->DESCNACIONAL),    (cAlias)->DESCNACIONAL))
				jData["RA_GRINRAI"]      := Trim(IIf(jLGPD["RA_GRINRAI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_GRINRAI),      (cAlias)->RA_GRINRAI))
				jData["X5_DESC_GRINRAI"] := Trim(IIf(jLGPD["X5_DESC_GRINRAI"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->X5_DESC_GRINRAI), (cAlias)->X5_DESC_GRINRAI))
				jData["RA_RACACOR"]      := Trim(IIf(jLGPD["RA_RACACOR"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(cRacaCor),                  cRacaCor))
				jData["RA_ALTNOME"]      := Trim(IIf(jLGPD["RA_ALTNOME"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ALTNOME == 'S', STR0051, Iif((cAlias)->RA_ALTNOME == 'N', STR0037, ''))),      Iif((cAlias)->RA_ALTNOME == 'S', STR0051, Iif((cAlias)->RA_ALTNOME == 'N', STR0037, ''))))
				jData["RA_BRPDH"]        := Trim(IIf(jLGPD["RA_BRPDH"],    FwProtectedDataUtil():ValueAsteriskToAnonymize(cBRPDH),                    cBRPDH))
				jData["RA_DEFIFIS"]      := Trim(IIf(jLGPD["RA_DEFIFIS"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_DEFIFIS == '1', STR0051,  Iif((cAlias)->RA_DEFIFIS == '2', STR0037, ''))), Iif((cAlias)->RA_DEFIFIS == '1', STR0051,  Iif((cAlias)->RA_DEFIFIS == '2', STR0037, ''))))
				jData["RA_CTPCD"]        := Trim(IIf(jLGPD["RA_CTPCD"],    FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_CTPCD == '1', STR0051,  Iif((cAlias)->RA_CTPCD == '2', STR0037, ''))), Iif((cAlias)->RA_CTPCD == '1', STR0051,  Iif((cAlias)->RA_CTPCD == '2', STR0037, ''))))
				jData["RA_TPDEFFI"]      := Trim(IIf(jLGPD["RA_TPDEFFI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(cTipoDefi),                 cTipoDefi))
				jData["RA_PORTDEF"]      := Trim(IIf(jLGPD["RA_PORTDEF"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_PORTDEF),      (cAlias)->RA_PORTDEF))
				jData["RA_OBSDEFI"]      := Trim(IIf(jLGPD["RA_OBSDEFI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(SRA->RA_OBSDEFI),           SRA->RA_OBSDEFI))
				jData["RA_BLOQADM"]      := Trim(IIf(jLGPD["RA_BLOQADM"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_BLOQADM == '1', STR0051,  Iif((cAlias)->RA_BLOQADM == '2', STR0037, ''))), Iif((cAlias)->RA_BLOQADM == '1', STR0051,  Iif((cAlias)->RA_BLOQADM == '2', STR0037, ''))))
				jData["RA_CPAISOR"]      := Trim(IIf(jLGPD["RA_CPAISOR"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CPAISOR),      (cAlias)->RA_CPAISOR))
				jData["CCH_PAIS_ORIGEM"] := Trim(IIf(jLGPD["CCH_PAIS"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->CCH_PAIS_ORIGEM), (cAlias)->CCH_PAIS_ORIGEM))
				jData["RA_NACIONC"]      := Trim(IIf(jLGPD["RA_NACIONC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NACIONC),      (cAlias)->RA_NACIONC))
				jData["CCH_PAIS_RFB"]    := Trim(IIf(jLGPD["CCH_PAIS"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->CCH_PAIS_RFB),    (cAlias)->CCH_PAIS_RFB))
				jData["RA_EMAIL"]        := Trim(IIf(jLGPD["RA_EMAIL"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_EMAIL),        (cAlias)->RA_EMAIL))
				jData["RA_EMAIL2"]       := Trim(IIf(jLGPD["RA_EMAIL2"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_EMAIL2),       (cAlias)->RA_EMAIL2))
				jData["RA_RECMAIL"]      := Trim(IIf(jLGPD["RA_EMAIL2"],   FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_RECMAIL == 'S', STR0051, Iif((cAlias)->RA_RECMAIL == 'N', STR0037, ''))), Iif((cAlias)->RA_RECMAIL == 'S', STR0051, Iif((cAlias)->RA_RECMAIL == 'N', STR0037, ''))))
				jData["RA_TPMAIL"]       := Trim(IIf(jLGPD["RA_TPMAIL"],   FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_TPMAIL == '1', STR0062,  Iif((cAlias)->RA_TPMAIL == '2', STR0063, ''))), Iif((cAlias)->RA_TPMAIL == '1', STR0062,  Iif((cAlias)->RA_TPMAIL == '2', STR0063, '')))) // Html, Texto
				jData["RA_BRNASEX"]      := Trim(IIf(jLGPD["RA_BRNASEX"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_BRNASEX == '1', STR0051,  Iif((cAlias)->RA_BRNASEX == '2', STR0037, ''))), Iif((cAlias)->RA_BRNASEX == '1', STR0051,  Iif((cAlias)->RA_BRNASEX == '2', STR0037, ''))))
				
					// Contato
				jData["RA_TELEFON"]      := Trim(IIf(jLGPD["RA_TELEFON"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TELEFON),      (cAlias)->RA_TELEFON))
				jData["RA_DDDFONE"]      := Trim(IIf(jLGPD["RA_DDDFONE"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_DDDFONE),      (cAlias)->RA_DDDFONE))
				jData["RA_DDDCELU"]      := Trim(IIf(jLGPD["RA_DDDCELU"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_DDDCELU),      (cAlias)->RA_DDDCELU))
				jData["RA_NUMCELU"]      := Trim(IIf(jLGPD["RA_NUMCELU"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NUMCELU),      (cAlias)->RA_NUMCELU))

				//Dados Funcionais
				jData["RA_CC"]           := Trim(IIf(jLGPD["RA_CC"],       FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CC),           (cAlias)->RA_CC))
				jData["CTT_CC"]          := Trim(IIf(jLGPD["CTT_DESC01"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->CTT_CC),          (cAlias)->CTT_CC))
				jData["RA_CODFUNC"]      := Trim(IIf(jLGPD["RA_CODFUNC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CODFUNC),      (cAlias)->RA_CODFUNC))
				jData["RJ_DESFUNC"]      := Trim(IIf(jLGPD["RJ_DESFUNC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RJ_DESFUNC),      (cAlias)->RJ_DESFUNC))
				jData["RA_CARGO"]        := Trim(IIf(jLGPD["RA_CARGO"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CARGO),        (cAlias)->RA_CARGO))
				jData["Q3_DESC_CARGO"]   := Trim(IIf(jLGPD["Q3_DESCSUM"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->Q3_DESC_CARGO),   (cAlias)->Q3_DESC_CARGO))
				jData["RA_PROCES"]       := Trim(IIf(jLGPD["RA_PROCES"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_PROCES),       (cAlias)->RA_PROCES))
				jData["RA_DEPTO"]        := Trim(IIf(jLGPD["RA_DEPTO"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_DEPTO),        (cAlias)->RA_DEPTO))
				jData["QB_DESC_DEPTO"]   := Trim(IIf(jLGPD["QB_DESCRIC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->QB_DESC_DEPTO),   (cAlias)->QB_DESC_DEPTO))
				jData["RA_SINDICA"]      := Trim(IIf(jLGPD["RA_SINDICA"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_SINDICA),      (cAlias)->RA_SINDICA))
				jData["RCE_SINDICA"]     := Trim(IIf(jLGPD["RCE_SINDICA"], FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RCE_SINDICA),     (cAlias)->RCE_SINDICA))
				jData["RA_PGCTSIN"]      := Trim(IIf(jLGPD["RA_PGCTSIN"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_PGCTSIN == 'S', STR0051, Iif((cAlias)->RA_PGCTSIN == 'N',STR0037, ''))), Iif((cAlias)->RA_PGCTSIN == 'S', STR0051, Iif((cAlias)->RA_PGCTSIN == 'N', STR0037, ''))))
				jData["RA_MENSIND"]      := Trim(IIf(jLGPD["RA_MENSIND"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_MENSIND == '1', STR0051, Iif((cAlias)->RA_MENSIND == '2', STR0037, ''))), Iif((cAlias)->RA_MENSIND == '1', STR0051, Iif((cAlias)->RA_MENSIND == '2', STR0037, ''))))
				jData["RA_POSTO"]        := Trim(IIf(jLGPD["RA_POSTO"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_POSTO),     (cAlias)->RA_POSTO))
				jData["RA_ADMISSA"]      := IIf(!Empty((cAlias)->RA_ADMISSA), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_ADMISSA)),  1, 10), "")
				jData["RA_TIPOADM"]      := Trim(IIf(jLGPD["RA_TIPOADM"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TIPOADM),      (cAlias)->RA_TIPOADM))
				jData["RA_ALTADM"]       := Trim(IIf(jLGPD["RA_ALTADM"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ALTADM == 'S', STR0051, Iif((cAlias)->RA_ALTADM == 'N', STR0037, ''))), Iif((cAlias)->RA_ALTADM == 'S', STR0051, Iif((cAlias)->RA_ALTADM == 'N', STR0037, ''))))
				jData["RA_DEMISSA"]      := IIf(!Empty((cAlias)->RA_DEMISSA), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DEMISSA)),  1, 10), "")
				jData["RA_DEMIANT"]      := IIf(!Empty((cAlias)->RA_DEMIANT), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DEMIANT)),  1, 10), "")
				jData["RA_SITFOLH"]      := Trim(IIf(jLGPD["RA_SITFOLH"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_SITFOLH),      (cAlias)->RA_SITFOLH))
				jData["RA_AUTMEI"]       := Trim(IIf(jLGPD["RA_AUTMEI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_AUTMEI == '1', STR0051, Iif((cAlias)->RA_AUTMEI == '2', STR0037, ''))), Iif((cAlias)->RA_AUTMEI == '1', STR0051, Iif((cAlias)->RA_AUTMEI == '2', STR0037, ''))))
				jData["RA_OPCAO"]        := IIf(!Empty((cAlias)->RA_OPCAO),   SubStr(FwTimeStamp(2, SToD((cAlias)->RA_OPCAO)),    1, 10), "")
				jData["RA_BCDPFGT"]      := Trim(IIf(jLGPD["RA_BCDPFGT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_BCDPFGT),      (cAlias)->RA_BCDPFGT))
				jData["RA_CTDPFGT"]      := Trim(IIf(jLGPD["RA_CTDPFGT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CTDPFGT),      (cAlias)->RA_CTDPFGT))
				jData["RA_AFASFGT"]      := Trim(IIf(jLGPD["RA_AFASFGT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_AFASFGT),      (cAlias)->RA_AFASFGT))
				jData["RA_PERFGTS"]      := IIf(jLGPD["RA_PERFGTS"], 0, (cAlias)->RA_PERFGTS)
				jData["RJ_CODCBO"]       := Trim(IIf(jLGPD["RJ_CODCBO"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RJ_CODCBO),       (cAlias)->RJ_CODCBO))
				jData["RA_ALTCBO"]       := Trim(IIf(jLGPD["RA_ALTCBO"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ALTCBO == 'S', STR0051, Iif((cAlias)->RA_ALTCBO == 'N', STR0037, ''))), Iif((cAlias)->RA_ALTCBO == 'S', STR0051, Iif((cAlias)->RA_ALTCBO == 'N', STR0037, ''))))
				jData["RA_TPCTSAL"]      := Trim(IIf(jLGPD["RA_TPCTSAL"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_TPCTSAL == '1', STR0064, Iif((cAlias)->RA_TPCTSAL == '2', STR0065, ''))), Iif((cAlias)->RA_TPCTSAL == '1', STR0064, Iif((cAlias)->RA_TPCTSAL == '2', STR0065, '')))) // Conta Corrente, Conta Poupança
				jData["RA_BCDEPSA"]      := Trim(IIf(jLGPD["RA_BCDEPSA"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_BCDEPSA),      (cAlias)->RA_BCDEPSA))
				jData["RA_CTDEPSA"]      := Trim(IIf(jLGPD["RA_CTDEPSA"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CTDEPSA),      (cAlias)->RA_CTDEPSA))
				jData["RA_VCTOEXP"]      := IIf(!Empty((cAlias)->RA_VCTOEXP), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_VCTOEXP)),  1, 10), "")
				jData["RA_VCTEXP2"]      := IIf(!Empty((cAlias)->RA_VCTEXP2), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_VCTEXP2)),  1, 10), "")
				jData["RA_EXAMEDI"]      := IIf(!Empty((cAlias)->RA_EXAMEDI), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_EXAMEDI)),  1, 10), "")
				jData["RA_OCORREN"]      := Trim(IIf(jLGPD["RA_OCORREN"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_OCORREN),      (cAlias)->RA_OCORREN))
				jData["RA_HRSMES"]       := Trim(IIf(jLGPD["RA_HRSMES"],   FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_HRSMES)),  AllTrim(Str((cAlias)->RA_HRSMES))))
				jData["RA_HRSEMAN"]      := Trim(IIf(jLGPD["RA_HRSEMAN"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_HRSEMAN)), AllTrim(Str((cAlias)->RA_HRSEMAN))))
				jData["RA_HRSDIA"]       := Trim(IIf(jLGPD["RA_HRSDIA"],   FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_HRSDIA)),  AllTrim(Str((cAlias)->RA_HRSDIA))))
				jData["RA_FTINSAL"]      := IIf(jLGPD["RA_FTINSAL"], 0, (cAlias)->RA_FTINSAL)
				jData["RA_VIEMRAI"]      := Trim(IIf(jLGPD["RA_VIEMRAI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_VIEMRAI),      (cAlias)->RA_VIEMRAI))
				jData["RA_RESCRAI"]      := Trim(IIf(jLGPD["RA_RESCRAI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_RESCRAI),      (cAlias)->RA_RESCRAI))
				jData["RA_ALTOPC"]       := Trim(IIf(jLGPD["RA_ALTOPC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ALTOPC == 'S', STR0051, Iif((cAlias)->RA_ALTOPC == 'N', STR0037, ''))), Iif((cAlias)->RA_ALTOPC == 'S', STR0051, Iif((cAlias)->RA_ALTOPC == 'N', STR0037, ''))))
				jData["RA_SALARIO"]      := Trim(IIf(jLGPD["RA_SALARIO"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Str(nSal)), AllTrim(Str(nSal))))
				jData["RA_ANTEAUM"]      := Trim(IIf(jLGPD["RA_ANTEAUM"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_ANTEAUM)), AllTrim(Str((cAlias)->RA_ANTEAUM))))
				jData["RA_PERCADT"]      := IIf(jLGPD["RA_PERCADT"], 0, (cAlias)->RA_PERCADT)
				jData["RA_CATFUNC"]      := Trim(IIf(jLGPD["RA_CATFUNC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CATFUNC),      (cAlias)->RA_CATFUNC))
				jData["RA_TIPOPGT"]      := Trim(IIf(jLGPD["RA_ANTEAUM"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_TIPOPGT == 'S', STR0067, STR0066)), Iif((cAlias)->RA_TIPOPGT == 'S', STR0067, STR0067))) // Semanal, Mensal
				jData["RA_TPCONTR"]        := Trim(IIf(jLGPD["RA_TPCONTR"],    FwProtectedDataUtil():ValueAsteriskToAnonymize(cTpContr),                    cTpContr))
				jData["RA_CATEG"]        := Trim(IIf(jLGPD["RA_CATEG"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CATEG),        (cAlias)->RA_CATEG))
				jData["RA_CLAURES"]       := Trim(IIf(jLGPD["RA_CLAURES"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_CLAURES == '1', STR0051, Iif((cAlias)->RA_CLAURES == '2', STR0037, ''))), Iif((cAlias)->RA_CLAURES == '1', STR0051, Iif((cAlias)->RA_CLAURES == '2', STR0037, ''))))
				jData["RA_DTFIMCT"]      := IIf(!Empty((cAlias)->RA_DTFIMCT), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTFIMCT)),  1, 10), "")
				jData["RA_MESESAN"]      := Trim(IIf(jLGPD["RA_MESESAN"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_MESESAN)), AllTrim(Str((cAlias)->RA_MESESAN))))
				jData["RA_COMPSAB"]       := Trim(IIf(jLGPD["RA_COMPSAB"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_COMPSAB == '1', STR0051, Iif((cAlias)->RA_COMPSAB == '2', STR0037, ''))), Iif((cAlias)->RA_COMPSAB == '1', STR0051, Iif((cAlias)->RA_COMPSAB == '2', STR0037, ''))))
				jData["DESC_CODTIT"]     := Trim(IIf(jLGPD["DESC_CODTIT"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->DESC_CODTIT),     (cAlias)->DESC_CODTIT))
				jData["RA_DTVTEST"]      := IIf(!Empty((cAlias)->RA_DTVTEST), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTVTEST)),  1, 10), "")
				jData["RA_ASSIST"]       := Trim(IIf(jLGPD["RA_ASSIST"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ASSIST == '1', STR0051, Iif((cAlias)->RA_ASSIST == '2', STR0037, ''))), Iif((cAlias)->RA_ASSIST == '1', STR0051, Iif((cAlias)->RA_ASSIST == '2', STR0037, ''))))
				jData["RA_CONFED"]       := Trim(IIf(jLGPD["RA_CONFED"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_CONFED == '1', STR0051, Iif((cAlias)->RA_CONFED == '2', STR0037, ''))), Iif((cAlias)->RA_CONFED == '1', STR0051, Iif((cAlias)->RA_CONFED == '2', STR0037, ''))))
				jData["RA_MOLEST"]       := IIf(!Empty((cAlias)->RA_MOLEST),  SubStr(FwTimeStamp(2, SToD((cAlias)->RA_MOLEST)),   1, 10), "")
				jData["RA_HOPARC"]       := Trim(IIf(jLGPD["RA_HOPARC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_HOPARC == '1', STR0051, Iif((cAlias)->RA_HOPARC == '2', STR0037, ''))), Iif((cAlias)->RA_HOPARC == '1', STR0051, Iif((cAlias)->RA_HOPARC == '2', STR0037, ''))))
				jData["RA_TPPREVI"]       := Trim(IIf(jLGPD["RA_TPPREVI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_TPPREVI == '1', STR0069, Iif((cAlias)->RA_TPPREVI == '2', STR0070, Iif((cAlias)->RA_TPPREVI == '3', STR0071, '')))), Iif((cAlias)->RA_TPPREVI == '1', STR0069, Iif((cAlias)->RA_TPPREVI == '2', STR0070, Iif((cAlias)->RA_TPPREVI == '3', STR0071, ''))))) // RGPS, RPPS, RPPE
				jData["RA_NJUD14"]       := Trim(IIf(jLGPD["RA_NJUD14"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NJUD14),       (cAlias)->RA_NJUD14))
				jData["RA_DTEFRTN"]      := IIf(!Empty((cAlias)->RA_DTEFRTN), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTEFRTN)),  1, 10), "")
				jData["RA_CATEFD"]       := Trim(IIf(jLGPD["RA_CATEFD"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CATEFD),       (cAlias)->RA_CATEFD))
				jData["RA_EAPOSEN"]      := Trim(IIf(jLGPD["RA_EAPOSEN"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_EAPOSEN == '1', STR0051, Iif((cAlias)->RA_EAPOSEN == '2', STR0037, ''))), Iif((cAlias)->RA_EAPOSEN == '1', STR0051, Iif((cAlias)->RA_EAPOSEN == '2', STR0037, ''))))
				jData["RA_FECREI"]       := IIf(!Empty((cAlias)->RA_FECREI),  SubStr(FwTimeStamp(2, SToD((cAlias)->RA_FECREI)),   1, 10), "")
				jData["RA_TPREINT"]      := Trim(IIf(jLGPD["RA_TPREINT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(cTpReinESoc),               cTpReinESoc))
				jData["RA_NRPROC"]       := Trim(IIf(jLGPD["RA_NRPROC"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NRPROC),       (cAlias)->RA_NRPROC))
				jData["RA_NRLEIAN"]      := Trim(IIf(jLGPD["RA_NRLEIAN"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NRLEIAN),      (cAlias)->RA_NRLEIAN))
				jData["RA_DTCAGED"]      := IIf(!Empty((cAlias)->RA_DTCAGED), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTCAGED)),  1, 10), "")
				jData["RA_DTEFRET"]      := IIf(!Empty((cAlias)->RA_DTEFRET), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTEFRET)),  1, 10), "")
				jData["RA_HOJORVA"]      := Trim(IIf(jLGPD["RA_HOJORVA"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_HOJORVA == '1', STR0051, Iif((cAlias)->RA_HOJORVA == '2', STR0037, ''))), Iif((cAlias)->RA_HOJORVA == '1', STR0051, Iif((cAlias)->RA_HOJORVA == '2', STR0037, ''))))
				jData["RA_TIPOCON"]      := Trim(IIf(jLGPD["RA_TIPOCON"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_TIPOCON == '0', STR0068, Iif((cAlias)->RA_TIPOCON=='1', STR0072,' '))), Iif((cAlias)->RA_TIPOCON == '0', STR0068, Iif((cAlias)->RA_TIPOCON=='1', STR0072,' ')))) // Fixado em Dias,  Vinculado Ocorrência Fato
				jData["RA_TIPINF"]       := Trim(IIf(jLGPD["RA_TIPINF"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_TIPINF == '1', STR0051, Iif((cAlias)->RA_TIPINF == '2', STR0037, ''))), Iif((cAlias)->RA_TIPINF == '1', STR0051, Iif((cAlias)->RA_TIPINF == '2', STR0037, ''))))
				jData["RA_DTREC"]        := IIf(!Empty((cAlias)->RA_DTREC), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTREC)),  1, 10), "")
				jData["RA_TIPOVIA"]      := Trim(IIf(jLGPD["RA_TIPOVIA"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_TIPOVIA == '1', '1 - '+ STR0073, Iif((cAlias)->RA_TIPOVIA == '2', '2 - ' + STR0074, ''))), Iif((cAlias)->RA_TIPOVIA == '1', '1 - ' + STR0073, Iif((cAlias)->RA_TIPOVIA == '2', '2 - ' + STR0074, '')))) // Prazo indeterminado, Prazo determinado
				jData["RA_DTENTRA"]      := IIf(!Empty((cAlias)->RA_DTCAGED), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTENTRA)),  1, 10), "")
				jData["RA_PERCSAT"]      := IIf(jLGPD["RA_PERCSAT"], 0, (cAlias)->RA_PERCSAT)

				//Documentos
				jData["RA_CIC"]          := Trim(IIf(jLGPD["RA_CIC"],      FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CIC),          Transform((cAlias)->RA_CIC,"@R ###.###.###-##")))
				jData["RA_PIS"]          := Trim(IIf(jLGPD["RA_PIS"],      FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_PIS),          (cAlias)->RA_PIS))
				jData["RA_ALTPIS"]       := Trim(IIf(jLGPD["RA_ALTPIS"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ALTPIS == 'S', STR0051, Iif((cAlias)->RA_ALTPIS == 'N', STR0037, ''))), Iif((cAlias)->RA_ALTPIS == 'S', STR0051, Iif((cAlias)->RA_ALTPIS == 'N', STR0037, ''))))
				jData["RA_REGISTR"]      := Trim(IIf(jLGPD["RA_REGISTR"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_REGISTR),      (cAlias)->RA_REGISTR))
				jData["RA_RG"]           := Trim(IIf(jLGPD["RA_RG"],       FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_RG),           (cAlias)->RA_RG))
				jData["RA_RGORG"]        := Trim(IIf(jLGPD["RA_RGORG"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_RGORG),        (cAlias)->RA_RGORG))
				jData["RA_DTRGEXP"]      := IIf(!Empty((cAlias)->RA_DTRGEXP), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTRGEXP)),  1, 10), "")
				jData["RA_RGEXP"]        := Trim(IIf(jLGPD["RA_RGEXP"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_RGEXP),        (cAlias)->RA_RGEXP))
				jData["RA_RGUF"]         := Trim(IIf(jLGPD["RA_RGUF"],     FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_RGUF),         (cAlias)->RA_RGUF))
				jData["RA_ORGEMRG"]      := Trim(IIf(jLGPD["RA_ORGEMRG"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_ORGEMRG),      (cAlias)->RA_ORGEMRG))
				jData["RA_COMPLRG"]      := Trim(IIf(jLGPD["RA_COMPLRG"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_COMPLRG),      (cAlias)->RA_COMPLRG))
				jData["RA_CODIGO"]       := Trim(IIf(jLGPD["RA_CODIGO"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CODIGO),       (cAlias)->RA_CODIGO))
				jData["RA_RESERVI"]      := Trim(IIf(jLGPD["RA_RESERVI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_RESERVI),      (cAlias)->RA_RESERVI))
				jData["RA_NUMCP"]        := Trim(IIf(jLGPD["RA_NUMCP"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NUMCP),        (cAlias)->RA_NUMCP))
				jData["RA_SERCP"]        := Trim(IIf(jLGPD["RA_SERCP"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_SERCP),        (cAlias)->RA_SERCP))
				jData["RA_DTCPEXP"]      := IIf(!Empty((cAlias)->RA_DTCPEXP), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTCPEXP)),  1, 10), "")
				jData["RA_ALTCP"]        := Trim(IIf(jLGPD["RA_ALTCP"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ALTCP == 'S', STR0051, Iif((cAlias)->RA_ALTCP == 'N', STR0037, ''))), Iif((cAlias)->RA_ALTCP == 'S', STR0051, Iif((cAlias)->RA_ALTCP == 'N', STR0037, ''))))
				jData["RA_UFCP"]         := Trim(IIf(jLGPD["RA_UFCP"],     FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_UFCP),         (cAlias)->RA_UFCP))
				jData["RA_TITULOE"]      := Trim(IIf(jLGPD["RA_TITULOE"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TITULOE),      (cAlias)->RA_TITULOE))
				jData["RA_ZONASEC"]      := Trim(IIf(jLGPD["RA_ZONASEC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_ZONASEC),      (cAlias)->RA_ZONASEC))
				jData["RA_SECAO"]        := Trim(IIf(jLGPD["RA_SECAO"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_SECAO),        (cAlias)->RA_SECAO))
				jData["RA_HABILIT"]      := Trim(IIf(jLGPD["RA_HABILIT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_HABILIT),      (cAlias)->RA_HABILIT))
				jData["RA_CATCNH"]       := Trim(IIf(jLGPD["RA_CATCNH"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CATCNH),       (cAlias)->RA_CATCNH))
				jData["RA_CNHORG"]       := Trim(IIf(jLGPD["RA_CNHORG"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CNHORG),       (cAlias)->RA_CNHORG))
				jData["RA_DTEMCNH"]      := IIf(!Empty((cAlias)->RA_DTEMCNH), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTEMCNH)),  1, 10), "")
				jData["RA_DTINCON"]      := IIf(!Empty((cAlias)->RA_DTINCON), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTINCON)),  1, 10), "")
				jData["RA_DTVCCNH"]      := IIf(!Empty((cAlias)->RA_DTVCCNH), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DTVCCNH)),  1, 10), "")
				jData["RA_UFCNH"]        := Trim(IIf(jLGPD["RA_UFCNH"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_UFCNH),        (cAlias)->RA_UFCNH))
				jData["RA_NUMEPAS"]      := Trim(IIf(jLGPD["RA_NUMEPAS"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NUMEPAS),      (cAlias)->RA_NUMEPAS))
				jData["RA_EMISPAS"]      := Trim(IIf(jLGPD["RA_EMISPAS"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_EMISPAS),      (cAlias)->RA_EMISPAS))
				jData["RA_DEMIPAS"]      := IIf(!Empty((cAlias)->RA_DEMIPAS), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DEMIPAS)),  1, 10), "")
				jData["RA_UFPAS"]        := Trim(IIf(jLGPD["RA_UFPAS"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_UFPAS),        (cAlias)->RA_UFPAS))
				jData["RA_CODPAIS"]      := Trim(IIf(jLGPD["RA_CODPAIS"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CODPAIS),      (cAlias)->RA_CODPAIS))
				jData["CCH_DESC_PAIS"]   := Trim(IIf(jLGPD["CCH_PAIS"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->CCH_DESC_PAIS),   (cAlias)->CCH_DESC_PAIS))
				jData["RA_NUMRIC"]       := Trim(IIf(jLGPD["RA_NUMRIC"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NUMRIC),       (cAlias)->RA_NUMRIC))
				jData["RA_UFRIC"]        := Trim(IIf(jLGPD["RA_UFRIC"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_UFRIC),        (cAlias)->RA_UFRIC))
				jData["RA_CDMURIC"]      := Trim(IIf(jLGPD["RA_CDMURIC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CDMURIC),      (cAlias)->RA_CDMURIC))
				jData["RA_DEXPRIC"]      := IIf(!Empty((cAlias)->RA_DEXPRIC), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DEXPRIC)),  1, 10), "")
				jData["RA_EMISRIC"]      := Trim(IIf(jLGPD["RA_EMISRIC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_EMISRIC),      (cAlias)->RA_EMISRIC))
				jData["RA_TIPCERT"]      := Trim(IIf(jLGPD["RA_TIPCERT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TIPCERT),      (cAlias)->RA_TIPCERT))
				jData["RA_MATCERT"]      := Trim(IIf(jLGPD["RA_MATCERT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_MATCERT),      (cAlias)->RA_MATCERT))
				jData["RA_EMICERT"]      := IIf(!Empty((cAlias)->RA_EMICERT), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_EMICERT)),  1, 10), "")
				jData["RA_CARCERT"]      := Trim(IIf(jLGPD["RA_CARCERT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CARCERT),      (cAlias)->RA_CARCERT))
				jData["RA_LIVCERT"]      := Trim(IIf(jLGPD["RA_LIVCERT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_LIVCERT),      (cAlias)->RA_LIVCERT))
				jData["RA_FOLCERT"]      := Trim(IIf(jLGPD["RA_FOLCERT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_FOLCERT),      (cAlias)->RA_FOLCERT))
				jData["RA_UFCERT"]       := Trim(IIf(jLGPD["RA_UFCERT"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_UFCERT),       (cAlias)->RA_UFCERT))
				jData["RA_SERVENT"]      := Trim(IIf(jLGPD["RA_SERVENT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_SERVENT),      (cAlias)->RA_SERVENT))
				jData["RA_CODACER"]      := Trim(IIf(jLGPD["RA_CODACER"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CODACER),      (cAlias)->RA_CODACER))
				jData["RA_REGCIVI"]      := Trim(IIf(jLGPD["RA_REGCIVI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_REGCIVI),      (cAlias)->RA_REGCIVI))
				jData["RA_CDMUCER"]      := Trim(IIf(jLGPD["RA_CDMUCER"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CDMUCER),      (cAlias)->RA_CDMUCER))
				jData["CC2_DES_MUN"]     := Trim(IIf(jLGPD["CC2_DES_MUN"], FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->CC2_DES_MUN),     (cAlias)->CC2_DES_MUN))
				jData["RA_OCDTEXP"]      := IIf(!Empty((cAlias)->RA_OCDTEXP), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_OCDTEXP)),  1, 10), "")
				jData["RA_OCEMIS"]       := Trim(IIf(jLGPD["RA_OCEMIS"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_OCEMIS),       (cAlias)->RA_OCEMIS))
				jData["RA_OCDTVAL"]      := IIf(!Empty((cAlias)->RA_OCDTVAL), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_OCDTVAL)),  1, 10), "")
				jData["RA_TPLIVRO"]      := Trim(IIf(jLGPD["RA_TPLIVRO"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TPLIVRO),      (cAlias)->RA_TPLIVRO))
				jData["RA_DVALPAS"]      := IIf(!Empty((cAlias)->RA_DVALPAS), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DVALPAS)),  1, 10), "")
				jData["DESMUNRIC"]       := Trim(IIf(jLGPD["CC2_MUN"] ,    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->DESMUNRIC),       (cAlias)->DESMUNRIC))

				// Relógio Registrador
				jData["RA_TNOTRAB"]      := Trim(IIf(jLGPD["RA_TNOTRAB"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TNOTRAB),      (cAlias)->RA_TNOTRAB))
				jData["RA_DESCTNOTRAB"]  := Trim(IIf(jLGPD["R6_DESC"],     FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_DESCTNOTRAB),  (cAlias)->RA_DESCTNOTRAB))
				jData["RA_CHAPA"]        := Trim(IIf(jLGPD["RA_CHAPA"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CHAPA),        (cAlias)->RA_CHAPA))
				jData["RA_CRACHA"]       := Trim(IIf(jLGPD["RA_CRACHA"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CRACHA),       (cAlias)->RA_CRACHA))
				jData["RA_REGRA"]        := Trim(IIf(jLGPD["RA_REGRA"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_REGRA),        (cAlias)->RA_REGRA))
				jData["RA_SEQTURN"]      := Trim(IIf(jLGPD["RA_SEQTURN"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_SEQTURN),      (cAlias)->RA_SEQTURN))
				jData["RA_BHFOL"]        := Trim(IIf(jLGPD["RA_BHFOL"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_BHFOL == 'S', STR0051, Iif((cAlias)->RA_BHFOL == 'N', STR0037, ''))), Iif((cAlias)->RA_BHFOL == 'S', STR0051, Iif((cAlias)->RA_BHFOL == 'N', STR0037, ''))))
				jData["RA_ACUMBH"]       := Trim(IIf(jLGPD["RA_ACUMBH"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ACUMBH == 'S', STR0051, Iif((cAlias)->RA_ACUMBH == 'N', STR0037, ''))), Iif((cAlias)->RA_ACUMBH == 'S', STR0051, Iif((cAlias)->RA_ACUMBH == 'N', STR0037, ''))))
				jData["RA_ROTFCH"]       := Trim(IIf(jLGPD["RA_ROTFCH"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_ROTFCH),       (cAlias)->RA_ROTFCH))
				jData["RA_NUPFCH"]       := Trim(IIf(jLGPD["RA_NUPFCH"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NUPFCH),       (cAlias)->RA_NUPFCH))
				jData["RA_TPJORNA"]      := Trim(IIf(jLGPD["RA_TPJORNA"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(cTpRegTra),                 cTpRegTra))
				jData["RA_PRCFCH"]       := Trim(IIf(jLGPD["RA_PRCFCH"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_PRCFCH),       (cAlias)->RA_PRCFCH))
				jData["RA_PERFCH"]       := Trim(IIf(jLGPD["RA_PERFCH"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_PERFCH),       (cAlias)->RA_PERFCH))
			
				// Outras Informações
				jData["RA_SERVICO"]      := Trim(IIf(jLGPD["RA_SERVICO"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_SERVICO),      (cAlias)->RA_SERVICO))
				jData["RA_CODRET"]       := Trim(IIf(jLGPD["RA_CODRET"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CODRET),       (cAlias)->RA_CODRET))
				jData["RA_NUMINSC"]      := Trim(IIf(jLGPD["RA_NUMINSC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NUMINSC),      (cAlias)->RA_NUMINSC))
				jData["RA_NSOCIAL"]      := Trim(IIf(jLGPD["RA_NSOCIAL"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NSOCIAL),      (cAlias)->RA_NSOCIAL))
				jData["RA_MATMIG"]       := Trim(IIf(jLGPD["RA_MATMIG"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_MATMIG),       (cAlias)->RA_MATMIG))

				// Outros
				jData["RA_CODUNIC"]      := Trim(IIf(jLGPD["RA_CODUNIC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CODUNIC),      (cAlias)->RA_CODUNIC))
				jData["RA_USRADM"]       := Trim(IIf(jLGPD["RA_USRADM"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_USRADM),       (cAlias)->RA_USRADM))
				jData["RA_DESCEP"]       := Trim(IIf(jLGPD["RA_DESCEP"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_DESCEP),       (cAlias)->RA_DESCEP))
				jData["RA_DESEPS"]       := Trim(IIf(jLGPD["RA_DESEPS"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_DESEPS),       (cAlias)->RA_DESEPS))

				// Endereço
				jData["RA_ENDEREC"]      := Trim(IIf(jLGPD["RA_ENDEREC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_ENDEREC),      (cAlias)->RA_ENDEREC))
				jData["RA_NUMENDE"]      := Trim(IIf(jLGPD["RA_NUMENDE"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NUMENDE),      (cAlias)->RA_NUMENDE))
				jData["RA_LOGRTP"]       := Trim(IIf(jLGPD["RA_LOGRTP"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_LOGRTP),       (cAlias)->RA_LOGRTP))
				jData["RA_LOGRDSC"]      := Trim(IIf(jLGPD["RA_LOGRDSC"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_LOGRDSC),      (cAlias)->RA_LOGRDSC))
				jData["RA_LOGRNUM"]      := Trim(IIf(jLGPD["RA_LOGRNUM"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_LOGRNUM),      (cAlias)->RA_LOGRNUM))
				jData["RA_COMPLEM"]      := Trim(IIf(jLGPD["RA_COMPLEM"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_COMPLEM),      (cAlias)->RA_COMPLEM))
				jData["RA_BAIRRO"]       := Trim(IIf(jLGPD["RA_BAIRRO"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_BAIRRO),       (cAlias)->RA_BAIRRO))
				jData["RA_ESTADO"]       := Trim(IIf(jLGPD["RA_ESTADO"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_ESTADO),       (cAlias)->RA_ESTADO))
				jData["RA_MUNICIP"]      := Trim(IIf(jLGPD["RA_MUNICIP"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_MUNICIP),      (cAlias)->RA_MUNICIP))
				jData["RA_CEP"]          := Trim(IIf(jLGPD["RA_CEP"],      FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CEP),          (cAlias)->RA_CEP))
				jData["RA_TIPENDE"]      := Trim(IIf(jLGPD["RA_TIPENDE"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_TIPENDE == '1', '1-'+STR0075, Iif((cAlias)->RA_TIPENDE == '2', '2-'+STR0076, ''))), Iif((cAlias)->RA_TIPENDE == '1', '1-'+STR0075, Iif((cAlias)->RA_TIPENDE == '2', '2-'+STR0076, '')))) // Comercial , Residencial
				jData["RA_ALTEND"]       := Trim(IIf(jLGPD["RA_ALTEND"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ALTEND == 'S', STR0051, Iif((cAlias)->RA_ALTEND == 'N', STR0037, ''))), Iif((cAlias)->RA_ALTEND == 'S', STR0051, Iif((cAlias)->RA_ALTEND == 'N', STR0037, ''))))
				jData["RA_CODMUN"]       := Trim(IIf(jLGPD["RA_CODMUN"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CODMUN),       (cAlias)->RA_CODMUN))
				jData["DESC_CODMUN"]     := Trim(IIf(jLGPD["DESC_CODMUN"],     FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->DESC_CODMUN),     (cAlias)->DESC_CODMUN))
				jData["RA_CPOSTAL"]      := Trim(IIf(jLGPD["RA_CPOSTAL"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CPOSTAL),      (cAlias)->RA_CPOSTAL))
				jData["RA_RESEXT"]       := Trim(IIf(jLGPD["RA_RESEXT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_RESEXT == '1', STR0051, Iif((cAlias)->RA_RESEXT == '2', STR0037, ''))), Iif((cAlias)->RA_RESEXT == '1', STR0051, Iif((cAlias)->RA_RESEXT == '2', STR0037, ''))))
				jData["RA_PAISEXT"]      := Trim(IIf(jLGPD["RA_PAISEXT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_PAISEXT),      (cAlias)->RA_PAISEXT))
				jData["DESC_PAISEXT"]    := Trim(IIf(jLGPD["CCH_PAIS"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->DESC_PAISEXT),    (cAlias)->DESC_PAISEXT))
				jData["RA_CEPCXPO"]      := Trim(IIf(jLGPD["RA_CEPCXPO"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CEPCXPO),      (cAlias)->RA_CEPCXPO))
				jData["RA_DEPIR"]        := Trim(IIf(jLGPD["RA_DEPIR"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_DEPIR),        (cAlias)->RA_DEPIR))
				jData["RA_DEPSF"]        := Trim(IIf(jLGPD["RA_DEPSF"],    FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_DEPSF),        (cAlias)->RA_DEPSF))
				jData["RA_LOCBNF"]       := Trim(IIf(jLGPD["RA_LOCBNF"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_LOCBNF),       (cAlias)->RA_LOCBNF))            
				jData["RA_PLSAUDE"]       := Trim(IIf(jLGPD["RA_PLSAUDE"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_PLSAUDE == '1', STR0051, Iif((cAlias)->RA_PLSAUDE == '2', STR0037, ''))), Iif((cAlias)->RA_PLSAUDE == '1', STR0051, Iif((cAlias)->RA_PLSAUDE == '2', STR0037, ''))))

				// Cargos e Salários
				jData["RA_TABELA"]       := Trim(IIf(jLGPD["RA_TABELA"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TABELA),       (cAlias)->RA_TABELA))
				jData["RA_TABNIVE"]      := Trim(IIf(jLGPD["RA_TABNIVE"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TABNIVE),      (cAlias)->RA_TABNIVE))
				jData["RA_TABFAIX"]      := Trim(IIf(jLGPD["RA_TABFAIX"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_TABFAIX),      (cAlias)->RA_TABFAIX))

				// Estrangeiro
				jData["RA_DATCHEG"]      := IIf(!Empty((cAlias)->RA_DATCHEG), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DATCHEG)),  1, 10), "")
				jData["RA_ANOCHEG"]      := Trim(IIf(jLGPD["RA_ANOCHEG"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_ANOCHEG),      (cAlias)->RA_ANOCHEG))
				jData["RA_NUMNATU"]      := Trim(IIf(jLGPD["RA_NUMNATU"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_NUMNATU),      (cAlias)->RA_NUMNATU))
				jData["RA_DATNATU"]      := IIf(!Empty((cAlias)->RA_DATNATU), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_DATNATU)),  1, 10), "")
				jData["RA_CASADBR"]       := Trim(IIf(jLGPD["RA_CASADBR"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_CASADBR == '1', STR0051, Iif((cAlias)->RA_CASADBR == '2', STR0037, ''))), Iif((cAlias)->RA_CASADBR == '1', STR0051, Iif((cAlias)->RA_CASADBR == '2', STR0037, ''))))
				jData["RA_FILHOBR"]       := Trim(IIf(jLGPD["RA_FILHOBR"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_FILHOBR == '1', STR0051, Iif((cAlias)->RA_FILHOBR == '2', STR0037, ''))), Iif((cAlias)->RA_FILHOBR == '1', STR0051, Iif((cAlias)->RA_FILHOBR == '2', STR0037, ''))))
				jData["RA_RNE"]          := Trim(IIf(jLGPD["RA_RNE"],      FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_RNE),          (cAlias)->RA_RNE))
				jData["RA_RNEORG"]       := Trim(IIf(jLGPD["RA_RNEORG"],   FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_RNEORG),       (cAlias)->RA_RNEORG))
				jData["RA_RNEDEXP"]      := IIf(!Empty((cAlias)->RA_RNEDEXP), SubStr(FwTimeStamp(2, SToD((cAlias)->RA_RNEDEXP)),  1, 10), "")
				jData["RA_INSSAUT"]       := Trim(IIf(jLGPD["RA_INSSAUT"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_INSSAUT == 'S', STR0051, Iif((cAlias)->RA_INSSAUT == 'N', STR0037, ''))), Iif((cAlias)->RA_INSSAUT == 'S', STR0051, Iif((cAlias)->RA_INSSAUT == 'N', STR0037, ''))))
				jData["RA_CLASEST"]      := Trim(IIf(jLGPD["RA_CLASEST"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_CLASEST),      (cAlias)->RA_CLASEST))

				// Adicionais
				jData["RA_ADTPOSE"]      := Trim(IIf(jLGPD["RA_ADTPOSE"],  FwProtectedDataUtil():ValueAsteriskToAnonymize((cAlias)->RA_ADTPOSE),      (cAlias)->RA_ADTPOSE))
				jData["RA_PERICUL"]      := Trim(IIf(jLGPD["RA_PERICUL"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_PERICUL)), AllTrim(Str((cAlias)->RA_PERICUL))))
				jData["RA_INSMAX"]       := Trim(IIf(jLGPD["RA_INSMAX"],   FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_INSMAX)),  AllTrim(Str((cAlias)->RA_INSMAX))))
				jData["RA_ADCTRF"]       := Trim(IIf(jLGPD["RA_ADCTRF"],   FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_ADCTRF)),  AllTrim(Str((cAlias)->RA_ADCTRF))))
				jData["RA_ADCCONF"]      := Trim(IIf(jLGPD["RA_ADCCONF"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Str((cAlias)->RA_ADCCONF)), AllTrim(Str((cAlias)->RA_ADCCONF))))
				jData["RA_ADCINS"]       := Trim(IIf(jLGPD["RA_ADCINS"],   FwProtectedDataUtil():ValueAsteriskToAnonymize(cPossuiInsalubridade),      cPossuiInsalubridade))
				jData["RA_ADCPERI"]      := Trim(IIf(jLGPD["RA_ADCPERI"],  FwProtectedDataUtil():ValueAsteriskToAnonymize(Iif((cAlias)->RA_ADCPERI == '1', STR0037, Iif((cAlias)->RA_ADCPERI == '2', STR0051, ''))), Iif((cAlias)->RA_ADCPERI == '1', STR0037, Iif((cAlias)->RA_ADCPERI == '2', STR0051, ''))))

				jData["RA_RESP"]      := Alltrim(cResponsavel)

				// Tarefas
				jData["TAREFAS"]        :=  jRegistros["TAREFAS"]

				// Salarios
				jData["SALARIOS"]       :=  jRegistros["SALARIOS"]

				// Afastamentos
				jData["AFASTAMENTOS"]   :=  jRegistros["AFASTAMENTOS"]

				// Ferias
				jData["FERIAS"]         := jRegistros["FERIAS"]

				// Dependentes
				jData["DEPENDENTES"]    := jRegistros["DEPENDENTES"]

				// Beneficiarios
				jData["BENEFICIARIOS"]  := jRegistros["BENEFICIARIOS"]

				// Contribuições
				jData["CONTRIBUICOES_ASS"] := jRegistros["CONTRIBUICOES_ASS"] 
				jData["CONTRIBUICOES_SIN"] := jRegistros["CONTRIBUICOES_SIN"] 

				// Transferencias
				jData["TRANSFERENCIA"] := jRegistros["TRANSFERENCIA"]

				// Treinamento
				jData["TREINAMENTO"] := jRegistros["TREINAMENTO"]
				jData["CURSO"]       := jRegistros["CURSO"]			

				// Convocacoes
				jData["CONVOCACOES"] := jRegistros["CONVOCACOES"]
				
				// Adiciona os campos customizados no JSON
				GPESmartViewUtils():SetCustomFields(aAllFields, jData, cAlias, aPDFields, lObfuscated)

			// Adiciona as informações da linha
			self:oData:appendData(jData)

			// Pula para o próximo registro
			(cAlias)->(DBSkip())
		Endif
	End

	SRA->(DbCloseArea())

	// Fecha a área da tabela temporária
	(cAlias)->(DBCloseArea())
	oExec:Destroy()
	oExec := nil

    // Limpa os objetos da memória
    jData := NIL
    FwFreeObj(jData)
    FwFreeObj(jLGPD)
	FwFreeObj(jParams)
	FwFreeArray(aSituacoes)
	FwFreeArray(aCategorias)
    FwFreeArray(aAllFields)
    FwFreeArray(aPDFields)
    FwFreeArray(aPDFieldsNR)
    FwFreeArray(aFieldsNR)
Return self:oData

/*/{Protheus.doc} GPER460TReportsBusinessObject:getSchema()
	Define o schema do objeto de negócio.
	@type Method
	@version 12.1.2310
	@author karina.alves
	@since 31/10/2023
	@return Object, Schema do objeto de negócio
/*/
Method getSchema() As Object Class GPER460TReportsBusinessObject

	// Define os parâmetros do relatório
	self:oSchema:addParameter("PAR_FILIALDE"              ,  STR0077,     "string", .F.) // "Filial De"
	self:oSchema:addParameter("PAR_FILIALATE"             ,  STR0078,     "string", .F.) // "Filial Ate"
	self:oSchema:addParameter("PAR_CCDE"                  ,  STR0079,     "string", .F.) // "C.C. De"
	self:oSchema:addParameter("PAR_CCATE"                 ,  STR0080,     "string", .F.) // "C.C. Ate"  
	self:oSchema:addParameter("PAR_MATDE"                 ,  STR0081,     "string", .F.) // "Matrícula De"
	self:oSchema:addParameter("PAR_MATATE"                ,  STR0082,     "string", .F.) // "Matrícula Ate"
	self:oSchema:addParameter("PAR_NOMEDE"                ,  STR0083,     "string", .F.) // "Nome De"
	self:oSchema:addParameter("PAR_NOMEATE"               ,  STR0084,     "string", .F.) // "Nome Ate"
	self:oSchema:addParameter("PAR_SITFOLH"               ,  STR0085,     "string", .T.) // "Situações"
	self:oSchema:addParameter("PAR_CATEG"                 ,  STR0086,     "string", .T.) // "Categorias"
	self:oSchema:addParameter("PAR_FICHAATUAL"            ,  STR0087,     "string", .F.) // "Ficha Atualizada"
	self:oSchema:addParameter("PAR_ALTSAL"                ,  STR0088,     "string", .F.) // "Alt. Salariais"
	self:oSchema:addParameter("PAR_AFAST"                 ,  STR0089,     "string", .F.) // "Afastamentos"
	self:oSchema:addParameter("PAR_DEPEN"                 ,  STR0090,     "string", .F.) // "Dependentes"
	self:oSchema:addParameter("PAR_FERIAS"                ,  STR0091,     "string", .F.) // "Férias"
	self:oSchema:addParameter("PAR_CONTRIBSIND"           ,  STR0092,     "string", .F.) // "Contrib. Sindicais"
	self:oSchema:addParameter("PAR_CONTRIBASS"            ,  STR0093,     "string", .F.) // "Contrib. Assist." 
	self:oSchema:addParameter("PAR_TRANSF"                ,  STR0094,     "string", .F.) // "Transferências"
	self:oSchema:addParameter("PAR_BENEFIC"               ,  STR0095,     "string", .F.) // "Beneficiários"
	self:oSchema:addParameter("PAR_IMPDESCFILIAL"         ,  STR0096,     "string", .F.) // "Impr. Desc. Filial"
	self:oSchema:addParameter("PAR_DATAINI"               ,  STR0097,     "date", .F.) // "Data Inicial"
	self:oSchema:addParameter("PAR_DATAFIM"               ,  STR0098,     "date", .F.) // "Data Final" 
	self:oSchema:addParameter("PAR_RESPONSAVEL"           ,  STR0099,     "string", .F.) // "Responsável Legal" 
	self:oSchema:addParameter("PAR_IMPTAREFAS"            ,  STR0100,     "string", .T.) // "Imprime Tarefas"
	self:oSchema:addParameter("PAR_IMPTAREFEIROS"         ,  STR0101,     "string", .F.) // "Prof./Tarefeiros Impr." 
	self:oSchema:addParameter("PAR_PROCESSO"              ,  STR0102,     "string", .F.) // "Processos"
	self:oSchema:addParameter("PAR_IMPTREIN"              ,  STR0103,     "string", .F.) // "Impr. Treinamentos" 
	self:oSchema:addParameter("PAR_DSLICFER"              ,  STR0104,     "string", .F.) // "Considera Dias Lic. Férias"
	self:oSchema:addParameter("PAR_IMPSALATUAL"           ,  STR0105,     "string", .F.) // "Impr. Salário Atual"
	self:oSchema:addParameter("PAR_PERIODO"               ,  STR0106,     "string", .F.) // "Período"


	// Define endpoints dos parâmetros de tipo lookup/combobox
	self:setCustomURL("PAR_FILIALDE",         "/api/rh/smartview/v1/options/GPEParams/getBranches",   2)
	self:setCustomURL("PAR_FILIALATE",        "/api/rh/smartview/v1/options/GPEParams/getBranches",   2)
	self:setCustomURL("PAR_CCDE",             "/api/framework/v1/genericLookupService/smartview/CTT", 2)
	self:setCustomURL("PAR_CCATE",            "/api/framework/v1/genericLookupService/smartview/CTT", 2)
	self:setCustomURL("PAR_MATDE",            "/api/framework/v1/genericLookupService/smartview/SRA", 2)
	self:setCustomURL("PAR_MATATE",           "/api/framework/v1/genericLookupService/smartview/SRA", 2)
	self:setCustomURL("PAR_SITFOLH",          "/api/rh/smartview/v1/options/GPEParams/getSX5/31",     2)
	self:setCustomURL("PAR_CATEG",            "/api/rh/smartview/v1/options/GPEParams/getSX5/28",     2)
	self:setCustomURL("PAR_FICHAATUAL",       "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_ALTSAL",           "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_AFAST",            "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_DEPEN",            "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_FERIAS",           "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_CONTRIBSIND",      "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_CONTRIBASS",      "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_BENEFIC",          "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_TRANSF",           "/api/rh/smartview/v1/options/GPER460/PAR_TRANSF",      1)
	self:setCustomURL("PAR_IMPDESCFILIAL",    "/api/rh/smartview/v1/options/GPER460/PAR_IMPDESCFILIAL", 1)
	self:setCustomURL("PAR_IMPTAREFAS",       "/api/rh/smartview/v1/options/GPER460/PAR_IMPTAREFAS", 1)
	self:setCustomURL("PAR_IMPTAREFEIROS",    "/api/rh/smartview/v1/options/GPER460/PAR_IMPTAREFEIROS", 1)
	self:setCustomURL("PAR_PROCESSO",     "/api/framework/v1/genericLookupService/smartview/RCJ",     2)
	self:setCustomURL("PAR_IMPTREIN",    "/api/rh/smartview/v1/options/GPEParams/getSNOptions", 1)
	self:setCustomURL("PAR_DSLICFER",      "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_IMPSALATUAL",      "/api/rh/smartview/v1/options/GPEParams/getSNOptions",  1)
	self:setCustomURL("PAR_PERIODO",            "/api/rh/smartview/v1/options/GPER460/PAR_PERIODO",  1)


	// Adiciona as propriedades do objeto de negócio
	//Dados Empresariais
	self:oSchema:addProperty("RA_EMPRESA",      STR0107                      ,"string",   STR0107                     ,"RA_EMPRESA") //  "Empresa"
	self:oSchema:addProperty("RA_FILIAL",       STR0108                      ,"string",   STR0108                     ,"RA_FILIAL") //  "Filial" 
	self:oSchema:addProperty("RA_CNPJ",         STR0109                      ,"string",   STR0109                     ,"RA_CNPJ") //  "CNPJ"
	self:oSchema:addProperty("RA_CNAE",         STR0110                      ,"string",   STR0110                     ,"RA_CNAE") //  "CNAE"
	self:oSchema:addProperty("RA_END_EMP",      STR0111 + " " + STR0107      ,"string",   STR0111 + " " + STR0107     ,"RA_END_EMP") //  "End. Empresa"
	self:oSchema:addProperty("RA_CEP_EMP",      STR0112 + " " + STR0107      ,"string",   STR0112 + " " + STR0107     ,"RA_CEP_EMP") //  "CEP Empresa"
	self:oSchema:addProperty("RA_CIDADEUF_EMP", STR0113 + " " + STR0107      ,"string",   STR0113 + " " + STR0107     ,"RA_CIDADEUF_EMP") //  "Cidade/UF Empresa"
	self:oSchema:addProperty("RA_CODMUN_EMP",   STR0114 + " " + STR0107      ,"string",   STR0114 + " " + STR0107     ,"RA_CODMUN_EMP") //  "Cod. Mun. Empresa"

	//Dados Cadastrais
	self:oSchema:addProperty("RA_BITMAP",       STR0115,           "string",     STR0115,              "RA_BITMAP") // "Foto"
	self:oSchema:addProperty("RA_FICHA",        STR0116,           "string",     STR0116,              "RA_FICHA") // "Nr. Ficha"
	self:oSchema:addProperty("RA_MAT",          STR0054,           "string",     STR0054,              "RA_MAT") // "Matrícula"
	self:oSchema:addProperty("RA_NOMECMP",      STR0117,           "string",     STR0117,              "RA_NOMECMP") // "Nome Completo"
	self:oSchema:addProperty("RA_NOME",         STR0118,           "string",     STR0118,              "RA_NOME") // "Nome"
	self:oSchema:addProperty("RA_APELIDO",      STR0119,           "string",     STR0119,              "RA_APELIDO") // "Apelido"
	self:oSchema:addProperty("RA_PAI",          STR0120,           "string",     STR0120,              "RA_PAI") // "Nome Pai"
	self:oSchema:addProperty("RA_MAE",          STR0121,           "string",     STR0121,              "RA_MAE") // "Nome Mãe"
	self:oSchema:addProperty("RA_NASC",         STR0122,           "string",     STR0122,              "RA_NASC") // "Data de Nascimento"
	self:oSchema:addProperty("RA_ALTNASC",      STR0123,           "string",     STR0123,              "RA_ALTNASC") // "Alt. Dt. Nasc."
	self:oSchema:addProperty("RA_CODMUNN",      STR0124,           "string",     STR0124,              "RA_CODMUNN") // "Cod. Mun. Nasc"
	self:oSchema:addProperty("RA_MUNNASC",      STR0125,           "string",     STR0125,              "RA_MUNNASC") // "Municp. Nasc."
	self:oSchema:addProperty("RA_ESTCIVI",      STR0126,           "string",     STR0126,              "RA_ESTCIVI") // "Estado Civil"
	self:oSchema:addProperty("DESCESTCIVIL",    STR0127,           "string",     STR0127,              "DESCESTCIVIL") // "Desc. Est. Civil"
	self:oSchema:addProperty("RA_SEXO",         STR0128,           "string",     STR0128,              "RA_SEXO") // "Sexo"
	self:oSchema:addProperty("RA_NATURAL",      STR0129,           "string",     STR0129,              "RA_NATURAL") // "Naturalidade"
	self:oSchema:addProperty("RA_NACIONA",      STR0130,           "string",     STR0130,              "RA_NACIONA") // "Nacionalidade"
	self:oSchema:addProperty("DESCNACIONAL",    STR0131,           "string",     STR0131,              "DESCNACIONAL")	 // "Desc. Nacionalidade"
	self:oSchema:addProperty("RA_GRINRAI",      STR0132,           "string",     STR0132,              "RA_GRINRAI") // "Cd.Inst.RAIS"
	self:oSchema:addProperty("X5_DESC_GRINRAI", STR0133,           "string",     STR0133,              "X5_DESC_GRINRAI") // "Desc. Gr. Inst"
	self:oSchema:addProperty("RA_RACACOR",      STR0134,           "string",     STR0134,              "RA_RACACOR") // "Raca/Cor"
	self:oSchema:addProperty("RA_ALTNOME",      STR0135,           "string",     STR0135,              "RA_ALTNOME") // "Alt. Nome"
	self:oSchema:addProperty("RA_BRPDH",        STR0136,           "string",     STR0136,              "RA_BRPDH") // "BR/PDH"
	self:oSchema:addProperty("RA_DEFIFIS",      STR0137,           "string",     STR0137,              "RA_DEFIFIS") // "Defic. Físico"
	self:oSchema:addProperty("RA_CTPCD",        STR0138,           "string",     STR0138,              "RA_CTPCD") // "Cota Def"
	self:oSchema:addProperty("RA_TPDEFFI",      STR0139,           "string",     STR0139,              "RA_TPDEFFI") // "Tp. Deficien"
	self:oSchema:addProperty("RA_PORTDEF",      STR0140,           "string",     STR0140,              "RA_PORTDEF") // "Defi eSocial"
	self:oSchema:addProperty("RA_OBSDEFI",      STR0141,           "string",     STR0141,              "RA_OBSDEFI") // "Obs. Deficien."
	self:oSchema:addProperty("RA_BLOQADM",      STR0142,           "string",     STR0142,              "RA_BLOQADM") // "Bloq. Admis."
	self:oSchema:addProperty("RA_CPAISOR",      STR0143,           "string",     STR0143,              "RA_CPAISOR") // "Cod. País Ori."
	self:oSchema:addProperty("CCH_PAIS_ORIGEM", STR0144,           "string",     STR0144,              "CCH_PAIS_ORIGEM") // "Descrição País Origem"
	self:oSchema:addProperty("RA_NACIONC",      STR0145,           "string",     STR0145,              "RA_NACIONC") // "C. Nacion. RFB"
	self:oSchema:addProperty("CCH_PAIS_RFB",    STR0146,           "string",     STR0146,              "CCH_PAIS") // "N. Nacion. RFB"
	self:oSchema:addProperty("RA_EMAIL",        STR0147,           "string",     STR0147,              "RA_EMAIL") // "End. E-mail"
	self:oSchema:addProperty("RA_EMAIL2",       STR0148,           "string",     STR0148,              "RA_EMAIL2") // "Email Altern"
	self:oSchema:addProperty("RA_RECMAIL",      STR0149,           "string",     STR0149,              "RA_RECMAIL") // "Receb E-mail"
	self:oSchema:addProperty("RA_TPMAIL",       STR0150,           "string",     STR0150,              "RA_TPMAIL") // "Tipo E-mail"
	self:oSchema:addProperty("RA_BRNASEX",      STR0151,           "string",     STR0151,              "RA_BRNASEX") // "Bra. Nasc. Ext."


	// Contato
	self:oSchema:addProperty("RA_TELEFON",      STR0152,           "string",     STR0152,              "RA_TELEFON") // "Telefone"
	self:oSchema:addProperty("RA_DDDFONE",      STR0153,           "string",     STR0153,              "RA_DDDFONE") // "DDD Telefone"
	self:oSchema:addProperty("RA_DDDCELU",      STR0154,           "string",     STR0154,              "RA_DDDCELU") // "DDD Celular"
	self:oSchema:addProperty("RA_NUMCELU",      STR0155,           "string",     STR0155,              "RA_NUMCELU") // "Num. Celular"

	//Dados Funcionais // 
	self:oSchema:addProperty("RA_CC",           STR0156,           "string",     STR0156,              "RA_CC") // "Centro Custo"
	self:oSchema:addProperty("CTT_CC",          STR0157,           "string",     STR0157,              "CTT_CC") // "Descrição Centro de Custo"
	self:oSchema:addProperty("RA_CODFUNC",      STR0158,           "string",     STR0158,              "RA_CODFUNC") // "Cod. Função"
	self:oSchema:addProperty("RJ_DESFUNC",      STR0159,           "string",     STR0159,              "RJ_DESFUNC") // "Desc. Função"
	self:oSchema:addProperty("RA_CARGO",        STR0160,           "string",     STR0160,              "RA_CARGO") // "Cargo"
	self:oSchema:addProperty("Q3_DESC_CARGO",   STR0161,           "string",     STR0161,              "Q3_DESC_CARGO") // "Desc. Cargo"
	self:oSchema:addProperty("RA_PROCES",       STR0162,           "string",     STR0162,              "RA_PROCES") // "Cod. Processo"
	self:oSchema:addProperty("RA_DEPTO",        STR0163,           "string",     STR0163,              "RA_DEPTO") // "Cod. Depto."
	self:oSchema:addProperty("QB_DESC_DEPTO",   STR0164,           "string",     STR0164,              "QB_DESC_DEPTO") // "Desc. Depto."
	self:oSchema:addProperty("RA_SINDICA",      STR0165,           "string",     STR0165,              "RA_SINDICA") // "C. Sindicato"
	self:oSchema:addProperty("RCE_SINDICA",     STR0166,           "string",     STR0166,              "RCE_SINDICA") // "Desc. Sindica."
	self:oSchema:addProperty("RA_PGCTSIN",      STR0167,           "string",     STR0167,              "RA_PGCTSIN") // "Con. Sindical"
	self:oSchema:addProperty("RA_MENSIND",      STR0168,           "string",     STR0168,              "RA_MENSIND") // "Mens. Sindica."
	self:oSchema:addProperty("RA_POSTO",        STR0169,           "string",     STR0169,              "RA_POSTO") // "Cod. Posto"
	self:oSchema:addProperty("RA_ADMISSA",      STR0170,           "string",     STR0170,              "RA_ADMISSA") // "Data Admis."
	self:oSchema:addProperty("RA_TIPOADM",      STR0171,           "string",     STR0171,              "RA_TIPOADM") // "Tipo Admiss."
	self:oSchema:addProperty("RA_ALTADM",       STR0172,           "string",     STR0172,              "RA_ALTADM") // "Alt. Admissão"
	self:oSchema:addProperty("RA_DEMISSA",      STR0173,           "string",     STR0173,              "RA_DEMISSA") // "Dt. Demissão"
	self:oSchema:addProperty("RA_DEMIANT",      STR0174,           "string",     STR0174,              "RA_DEMIANT") // "Dt. Dem. Ant."
	self:oSchema:addProperty("RA_SITFOLH",      STR0175,           "string",     STR0175,              "RA_SITFOLH") // "Sit. Folha"
	self:oSchema:addProperty("RA_AUTMEI",       STR0176,           "string",     STR0176,              "RA_AUTMEI") // "MEI"
	self:oSchema:addProperty("RA_OPCAO",        STR0177,           "string",     STR0177,              "RA_OPCAO") // "Dt. Op. FGTS"
	self:oSchema:addProperty("RA_BCDPFGT",      STR0178,           "string",     STR0178,              "RA_BCDPFGT") // "Bco. Ag. FGTS"
	self:oSchema:addProperty("RA_CTDPFGT",      STR0179,           "string",     STR0179,              "RA_CTDPFGT") // "Cta. Dep. FGTS"
	self:oSchema:addProperty("RA_AFASFGT",      STR0180,           "string",     STR0180,              "RA_AFASFGT") // "Cod. Afa. FGTS"
	self:oSchema:addProperty("RA_PERFGTS",      STR0181,           "number",     STR0181,              "RA_PERFGTS") // "% Dep. FGTS"
	self:oSchema:addProperty("RJ_CODCBO",       STR0182,           "string",     STR0182,              "RJ_CODCBO") // "CBO 2002"
	self:oSchema:addProperty("RA_ALTCBO",       STR0183,           "string",     STR0183,              "RA_ALTCBO") // "Alt. CBO"
	self:oSchema:addProperty("RA_TPCTSAL",      STR0184,           "string",     STR0184,              "RA_TPCTSAL") // "Tipo Cta. Sal."
	self:oSchema:addProperty("RA_BCDEPSA",      STR0185,           "string",     STR0185,              "RA_BCDEPSA") // "Bco. Ag. D. Sal."
	self:oSchema:addProperty("RA_CTDEPSA",      STR0186,           "string",     STR0186,              "RA_CTDEPSA") // "Cta. Dep. Sal."
	self:oSchema:addProperty("RA_VCTOEXP",      STR0187,           "string",     STR0187,              "RA_VCTOEXP") // "Ven. Exper. 1"
	self:oSchema:addProperty("RA_VCTEXP2",      STR0188,           "string",     STR0188,              "RA_VCTEXP2") // "Vc. Exp. 2Per."
	self:oSchema:addProperty("RA_EXAMEDI",      STR0189,           "string",     STR0189,              "RA_EXAMEDI") // "Ven. Exa. Med."
	self:oSchema:addProperty("RA_OCORREN",      STR0190,           "string",     STR0190,              "RA_OCORREN") // "Ocorrência"
	self:oSchema:addProperty("RA_HRSMES",       STR0191,           "string",     STR0191,              "RA_HRSMES") // "Hrs. Mensais"
	self:oSchema:addProperty("RA_HRSEMAN",      STR0192,           "string",     STR0192,              "RA_HRSEMAN") // "Hrs. Semanais"
	self:oSchema:addProperty("RA_HRSDIA",       STR0193,           "string",     STR0193,              "RA_HRSDIA") // "Horas Dia"
	self:oSchema:addProperty("RA_FTINSAL",      STR0194,           "number",     STR0194,              "RA_FTINSAL") // "Multp. Insal."
	self:oSchema:addProperty("RA_VIEMRAI",      STR0195,           "string",     STR0195,              "RA_VIEMRAI") // "Vin. Emp. RAIS"
	self:oSchema:addProperty("RA_RESCRAI",      STR0196,           "string",     STR0196,              "RA_RESCRAI") // "Cd. Resc. RAIS"
	self:oSchema:addProperty("RA_ALTOPC",       STR0197,           "string",     STR0197,              "RA_ALTOPC") // "Alt. Opção"
	self:oSchema:addProperty("RA_SALARIO",      STR0198,           "string",     STR0198,              "RA_SALARIO") // "Salário"
	self:oSchema:addProperty("RA_ANTEAUM",      STR0199,           "string",     STR0199,              "RA_ANTEAUM") // "Sal. Base Dis."
	self:oSchema:addProperty("RA_PERCADT",      STR0200,           "number",     STR0200,              "RA_PERCADT") // "% Adiantam."
	self:oSchema:addProperty("RA_CATFUNC",      STR0201,           "string",     STR0201,              "RA_CATFUNC") // "Cat. Func."
	self:oSchema:addProperty("RA_TIPOPGT",      STR0202,           "string",     STR0202,              "RA_TIPOPGT") // "Tipo Pgto."
	self:oSchema:addProperty("RA_TPCONTR",      STR0203,           "string",     STR0203,              "RA_TPCONTR") // "Tp. Cont. Trab."
	self:oSchema:addProperty("RA_CATEG",        STR0204,           "string",     STR0204,              "RA_CATEG") // "Categ. SEFIP"
	self:oSchema:addProperty("RA_CLAURES",      STR0205,           "string",     STR0205,              "RA_CLAURES") // "Clau. Assec."
	self:oSchema:addProperty("RA_DTFIMCT",      STR0206,           "string",     STR0206,              "RA_DTFIMCT") // "Dt. Term. Cont."
	self:oSchema:addProperty("RA_MESESAN",      STR0207,           "string",     STR0207,              "RA_MESESAN") // "Mês. Trab. Ant."
	self:oSchema:addProperty("RA_COMPSAB",      STR0208,           "string",     STR0208,              "RA_COMPSAB") // "Comp. Sábado"
	self:oSchema:addProperty("DESC_CODTIT",     STR0209,           "string",     STR0209,              "DESC_CODTIT") // "Titulação"
	self:oSchema:addProperty("RA_DTVTEST",      STR0210,           "string",     STR0210,              "RA_DTVTEST") // "Dt. Vto. Estab."
	self:oSchema:addProperty("RA_ASSIST",       STR0211,           "string",     STR0211,              "RA_ASSIST") // "Contr. Assis."
	self:oSchema:addProperty("RA_CONFED",       STR0212,           "string",     STR0212,              "RA_CONFED") // "Contr. Confed."
	self:oSchema:addProperty("RA_MOLEST",       STR0213,           "string",     STR0213,              "RA_MOLEST") // "Dt. Afast. Mol."
	self:oSchema:addProperty("RA_HOPARC",       STR0214,           "string",     STR0214,              "RA_HOPARC") // "CLT Parcial"
	self:oSchema:addProperty("RA_TPPREVI",      STR0215,           "string",     STR0215,              "RA_TPPREVI") // "Tp. Previden."
	self:oSchema:addProperty("RA_NJUD14",       STR0216,           "string",     STR0216,              "RA_NJUD14") // "ProcMenor 14"
	self:oSchema:addProperty("RA_DTEFRTN",      STR0217,           "string",     STR0217,              "RA_DTEFRTN") // "Dt. Efev. ret."
	self:oSchema:addProperty("RA_CATEFD",       STR0218,           "string",     STR0218,              "RA_CATEFD") // "Cat. eSocial"
	self:oSchema:addProperty("RA_EAPOSEN",      STR0219,           "string",     STR0219,              "RA_EAPOSEN") // "Aposentado"
	self:oSchema:addProperty("RA_FECREI",       STR0220,           "string",     STR0220,              "RA_FECREI") // "Dt. Reinteg."
	self:oSchema:addProperty("RA_TPREINT",      STR0221,           "string",     STR0221,              "RA_TPREINT") // "Tp. Rein. e.Soc"
	self:oSchema:addProperty("RA_NRPROC",       STR0222,           "string",     STR0222,              "RA_NRPROC") // "Id. Proc. Jud."
	self:oSchema:addProperty("RA_NRLEIAN",      STR0223,           "string",     STR0223,              "RA_NRLEIAN") // "Lei Anistia"
	self:oSchema:addProperty("RA_DTCAGED",      STR0224,           "string",     STR0224,              "RA_DTCAGED") // "Data Caged"
	self:oSchema:addProperty("RA_DTEFRET",      STR0225,           "string",     STR0225,              "RA_DTEFRET") // "Data Efeito"
	self:oSchema:addProperty("RA_HOJORVA",      STR0226,           "string",     STR0226,              "RA_HOJORVA") // "Jor. Variavel"
	self:oSchema:addProperty("RA_TIPOCON",      STR0227,           "string",     STR0227,              "RA_TIPOCON") // "Tipo Prazo Cont. Determ."
	self:oSchema:addProperty("RA_TIPINF ",      STR0228,           "string",     STR0228,              "RA_TIPINF ") // "Incapacitado"
	self:oSchema:addProperty("RA_DTREC ",       STR0229,           "string",     STR0229,              "RA_DTREC ") // "Dt. Rec. Incap."
	self:oSchema:addProperty("RA_TIPOVIA ",     STR0230,           "string",     STR0230,              "RA_TIPOVIA ") // "Tempo Resid."
	self:oSchema:addProperty("RA_DTENTRA ",     STR0231,           "string",     STR0231,              "RA_DTENTRA ") // "Dt. Ini. Benef."
	self:oSchema:addProperty("RA_PERCSAT",      STR0232,           "number",     STR0232,              "RA_PERCSAT") // "% Acid. Trab."

	//Documentos
	self:oSchema:addProperty("RA_CIC",          STR0233,           "string",     STR0233,              "RA_CIC") // "CPF"
	self:oSchema:addProperty("RA_PIS",          STR0234,           "string",     STR0234,              "RA_PIS") // "PIS"
	self:oSchema:addProperty("RA_ALTPIS",       STR0235,           "string",     STR0235,              "RA_ALTPIS") // "Alt. PIS"
	self:oSchema:addProperty("RA_REGISTR",      STR0236,           "string",     STR0236,              "RA_REGISTR") // "No. Registro"
	self:oSchema:addProperty("RA_RG",           STR0237,           "string",     STR0237,              "RA_RG") // "RG"
	self:oSchema:addProperty("RA_RGORG",        STR0238,           "string",     STR0238,              "RA_RGORG") // "Org. Emissor"
	self:oSchema:addProperty("RA_DTRGEXP",      STR0239,           "string",     STR0239,              "RA_DTRGEXP") // "Dt. Emis. RG"
	self:oSchema:addProperty("RA_RGEXP",        STR0240,           "string",     STR0240,              "RA_RGEXP") // "Orgão Expedição do RG"
	self:oSchema:addProperty("RA_RGUF",         STR0241,           "string",     STR0241,              "RA_RGUF") // "UF do RG"
	self:oSchema:addProperty("RA_ORGEMRG",      STR0242,           "string",     STR0242,              "RA_ORGEMRG") // "Org. Emis. RG"
	self:oSchema:addProperty("RA_COMPLRG",      STR0243,           "string",     STR0243,              "RA_COMPLRG") // "Complem. RG"
	self:oSchema:addProperty("RA_CODIGO",       STR0244,           "string",     STR0244,              "RA_CODIGO") // "Cod. Profiss."
	self:oSchema:addProperty("RA_RESERVI",      STR0245,           "string",     STR0245,              "RA_RESERVI") // "Nr. Reservis."
	self:oSchema:addProperty("RA_NUMCP",        STR0246,           "string",     STR0246,              "RA_NUMCP") // "Cart. Profis."
	self:oSchema:addProperty("RA_SERCP",        STR0247,           "string",     STR0247,              "RA_SERCP") // "Série Cart."
	self:oSchema:addProperty("RA_DTCPEXP",      STR0248,           "string",     STR0248,              "RA_DTCPEXP") // "Dt Emis. CTP"
	self:oSchema:addProperty("RA_ALTCP",        STR0249,           "string",     STR0249,              "RA_ALTCP") // "Alt. Car. Prof."
	self:oSchema:addProperty("RA_UFCP",         STR0250,           "string",     STR0250,              "RA_UFCP") // "UF Cart. Prof"
	self:oSchema:addProperty("RA_TITULOE",      STR0251,           "string",     STR0251,              "RA_TITULOE") // "Tit. Eleit."
	self:oSchema:addProperty("RA_ZONASEC",      STR0252,           "string",     STR0252,              "RA_ZONASEC") // "Zona/Seção"
	self:oSchema:addProperty("RA_SECAO",        STR0253,           "string",     STR0253,              "RA_SECAO") // "Seção Eleit."
	self:oSchema:addProperty("RA_HABILIT",      STR0254,           "string",     STR0254,              "RA_HABILIT") // "Cart. Habil."
	self:oSchema:addProperty("RA_CATCNH",       STR0255,           "string",     STR0255,              "RA_CATCNH") // "CNH Categ."
	self:oSchema:addProperty("RA_CNHORG",       STR0256,           "string",     STR0256,              "RA_CNHORG") // "CNH Emissor"
	self:oSchema:addProperty("RA_DTEMCNH",      STR0257,           "string",     STR0257,              "RA_DTEMCNH") // "CNH DtEmis"
	self:oSchema:addProperty("RA_DTINCON",      STR0258,           "string",     STR0258,              "RA_DTINCON") // "Dt. Prim. CNH"
	self:oSchema:addProperty("RA_DTVCCNH",      STR0259,           "string",     STR0259,              "RA_DTVCCNH") // "CNH Dt. Val."
	self:oSchema:addProperty("RA_UFCNH",        STR0260,           "string",     STR0260,              "RA_UFCNH") // "CNH UF"
	self:oSchema:addProperty("RA_NUMEPAS",      STR0261,           "string",     STR0261,              "RA_NUMEPAS") // "Num. Passap."
	self:oSchema:addProperty("RA_EMISPAS",      STR0262,           "string",     STR0262,              "RA_EMISPAS") // "Emissor Pass."
	self:oSchema:addProperty("RA_DEMIPAS",      STR0263,           "string",     STR0263,              "RA_DEMIPAS") // "Data Emissão pass."
	self:oSchema:addProperty("RA_UFPAS",        STR0264,           "string",     STR0264,               "RA_UFPAS") // "UF Pass."
	self:oSchema:addProperty("RA_CODPAIS",      STR0265,           "string",     STR0265,              "RA_CODPAIS") // "Cd. País Emis."
	self:oSchema:addProperty("CCH_DESC_PAIS",   STR0266,           "string",     STR0266,              "CCH_DESC_PAIS") // "País Emissão"
	self:oSchema:addProperty("RA_TIPCERT",      STR0267,           "string",     STR0267,              "RA_TIPCERT") // "Tip. Certid."
	self:oSchema:addProperty("RA_MATCERT",      STR0268,           "string",     STR0268,              "RA_MATCERT") // "Termo/Matric"
	self:oSchema:addProperty("RA_EMICERT",      STR0269,           "string",     STR0269,              "RA_EMICERT") // "Data Emissão Cert."
	self:oSchema:addProperty("RA_CARCERT",      STR0270,           "string",     STR0270,              "RA_CARCERT") // "Cartório"
	self:oSchema:addProperty("RA_LIVCERT",      STR0271,           "string",     STR0271,              "RA_LIVCERT") // "Livro"
	self:oSchema:addProperty("RA_FOLCERT",      STR0272,           "string",     STR0272,              "RA_FOLCERT") // "Folha"
	self:oSchema:addProperty("RA_UFCERT",       STR0273,           "string",     STR0273,              "RA_UFCERT") // "UF Cert."
	self:oSchema:addProperty("RA_CDMUCER",      STR0274,           "string",     STR0274,              "RA_CDMUCER") //  "Cod. Mun. Cert."
	self:oSchema:addProperty("CC2_DES_MUN",     STR0275,           "string",     STR0275,              "CC2_DES_MUN")	//  "Desc. Mun. Cert."
	self:oSchema:addProperty("RA_DVALPAS",      STR0276,           "string",     STR0276,              "RA_DVALPAS")	//  "Data Valid."
	self:oSchema:addProperty("RA_NUMRIC",       STR0277,           "string",     STR0277,              "RA_NUMRIC") //  "Número RIC"
	self:oSchema:addProperty("RA_UFRIC",        STR0278,           "string",     STR0278,               "RA_UFRIC") //  "UF RIC"
	self:oSchema:addProperty("RA_CDMURIC",      STR0279,           "string",     STR0279,              "RA_CDMURIC") //  "Cod. Mun. RIC"
	self:oSchema:addProperty("DESMUNRIC",       STR0280,           "string",     STR0280,              "DESMUNRIC") //  "Desc. Mun. RIC"
	self:oSchema:addProperty("RA_DEXPRIC",      STR0281,           "string",     STR0281,              "RA_DEXPRIC") //  "Dt. Expedição"
	self:oSchema:addProperty("RA_EMISRIC",      STR0282,           "string",     STR0282,               "RA_EMISRIC") //  "Emissor RIC"
	self:oSchema:addProperty("RA_SERVENT",      STR0283,           "string",     STR0283,              "RA_SERVENT") //  "Cód Servent."
	self:oSchema:addProperty("RA_CODACER",      STR0284,           "string",     STR0284,              "RA_CODACER") //  "Cód Acervo"
	self:oSchema:addProperty("RA_REGCIVI",      STR0285,           "string",     STR0285,              "RA_REGCIVI") //  "Reg. Civil"
	self:oSchema:addProperty("RA_OCDTEXP",      STR0286,           "string",     STR0286,              "RA_OCDTEXP") //  "Orgão Classe Data Emissão"
	self:oSchema:addProperty("RA_OCEMIS",       STR0287,           "string",     STR0287,              "RA_OCEMIS") //  "Orgão de Classe Emissor"
	self:oSchema:addProperty("RA_OCDTVAL",      STR0288,           "string",     STR0288,              "RA_OCDTVAL") //  "OrgCL Dt Val"
	self:oSchema:addProperty("RA_TPLIVRO",      STR0289,           "string",     STR0289,              "RA_TPLIVRO") //  "Tipo Livro"

	//Relógio Registrador
	self:oSchema:addProperty("RA_TNOTRAB",      STR0290,           "string",     STR0290,              "RA_TNOTRAB") // "Turno Trab."
	self:oSchema:addProperty("RA_DESCTNOTRAB",  STR0291,           "string",     STR0291,              "RA_DESCTNOTRAB") // "Desc. Turno"
	self:oSchema:addProperty("RA_CHAPA",        STR0292,           "string",     STR0292,              "RA_CHAPA") // "Cod. Chapa"  
	self:oSchema:addProperty("RA_CRACHA",       STR0293,           "string",     STR0293,              "RA_CRACHA") // "Nr. Crachá"
	self:oSchema:addProperty("RA_REGRA",        STR0294,           "string",     STR0294,              "RA_REGRA") // "Regra Apont."
	self:oSchema:addProperty("RA_SEQTURN",      STR0295,           "string",     STR0295,              "RA_SEQTURN") // "Seq. ini. Turn."
	self:oSchema:addProperty("RA_BHFOL",        STR0296,           "string",     STR0296,              "RA_BHFOL") // "B.H. p/ Folh"
	self:oSchema:addProperty("RA_ACUMBH",       STR0297,           "string",     STR0297,              "RA_ACUMBH") // "Acum. B. Horas"
	self:oSchema:addProperty("RA_ROTFCH",       STR0298,           "string",     STR0298,              "RA_ROTFCH") // "Rot. Fechado"
	self:oSchema:addProperty("RA_NUPFCH",       STR0299,           "string",     STR0299,              "RA_NUPFCH") // "Num Pag Fech"
	self:oSchema:addProperty("RA_TPJORNA",      STR0300,           "string",     STR0300,              "RA_TPJORNA") // "Tp. Reg. J. Tra."
	self:oSchema:addProperty("RA_PRCFCH",       STR0301,           "string",     STR0301,              "RA_PRCFCH") // "Proc. fechado"
	self:oSchema:addProperty("RA_PERFCH",       STR0302,           "string",     STR0302,              "RA_PERFCH") // "Per. Fechado"

	//Outras Informações // 
	self:oSchema:addProperty("RA_SERVICO",      STR0303,           "string",     STR0303,              "RA_SERVICO") // "Tp. Serv. Aut"
	self:oSchema:addProperty("RA_CODRET",       STR0304,           "string",     STR0304,              "RA_CODRET") // "Cod. Retencao"
	self:oSchema:addProperty("RA_NUMINSC",      STR0305,           "string",     STR0305,              "RA_NUMINSC") // "Num. Insc. Aut."
	self:oSchema:addProperty("RA_NSOCIAL",      STR0306,           "string",     STR0306,              "RA_NSOCIAL") // "Nome Social"
	self:oSchema:addProperty("RA_MATMIG",       STR0307,           "string",     STR0307,              "RA_MATMIG") // "Mat. Migração"

	//Outros
	self:oSchema:addProperty("RA_CODUNIC",      STR0308,           "string",     STR0308,              "RA_CODUNIC") // "Cod. Único"
	self:oSchema:addProperty("RA_USRADM",       STR0309,           "string",     STR0309,              "RA_USRADM") // "Usr Adm"
	self:oSchema:addProperty("RA_DESCEP",       STR0310,           "string",     STR0310,              "RA_DESCEP") // "Ctr. Mat. TSV"
	self:oSchema:addProperty("RA_DESEPS",       STR0311,           "string",     STR0311,              "RA_DESEPS") // "Desc. Rem. Var"

	//Endereço
	self:oSchema:addProperty("RA_ENDEREC",      STR0312,           "string",     STR0312,              "RA_ENDEREC") // "Endereço"
	self:oSchema:addProperty("RA_NUMENDE",      STR0313,           "string",     STR0313,              "RA_NUMENDE") // "Num. Endereço"
	self:oSchema:addProperty("RA_LOGRTP",       STR0314,           "string",     STR0314,              "RA_LOGRTP") // "Tipo Lograd."
	self:oSchema:addProperty("RA_LOGRDSC",      STR0315,           "string",     STR0315,              "RA_LOGRDSC") // "Descr. Lograd."
	self:oSchema:addProperty("RA_LOGRNUM",      STR0316,           "string",     STR0316,              "RA_LOGRNUM") // "Nr. Logradouro"
	self:oSchema:addProperty("RA_COMPLEM",      STR0317,           "string",     STR0317,              "RA_COMPLEM") // "Compl Ender."
	self:oSchema:addProperty("RA_BAIRRO",       STR0318,           "string",     STR0318,              "RA_BAIRRO") // "Bairro"
	self:oSchema:addProperty("RA_ESTADO",       STR0319,           "string",     STR0319,              "RA_ESTADO") // "Estado"
	self:oSchema:addProperty("RA_MUNICIP",      STR0320,           "string",     STR0320,              "RA_MUNICIP") // "Município"
	self:oSchema:addProperty("RA_CEP",          STR0321,           "string",     STR0321,              "RA_CEP") // "CEP"
	self:oSchema:addProperty("RA_TIPENDE",      STR0322,           "string",     STR0322,              "RA_TIPENDE") // "Tp. Endereço"
	self:oSchema:addProperty("RA_ALTEND",       STR0323,           "string",     STR0323,              "RA_ALTEND") // "Alterou End."
	self:oSchema:addProperty("RA_CODMUN",       STR0324,           "string",     STR0324,              "RA_CODMUN") // "Cod. Municip."
	self:oSchema:addProperty("DESC_CODMUN",     STR0325,           "string",     STR0325,              "DESC_CODMUN") // "Nome. Municip"
	self:oSchema:addProperty("RA_CPOSTAL",      STR0326,           "string",     STR0326,              "RA_CPOSTAL") // "Caixa Postal"
	self:oSchema:addProperty("RA_RESEXT",       STR0327,           "string",     STR0327,              "RA_RESEXT") // "Res. Exterior"
	self:oSchema:addProperty("RA_PAISEXT",      STR0328,           "string",     STR0328,              "RA_PAISEXT") // "País Res. Ext."
	self:oSchema:addProperty("DESC_PAISEXT",    STR0329,           "string",     STR0329,              "DESC_PAISEXT") // "N. País Res."
	self:oSchema:addProperty("RA_CEPCXPO",      STR0330,           "string",     STR0330,              "RA_CEPCXPO") // "CEP C. Postal"
	self:oSchema:addProperty("RA_DEPIR",        STR0331,           "string",     STR0331,              "RA_DEPIR") // "Dep. I.R."
	self:oSchema:addProperty("RA_DEPSF",        STR0332,           "string",     STR0332,              "RA_DEPSF") // "Dep. Sal. Fam."
	self:oSchema:addProperty("RA_LOCBNF",       STR0333,           "string",     STR0333,              "RA_LOCBNF") // "Local Benef."
	self:oSchema:addProperty("RA_PLSAUDE",      STR0334,           "string",     STR0334,              "RA_PLSAUDE") // "Pl. Saúde"

	// Cargos e Salários
	self:oSchema:addProperty("RA_TABELA",       STR0335,           "string",     STR0335,               "RA_TABELA") // "Tabela Sal."
	self:oSchema:addProperty("RA_TABNIVE",      STR0336,           "string",     STR0336,               "RA_TABNIVE") // "Nível Tabela"
	self:oSchema:addProperty("RA_TABFAIX",      STR0337,           "string",     STR0337,               "RA_TABFAIX") // "Faixa Tabela"

	// Estrangeiro
	self:oSchema:addProperty("RA_DATCHEG",      STR0338,           "string",     STR0338,               "RA_DATCHEG") // "Data Chegada"
	self:oSchema:addProperty("RA_ANOCHEG",      STR0339,           "string",     STR0339,               "RA_ANOCHEG") // "Ano Chegada"
	self:oSchema:addProperty("RA_NUMNATU",      STR0340,           "string",     STR0340,               "RA_NUMNATU") // "Naturalizac."
	self:oSchema:addProperty("RA_DATNATU",      STR0341,           "string",     STR0341,               "RA_DATNATU") // "D. Naturaliza"
	self:oSchema:addProperty("RA_CASADBR",      STR0342,           "string",     STR0342,               "RA_CASADBR") // "Casado Bras."
	self:oSchema:addProperty("RA_FILHOBR",      STR0343,           "string",     STR0343,               "RA_FILHOBR") // "Filho Bras."
	self:oSchema:addProperty("RA_RNE",          STR0344,           "string",     STR0344,               "RA_RNE") // "Número RNE"
	self:oSchema:addProperty("RA_RNEORG",       STR0345,           "string",     STR0345,               "RA_RNEORG") // "Org. Emis. RNE"
	self:oSchema:addProperty("RA_RNEDEXP",      STR0346,           "string",     STR0346,               "RA_RNEDEXP") // "Dt. Exp. RNE"
	self:oSchema:addProperty("RA_INSSAUT",      STR0347,           "string",     STR0347,               "RA_INSSAUT") // "Calc. INSS"
	self:oSchema:addProperty("RA_CLASEST",      STR0348,           "string",     STR0348,               "RA_CLASEST") // "Class. Estra."

	// Adicionais
	self:oSchema:addProperty("RA_ADTPOSE",      STR0349,           "string",     STR0349,                "RA_ADTPOSE") // "Adc. Tmp. Serv."
	self:oSchema:addProperty("RA_PERICUL",      STR0350,           "string",     STR0350,                "RA_PERICUL") // "Hrs. Peric."
	self:oSchema:addProperty("RA_INSMAX",       STR0351,           "string",     STR0351,                "RA_INSMAX") // "Hrs. Ins. Max."
	self:oSchema:addProperty("RA_ADCTRF",       STR0352,           "string",     STR0352,                "RA_ADCTRF") // "%Adc. Trf."
	self:oSchema:addProperty("RA_ADCCONF",      STR0353,           "string",     STR0353,                "RA_ADCCONF") // "% Adc. Conf."
	self:oSchema:addProperty("RA_ADCPERI",      STR0354,           "string",     STR0354,                "RA_ADCPERI") // "Possui Per.?"
	self:oSchema:addProperty("RA_ADCINS",       STR0355,           "string",     STR0355,                "RA_ADCINS") // "Possui Insal."

	self:oSchema:addProperty("RA_RESP",         STR0356,           "string",     STR0356,                "RA_RESP") // "Responsável Legal"
	
	//Tarefas
	aCampos := {}
	AAdd(aCampos, {"TIPO",         STR0357,    "string",      "TIPO"}) // "Tipo"
    AAdd(aCampos, {"DATA_DE",      STR0358,    "string",      "DATA_DE"}) // "Data De"
    AAdd(aCampos, {"DATA_ATE",     STR0359,    "string",      "DATA_ATE"}) // "Data Até"
	AAdd(aCampos, {"TAREFA",       STR0360,    "string",      "TAREFA"}) // "Desc. Tarefa"
	AAdd(aCampos, {"AULA_SEMANA",  STR0361,    "string",      "AULA_SEMANA"}) // "Aula/Semana"
	AAdd(aCampos, {"Q_TAREFA",     STR0362,    "string",      "Q_TAREFA"}) // "Qtde. Tarefa"
	AAdd(aCampos, {"VLR_UNITARIO", STR0363,    "string",      "VLR_UNITARIO"}) // "Vlr. Unit."
	AAdd(aCampos, {"VLR_TOTAL",    STR0364,    "string",      "VLR_TOTAL"}) // "Vlr. Total."
    self:addNestedProperty("TAREFAS",  STR0365,  STR0365, NIL, aCampos) // Tarefas


	//Salarios
	aCampos := {}
	AAdd(aCampos, {"DATA",            STR0366,           "string",     "DATA"}) // "Data"
    AAdd(aCampos, {"DESC_AUMENTO",    STR0367,           "string",     "DESC_AUMENTO"}) // "Desc. Aumento"
    AAdd(aCampos, {"CATEGORIA",       STR0368,           "string",     "CATEGORIA"}) // "Categoria"
	AAdd(aCampos, {"PAGAMENTO",       STR0369,           "string",     "PAGAMENTO"}) // "Pagamento"
	AAdd(aCampos, {"VERBA",           STR0370,           "string",     "VERBA"}) // "Verba"
	AAdd(aCampos, {"VALOR",           STR0371,           "string",     "VALOR"}) // "Valor"
	AAdd(aCampos, {"FUNCAO",          STR0372,           "string",     "FUNCAO"}) // "Função"
	AAdd(aCampos, {"CARGO",           STR0160,           "string",     "CARGO"}) // "Cargo"
	AAdd(aCampos, {"CHAVE",           STR0373,           "string",     "CHAVE"}) // "Chave"
	AAdd(aCampos, {"DATA_DISSIDIO",   STR0374,           "string",     "DATA_DISSIDIO"}) // "Dt. Dissidio"
    self:addNestedProperty("SALARIOS",  STR0375,  STR0375, NIL, aCampos)

	//Afastamentos
	aCampos := {}
	AAdd(aCampos, {"DATA",            STR0366,           "string",     "DATA"}) // Data
    AAdd(aCampos, {"TIPO",            STR0376,           "string",     "TIPO"}) // "Tipo"
    AAdd(aCampos, {"DATA_INICIO",     STR0377,           "string",     "DATA_INICIO"}) // "Data Inicio"
	AAdd(aCampos, {"DATA_FIM",        STR0378,           "string",     "DATA_FIM"}) // "Data Fim"
    self:addNestedProperty("AFASTAMENTOS",  STR0379,  STR0379, NIL, aCampos) // "Afastamentos"

	//Ferias
	aCampos := {}
	AAdd(aCampos, {"PER_AQUISITIVO",   STR0380,         "string",      "PER_AQUISITIVO"}) // "Período Aquisitivo"
    AAdd(aCampos, {"PER_FERIAS",       STR0381,         "string",      "PER_FERIAS"}) // "Período de Férias"
    AAdd(aCampos, {"DATA_AVISO",       STR0382,         "string",      "DATA_AVISO"}) // "Data do Aviso"
	AAdd(aCampos, {"DATA_PGTO",        STR0383,         "string",      "DATA_PGTO"}) // "Data Pgto."
	AAdd(aCampos, {"D_FERIAS",         STR0384,         "string",      "D_FERIAS"}) // "D. Férias"
	AAdd(aCampos, {"D_ABONO",          STR0385,         "string",      "D_ABONO"}) // "D. Abono"
	AAdd(aCampos, {"D_LIC_REM",        STR0386,         "string",      "D_LIC_REM"}) // "D. Lic. Rem."
    self:addNestedProperty("FERIAS",  STR0387,  STR0387, NIL, aCampos) // "Ferias"

	//Dependentes
	aCampos := {} 
	AAdd(aCampos, {"COD",          STR0388,             "string",       "COD"}) // "Código"
    AAdd(aCampos, {"DEPENDENTE",   STR0389,             "string",       "DEPENDENTE"}) // "Dependente"
    AAdd(aCampos, {"DT_NASC",      STR0122,             "string",       "DT_NASC"}) // Data de Nascimento
	AAdd(aCampos, {"SEXO",         STR0128,             "string",       "SEXO"}) // Sexo
	AAdd(aCampos, {"PARENTESCO",   STR0390,             "string",       "PARENTESCO"}) // "Parentesco"
	AAdd(aCampos, {"DEP_IR",       STR0391,             "string",       "DEP_IR"}) // "Dep. IR." 
	AAdd(aCampos, {"DEP_SALF",     STR0392,             "string",       "DEP_SALF"}) // "Dep. Sal. Fam."
    self:addNestedProperty("DEPENDENTES",  STR0393,  STR0393, NIL, aCampos) // "Dependentes"

	//Beneficiários
	aCampos := {}
	AAdd(aCampos, {"COD",           STR0388,            "string",      "COD"}) // "Código"  
    AAdd(aCampos, {"BENEFICIARIO",  STR0394,            "string",      "BENEFICIARIO"}) // "Beneficiário"
    self:addNestedProperty("BENEFICIARIOS",  STR0395,  STR0395, NIL, aCampos) // "Beneficiários"

	//Contribuições
	aCampos := {}
	AAdd(aCampos, {"DATA",          STR0366,       "string",    "DATA"}) // Data
    AAdd(aCampos, {"MES",           STR0396,       "string",     "MES"}) //  "Mês"
	AAdd(aCampos, {"VALOR",         STR0397,     "string",     "VALOR"}) //  "Valor"
	AAdd(aCampos, {"SINDICATO",     STR0398,  "string",     "SINDICATO"}) //  "Sindicato"
    self:addNestedProperty("CONTRIBUICOES_ASS",  STR0399,  STR0399, NIL, aCampos) // "Contribuições Assistencial"

	aCampos := {}
	AAdd(aCampos, {"DATA",          STR0366,       "string",    "DATA"}) // Data
    AAdd(aCampos, {"MES",           STR0396,       "string",     "MES"}) //  "Mês"
	AAdd(aCampos, {"VALOR",         STR0397,       "string",     "VALOR"}) //  "Valor"
	AAdd(aCampos, {"SINDICATO",     STR0398,       "string",     "SINDICATO"}) //  "Sindicato"
    self:addNestedProperty("CONTRIBUICOES_SIN",  STR0400,  STR0400, NIL, aCampos) // "Contribuições Sindical"

	// Transferencias
	aCampos := {}
	AAdd(aCampos, {"TIPO",          STR0357,            "string",    "TIPO"}) // "Tipo"
    AAdd(aCampos, {"DATA",          STR0366,            "string",    "DATA"}) // Data
	AAdd(aCampos, {"MAT_CC",        STR0401,            "string",    "MAT_CC"}) // ""Matricula e CC"
	AAdd(aCampos, {"FILIAL",        STR0108,            "string",    "FILIAL"}) // Filial
	AAdd(aCampos, {"CGC_ENDERECO",  STR0402,            "string",    "CGC_ENDERECO"}) // "Cgc e End."
	AAdd(aCampos, {"BAIRRO_CD_UF",  STR0403,            "string",    "BAIRRO_CD_UF"}) // "Bairro, Cidade e UF"
	self:addNestedProperty("TRANSFERENCIA",  STR0404,  STR0404, NIL, aCampos) // "Transferencia"

	// Treinamento
	aCampos := {}
	AAdd(aCampos, {"CURSO",         STR0405,             "string",    "CURSO"}) // "Curso"
	AAdd(aCampos, {"DESCRICAO",     STR0406,             "string",    "DESCRICAO"}) // "Descrição"
	AAdd(aCampos, {"DT_INICIAL",    STR0407,             "string",    "DT_INICIAL"}) // "Dt. Inicial"
	AAdd(aCampos, {"DT_FINAL",      STR0408,             "string",    "DT_FINAL"}) // "Dt. Final."
	AAdd(aCampos, {"VALIDADE",      STR0409,             "string",    "VALIDADE"}) // "Validade"
	self:addNestedProperty("TREINAMENTO",  STR0410,  STR0410, NIL, aCampos) // "Treinamento"

	// Curso
	aCampos := {}
	AAdd(aCampos, {"CURSO",          STR0405,            "string",     "CURSO"}) // "Curso"
	AAdd(aCampos, {"DESCRICAO",      STR0406,            "string",     "DESCRICAO"}) // "Descrição"
	AAdd(aCampos, {"DT_INICIAL",     STR0407,            "string",     "DT_INICIAL"}) // "Dt. Inicial"
	AAdd(aCampos, {"DT_FINAL",       STR0408,            "string",     "DT_FINAL"}) // "Dt. Final."
	AAdd(aCampos, {"VALIDADE",       STR0409,            "string",     "VALIDADE"}) // "Validade"
	self:addNestedProperty("CURSO",  STR0405,  STR0405, NIL, aCampos) // "Curso"

	// Convocações
	aCampos := {}
	AAdd(aCampos, {"DT_CONVOC",      STR0411,            "string",    "DT_CONVOC"}) //  "Dt. Convocação"
	AAdd(aCampos, {"INIC_ATIV",      STR0412,            "string",    "INIC_ATIV"}) //  "Início Atividade"
	AAdd(aCampos, {"FIM_ATIV",       STR0413,            "string",    "FIM_ATIV"}) //  "Fim Atividade"
	AAdd(aCampos, {"COD_ESOCIAL",    STR0414,            "string",    "COD_ESOCIAL"}) //  "Cod. eSocial."
	AAdd(aCampos, {"SALARIO",        STR0198,            "string",    "SALARIO"}) //  "Salário"
	AAdd(aCampos, {"FUNCAO",         STR0372,            "string",    "FUNCAO"}) //  "Função"
	self:addNestedProperty("CONVOCACOES",  STR0415,  STR0415, NIL, aCampos) // "Convocações"



Return self:oSchema


/*/{Protheus.doc} fImpTarefas
Imprime Tarefas
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpTarefas(cAlias as Character, cImpSalTar as Character, aTarefas as Array, dDataIni as Date, dDataFim as Date)
	Local cCategAnt	   as Character // Categoria do funcionário no período selecionado
	Local cChaveSort   as Character
	Local cTipoTar     as Character
	Local cMotivo      as Character
	Local aArea        as Array
	Local aTar         as Array
	Local lImpTar      as Logical
	Local nPos         as Numeric
	

	cCategAnt := ""
	cChaveSort := ""
	cTipoTar := ""
	cMotivo := ""
	aArea := {}
	aTar := {}
	lImpTar := .T.
	nPos := 0
	
	
	// Categoria do funcionário no período selecionado
	cCategAnt := (cAlias)->RA_CATFUNC 

	// Verifica se o funcionario era Professor/Tarefeiro anteriormente
	// I - Professor Mensalista, J - Professor Aulista, T - Tarefeiro
	If !((cAlias)->RA_CATFUNC $ "I#J#T")

		aArea := SR7->(FwGetArea())

		DbSelectArea("SR7")
		DbSetOrder(2)

		If SR7->(dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT))
			While SR7->( !EOF()) .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = SR7->R7_FILIAL+SR7->R7_MAT
				If !(SR7->R7_CATFUNC == (cAlias)->RA_CATFUNC) .And. SR7->R7_CATFUNC $ "I#J#T"
					cCategAnt := SR7->R7_CATFUNC
				EndIf
				SR7->(DbSkip())
			EndDo
		EndIf

		FwRestArea(aArea)
	EndIf

	// Verifica se é Professor e/ou Tarefeiro e se parametro Prof./Tarefeiros Impr. é 2 (Tarefas) ou 3 (Ambos)
	If ((cAlias)->RA_CATFUNC $ "I#J#T" .Or. cCategAnt $ "I#J#T") .and. (cImpSalTar == '2' .or. cImpSalTar== '3')

		aArea:= {}
		aArea := SRO->(FwGetArea())

		dbSelectArea("SRO")
		dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT)

		While SRO->( !EOF()) .And. SRO->RO_FILIAL+SRO->RO_MAT == (cAlias)->RA_FILIAL+(cAlias)->RA_MAT
			
			// Verifica periodo de impressao
			If ( !Empty(SRO->RO_DATAATE) .and. SRO->RO_DATAATE < dDataIni ) .or. (SRO->RO_DATA > dDataFim)
				lImpTar := .F.			
			Endif					
			
			// Filtra tipos de tarefas
			If (cAlias)->RA_CATFUNC $ "I#J" .Or. cCategAnt $ "I#J"
				lImpTar := .F.	
				For nPos:=1 To Len(aTarefas)
					If ( SRO->RO_TIPO $ aTarefas[nPos]) 
						lImpTar := .T.										
					EndIf
				Next nPos
			EndIf

			If SRO->RO_QUANT == 0
				lImpTar := .F.
			Endif	

			if lImpTar == .T.			
				cChaveSort := DTOS(SRO->RO_DATA)+StrZero(SRO->RO_VALOR,15)+StrZero(SRO->(Recno()),15) + "0"	

				cTipoTar := "-"		

				If SRO->RO_TIPO == "1"
					cTipoTar := OemtoAnsi(STR0004)	//"Fixa"
				ElseIf SRO->RO_TIPO  == "2"
					cTipoTar := OemtoAnsi(STR0005)	//"Variavel"
				ElseIf SRO->RO_TIPO  == "3"
					cTipoTar := OemtoAnsi(STR0006)	//"Adit. Fixo"
				ElseIf SRO->RO_TIPO  == "4"
					cTipoTar := OemtoAnsi(STR0007) 	//"Adit. Var."
				EndIf

				// Professor
				If !((cAlias)->RA_CATFUNC $ "I#J" .And. cCategAnt $ "I#J")
					Aadd(aTar,{cTipoTar,DTOC(SRO->RO_DATA),DTOC(SRO->RO_DATAATE),SRO->RO_CODTAR+"-"+fDescTarefa(SRO->RO_CODTAR),Transform(SRO->RO_QTDSEM,"@E 9,999,999.99"),Transform(SRO->RO_QUANT,"@E 9,999,999.99"),Transform(SRO->RO_VALOR,"@E 99,999,999.99"),Transform(SRO->RO_VALTOT,"@E 99,999,999.99"),cChaveSort })
				// Tarefeiro
				Else
					Aadd(aTar,{cTipoTar,DTOC(SRO->RO_DATA),DTOC(SRO->RO_DATAATE),SRO->RO_CODTAR+"-"+fDescTarefa(SRO->RO_CODTAR),Transform(SRO->RO_QTDSEM,"@E 999.99"),Transform(SRO->RO_QUANT,"@E 999.99"),Transform(SRO->RO_VALOR,"@E 99,999,999.99"),Transform(SRO->RO_VALTOT,"@E 99,999,999.99"),cChaveSort })
				EndIf

				// Impressao do motivo da alteracao da tarefa					
				If ((cAlias)->RA_CATFUNC $ "I*J" .Or. cCategAnt $ "I#J") .And. !Empty(SRO->RO_TPALT)
					dbSelectArea( "SX5" )
					If dbSeek( xFilial("SX5", (cAlias)->RA_FILIAL) + "41" + SRO->RO_TPALT )
						cMotivo := fTAcento( SubStr(X5Descri(),1,31) )
					Endif
					If !Empty(cMotivo)
						Aadd(aTar,{"","","",STR0044+cMotivo,"","","","",Soma1(cChaveSort)})
					EndIf
					dbSelectArea("SRO")
				EndIf			
			Endif
			SRO->( dbSkip() )
		EndDo
	EndIf
RestArea( aArea)
Return aTar


/*/{Protheus.doc} fImpSal
Imprime alterações salariais
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpSal(cAlias as Character, cImpSalTar as Character, dDataIni as Date, dDataFim as Date)
	Local aSal         as Array
	Local lImpSal      as Logical
	Local lSal         as Logical
	Local nVez         as Numeric
	Local nPos         as Numeric
	Local cDescS       as Character
	Local cChaveSort   as Character
	Local dDataDiss    as Date

	aSal := {}
	lImpSal := .T.
	lSal := .T.
	nVez := 0
	nPos := 0
	cDescS := ""
	cChaveSort := ""

	lImpSal := If ((cAlias)->RA_CATFUNC $ "I#J#T" .and. cImpSalTar == '2' ,.F., lImpSal)

	If lImpSal
		dbSelectArea("SR7")
		SR7->(DbSetOrder(2))

		dbSelectArea("SR3")
		SR3->(DbSetOrder(2))

		If SR7->(dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT))
			
			While SR7->( !EOF()) .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = SR7->R7_FILIAL+SR7->R7_MAT

				nVez := 0
				dbSelectArea("SX5")

				SX5->(dbSeek(xFilial("SX5", (cAlias)->RA_FILIAL)+"41"+SR7->R7_TIPO))

				If !SX5->(Eof())
					cDescS := fTAcento(SUBS(X5Descri(),1,20))
				Else
					cDescS := STR0009  //"Nao Cad. Tabela(41) "
				Endif

				If SR3->(dBseek(SR7->R7_FILIAL+SR7->R7_MAT+DTOS(SR7->R7_DATA)+SR7->R7_SEQ+SR7->R7_TIPO))
					While SR3->(!Eof()) .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = SR3->R3_FILIAL+SR3->R3_MAT .And. SR3->R3_DATA = SR7->R7_DATA .And. SR7->R7_SEQ = SR3->R3_SEQ .And. SR7->R7_TIPO = SR3->R3_TIPO
						dDataDiss := SR3->R3_DTCDISS

						//Verifica periodo de impressao
						If SR3->R3_DATA < dDataIni .or. SR3->R3_DATA > dDataFim
							lSal := .F.
						Endif						

						//imprime somente a ultima alteração referente a mesma data por dissidio
						If !Empty(dDataDiss) .and. lSal == .T.
							nPos := Ascan(aSal,{|x| x[10] == DTOC(dDataDiss) })
							If nPos > 0 .And. SR7->R7_DATA > ctod(aSal[nPos][1])
								aDel(aSal,nPos)
								aSize(aSal,Len(aSal)-1)
							EndIf
						EndIf

						cChaveSort := DTOS(SR7->R7_DATA)+StrZero(SR3->R3_VALOR,15)+StrZero(SR3->(Recno()),15) + "0"
						
						If nVez = 0
							Aadd(aSal,{DTOC(SR7->R7_DATA),cDescS,SR7->R7_CATFUNC,SR7->R7_TIPOPGT,Subs(SR3->R3_DESCPD,1,15),Transform(SR3->R3_VALOR,"@E 99,999,999.99"),SR7->R7_DESCFUN,SR7->R7_DESCCAR,cChaveSort,DTOC(dDataDiss) })
							nVez := 1
						Else
							Aadd(aSal,{DTOC(SR7->R7_DATA),"","","",Subs(SR3->R3_DESCPD,1,15),Transform(SR3->R3_VALOR,"@E 99,999,999.99"),SR7->R7_DESCFUN,SR7->R7_DESCCAR, cChaveSort,DTOC(dDataDiss) })
						EndIf

						SR3->(dbSkip())
					Enddo
				EndIf

				SR7->(dbSkip())
			Enddo
		EndIf
	EndIf
Return aSal


/*/{Protheus.doc} fImpAfas
Imprime afastamentos
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpAfas(cAlias as Character, dDataIni as Date, dDataFim as Date)

	Local aAfas as Array
	Local aArea	 as Array
	Local cTpAf  as Character
	Local lImpAfas as Logical
	Local cDescA   as Character

	aArea := GetArea()
	aAfas := {}
	cTpAf := ""
	lImpAfas := .T.
	cDescA := ""

	dbSelectArea("SR8")
	dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT)

	While SR8->(!EOF()) .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = SR8->R8_FILIAL+SR8->R8_MAT

		//Verifica período de impressão
		If (SR8->R8_DATAINI < dDataIni) .or. (SR8->R8_DATAINI > dDataFim)
			lImpAfas := .F.
		Endif

		if lImpAfas == .T.

			dbSelectArea("RCM")
			RCM->(dbSeek( xFilial("RCM") + SR8->R8_TIPOAFA))
			
			If ! EOF()
				cDescA := fTacento(RCM->RCM_DESCRI)
			Else
				cDescA := STR0045
			Endif

			dbSelectArea("SR8")

			cTpAf := fCarTpAf(SR8->R8_TIPOAFA)

			If cTpAf # "F" .Or. (cTpAf == "F" .And. (cAlias)->RA_CATFUNC $ "E*G")
				Aadd(aAfas,{DTOC(SR8->R8_DATA),alltrim(cDescA),DTOC(SR8->R8_DATAINI),DTOC(SR8->R8_DATAFIM) })
			EndIf			
		Endif
	SR8->(dbSkip())
	Enddo	
RestArea( aArea)
Return aAfas

/*
ÉÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍ»
ºPrograma  ³fCarTpAf  ºAutor  ³Eduardo K.		   º Data ³  11/08/17   º
ÌÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
ºDesc.     ³ Obtem Tipo de Ausência conforme a tabela RCM               º
ÈÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ*/

Static Function fCarTpAf(cCodAus)

Local cTipAus := ""
Local aArea   := SR8->(GetArea())

dbSelectArea("RCM")
If DbSeek(xFilial("RCM")+cCodAus)
	If RCM->RCM_TIPOAF == "1"
		cTipAus := "A"
	ElseIf RCM->RCM_TIPOAF == "4"
		cTipAus := "F"
	Endif
Endif

RestArea(aArea)

Return (cTipAus)


/*/{Protheus.doc} fImpFerias
Imprime Ferias
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpFerias(cAlias as Character, dDataIni as Date, dDataFim as Date, cFerLic as Character)

	Local aFer as Array
	Local aArea as Array 
	Local lImpFer as Logical
	
	aArea := GetArea()
	aFer := {}
	lImpFer := .T.

	dbSelectArea("SRH")
	dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT)
	
	While SRH->(!EOf()) .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = SRH->RH_FILIAL+SRH->RH_MAT

		//Verifica período de impressão
		If SRH->RH_DATAINI < dDataIni .or. SRH->RH_DATAINI > dDataFim
			lImpFer := .F.
		Endif

		if lImpFer == .T.
			Aadd(aFer,{DTOC(SRH->RH_DATABAS)+ " a "+DTOC(SRH->RH_DBASEAT), ;
				DTOC(SRH->RH_DATAINI) +" a " +DTOC( SRH->RH_DATAFIM - If( cFerLic == '1', 0, SRH->RH_DIALRE1 + SRH->RH_DIALREM ) ), ;
				DTOC(SRH->RH_DTAVISO) , DTOC(SRH->RH_DTRECIB)      , ;
				STR(SRH->RH_DFERIAS), STR(SRH->RH_DABONPE), STR(SRH->RH_DIALRE1 + SRH->RH_DIALREM) })
		endif

		SRH->(dbSkip())
	Enddo
RestArea( aArea)
Return aFer

/*/{Protheus.doc} fImpDep
Imprime Dependente
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpDep(cAlias as Character)
	Local aDep   as Array
	Local aArea  as Array
	Local cSexo  as Character
	Local cGrauPar as Character
	Local cTipIR as Character
	Local cTipSF as Character
	
	aArea := GetArea()
	aDep:= {}
	cSexo := ""
	cGrauPar := ""
	cTipIR := ""
	cTipSF := ""

	dbSelectArea("SRB")
	dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT)

	While SRB->(!Eof()) .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = SRB->RB_FILIAL+SRB->RB_MAT
		
		cSexo := fDescSexo(SRB->RB_SEXO)
		
		If SRB->RB_GRAUPAR  == "F"
			cGrauPar := STR0046		 //"Filho"
		ElseIf SRB->RB_GRAUPAR  == "C"
			cGrauPar := STR0047 	 //"Conjuge"
		ElseIf SRB->RB_GRAUPAR  == "P"
			cGrauPar := STR0048		 //"Pai/Mae"
		ElseIf SRB->RB_GRAUPAR  == "E"
			cGrauPar := STR0049	 	 //"Enteado"
		Else
			cGrauPar :=  STR0050 	 //"Outros"
		EndIf

		cTipIR	:= If(SRB->RB_TIPIR =="4", STR0037, STR0051)
		cTipSF	:= If(SRB->RB_TIPSF =="3", STR0037, STR0051)

		Aadd(aDep,{SRB->RB_COD,SRB->RB_NOME,Dtoc(SRB->RB_DTNASC),cSexo,cGrauPar,cTipIR,cTipSF,substr(SRB->RB_NOME,1,40),.F. })
			
		SRB->(dbSkip())
	Enddo
	RestArea( aArea)
Return aDep

Static Function fDescSexo(cCod)
Return(If(cCod =="F", STR0053, STR0052 ))	//"Feminino"###"Masculino"

/*/{Protheus.doc} fImpBenef
Imprime Beneficiarios
@author Karina Alves
@since 25/11/2024
/*/Static Function fImpBenef(cAlias as Character)

	Local aBenef as Array
	Local aArea  as Array

	aBenef := {}
	aArea := GetArea()

	dbSelectArea("SRQ")
	dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT)

	While SRQ->(!Eof()) .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = SRQ->RQ_FILIAL+SRQ->RQ_MAT
		Aadd(aBenef,{SRQ->RQ_ORDEM,SRQ->RQ_NOME })
		SRQ->(dbSkip())
	Enddo	
	RestArea( aArea)	
Return aBenef

/*/{Protheus.doc} fImpContrib
Imprime as Contribuições 
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpContrib(cAlias as Character, dDataIni as Date, dDataFim as Date)

	Local aPerAtual as Array
	Local aCodFol as Array
	Local aTransf as Array
	Local aChave  as Array
	Local aSindica as Array
	Local aConSin as Array
	Local aConAss as Array
	Local aAux as Array
	Local aCont as Array
	Local cPerAtual as Character
	Local cSindica as Character
	Local cDescSin as Character
	Local cChave as Character
	Local cDescACodFol as Character
	Local dDataBase as Date	
	Local dDataAux as Date		
	Local lClasOutEmp as Logical
	Local lImpAux as Logical	
	Local lImprimir as Logical	
	Local nPosAux as Numeric
	Local nStart as Numeric
	Local nPos as Numeric
	Local nRecSRA as Numeric
	Local nTra as Numeric
	Local nX as Numeric		

	aPerAtual := {}
	aCodFol := {}
	aCont := {}
	aTransf := {}
	aChave := {}
	aSindica := {}
	aAux := {}
	aConAss := {}
	aConSin := {}
	cPerAtual := ""
	dDataBase := dDataIni
	nTra := 1
	nPos := 1
	nRecSRA := SRA->( Recno() )
	cSindica := ""
	cDescSin := ""
	cChave := ""
	lClasOutEmp := .F.
	cDescACodFol := ""
	lImprimir := .T.	
	nPosAux := 1
	nStart := 1
	lImpAux := .F.	
	nX := 1

	fGetPerAtual( @aPerAtual, xFilial("RCH"), (cAlias)->RA_PROCES, fGetRotOrdinar())

	If Empty(aPerAtual)
		fGetPerAtual(@aPerAtual, xFilial("RCH"), (cAlias)->RA_PROCES, fGetCalcRot('9'))
	EndIf

	cPerAtual := IIF(!(Empty(aPerAtual)), aPerAtual[1,1], AnoMes(dDataBase))

	IF !Fp_CodFol(@aCodFol,(cAlias)->RA_FILIAL)
		Return(aConSin)
	EndIF

	// Seleciona o Arquivo de Transferencias e Retorna Todas as Transferencias do Funcionario 
	fTransf(@aTransf,,,,,,,.T.)

	For nTra := 1 To Len(aTransf)
		//Carrega apenas as Transferencias Entre Filiais e Empresas 
		IF !( aTransf[nTra,1] == aTransf[nTra,4] ) .or. !(Subst(aTransf[nTra,2],1,FWGETTAMFILIAL) == Subst(aTransf[nTra,5],1,FWGETTAMFILIAL) )
			aAdd(aChave,{	aTransf[nTra,1] ,; // Empresa De
							aTransf[nTra,2] ,; // Filial + Matricula De
							aTransf[nTra,3] ,; // Centro de Custo De
							aTransf[nTra,4] ,; // Empresa Para
							aTransf[nTra,5] ,; // Filial + Matricula Para
							aTransf[nTra,6] ,; // Centro de Custo Para
							aTransf[nTra,7] ,; // Data da Transferencia
						} )
		EndIF
	Next nTra

	//Grava em aChave a Situacao Atual do Funcionario              
	IF aScan( aChave,{ |x| ( x[1] + x[2] ) == ( cEmpAnt + (cAlias)->RA_FILIAL+(cAlias)->RA_MAT ) } ) == 0
		(cAlias)->( aAdd(aChave,{									 ;
								cEmpAnt								,; // 01 - Empresa Origem
								RA_FILIAL+RA_MAT   					,; // 02 - Filial + Matricula Origem
								RA_CC								,; // 03 - Centro de Custo Origem
								cEmpAnt								,; // 04 - Empresa Destino
								RA_FILIAL+RA_MAT      				,; // 05 - Filial + Matricula Destino
								RA_CC								,; // 06 - Centro de Custo Destino
								Nil									,; // 07 - Data da Transferencia
								RA_FILIAL							,; // 08 - Filial Origem
							}									 ;
						)											 ;
					)
	Endif

	//Verifica se Teve Alteracao de Sindicato                      
	IF Len(aChave) > 0
		For nPos := 1 To Len(aChave)
			cChave := aChave[nPos,2]
			SR9->(DbSetOrder(1))
			IF SR9->( dbSeek( cChave + "RA_SINDICA" ,.T.) )
				dbSelectArea('SR9')
				While SR9->( !Eof()  .and. R9_FILIAL+R9_MAT+R9_CAMPO == cChave + "RA_SINDICA" )

					//Assume Sempre a Ultima Alteracao quando Feita no Mesmo Mes			
					IF ( x := aScan( aSindica , { |y| MesAno( y[1] ) == MesAno( SR9->R9_DATA ) } ) ) > 0
						aSindica[x,1] := SR9->R9_DATA
						aSindica[x,2] := Subst(R9_DESC,1,2)
						aSindica[x,3] := AllTrim( fDesc("RCE",Subst(SR9->R9_DESC,1,2),"RCE_DESCRI",40, SR9->R9_FILIAL ) )
					Else
						SR9->( aAdd( aSindica ,{ R9_DATA , Subst(R9_DESC,1,2),AllTrim( fDesc("RCE",Subst(R9_DESC,1,2),"RCE_DESCRI",40,R9_FILIAL))}))
					EndIF
					dbSelectArea('SR9')
					dbSkip()
				EndDo
			EndIF
		Next nPos
	EndIF

	// Verifica Se houve Troca de Sindicato por transferencia de FILIAL
	IF Len( aChave ) > 0
		For nPos := 1 To Len( aChave )
			If Len(aChave[nPos]) >= 8	// Se nao tiver todos os elementos, indica sindicato atual e nao processa neste bloco de codigo

				cSindica := Posicione("SRA",1,aChave[nPos, 2],"RA_SINDICA")

				If Empty(cSindica) // Se não encontrou o sindicato verifico se não foi por conta do filtro de impressão do relatório
					dbSelectArea("SRA")
					cSindica := Posicione("SRA",1,aChave[nPos,2],"RA_SINDICA")					
				EndIf

				cDescSin := AllTrim( fDesc("RCE", cSindica, "RCE_DESCRI", 40, aChave[nPos,8]))
				IF ! Empty( aSindica ) .and. aChave[nPos,7] # Nil
					aAdd( aSindica , { aChave[nPos,7] , cSindica, cDescSin } )
				ElseIf aChave[nPos,7] # Nil
					aSindica := { { aChave[nPos,7], cSindica, cDescSin } }
				EndIf
			EndIf
		next nPos
	EndIf	

	IF !Empty(aSindica)
		IF  dDataBase > aSindica[ Len(aSindica), 1 ] .or. aSindica[ Len(aSindica), 1 ] == Nil
			dDataAux := dDataBase
		Else
			dDataAux := ( aSindica[Len(aSindica),1] + 360 ) 
		EndIF

		aAdd( aSindica , {dDataaux,(cAlias)->RA_SINDICA, AllTrim( fDesc("RCE",(cAlias)->RA_SINDICA,"RCE_DESCRI",40,(cAlias)->RA_FILIAL) ) } )		
	Else
		aSindica := { { dDataBase , (cAlias)->RA_SINDICA, AllTrim( fDesc("RCE",(cAlias)->RA_SINDICA,"RCE_DESCRI",40,(cAlias)->RA_FILIAL) ) } }
	EndIF

	cSindica := aSindica[ Len(aSindica) , 2 ]
	cDescSin := AllTrim( fDesc("RCE",(cAlias)->RA_SINDICA,"RCE_DESCRI",40,(cAlias)->RA_FILIAL))

	// Ordena as Alteracoes de Sindicato Ordem Crescente de Data
	aSort( aSindica,,,{ |x,y| x[1] < y[1] } )

	dbSelectArea("SRD")	
	dbSetOrder(1) // ORDENANDO A SRD ENCONTRAR AS INFORMAÇÕES QUE VEM DO aChave

	cChave := ""

	For nPos := 1 To Len(aChave)
		If cChave <> aChave[nPos, 2]
			cChave	:=	aChave[nPos, 2]	
		EndIf

		dbSeek(cChave)

		While (SRD->(!Eof()) .and. cChave == SRD->RD_FILIAL+SRD->RD_MAT )
			dDataAux	:=	(cAlias)->RA_ADMISSA
			lClasOutEmp 	:= .F.

			// So Imprime verba de Contribuicao Sindical 
			IF !(SRD->RD_PD $ (aCodFol[068,1] + '_' + aCodFol[246,1] + '_' + aCodFol[069,1]))
				lImprimir := .F.
			//Se a contrib.sindical foi efetuada em outra empresa, a descr. do sindicato sera a mesma do ID 246 
			ElseIf SRD->RD_PD $ aCodFol[246,1] .or.  (! Empty(SRD->RD_EMPRESA) .And. SRD->RD_EMPRESA # cEmpAnt)
				cDescACodFol	:= fDesc("SRV",aCodFol[246,1], "RV_DESC")
				lClasOutEmp 	:= .T.
			EndIF
			// Verifica se a Verba pertence a empresa Atual 
			If 	cEmpAnt # aChave[nPos,1]
				lImprimir := .F.
			EndIF

			// Verifica periodo de impressao³
			If SRD->RD_DATARQ < MesAno(dDataIni) .or. SRD->RD_DATARQ > MesAno(dDataFim)
				lImprimir := .F.
			EndIf	

			if lImprimir == .T.

				// Verifica se a Alteracao de Sindicato esta dentro do Periodo a Ser Listado.
				For nX := 1 To Len( aSindica )
					IF SRD->RD_DATARQ >= MesAno( aSindica[nX,1] ) .or. nX == 1 //Se a data for menor que o primeiro registro de transferencia, assume como o primeiro sindicato.
						cSindica := aSindica[nX,2]
						cDescSin := aSindica[nX,3]
					EndIF
				Next nX
				
				nPosAux	:= Ascan(aConSin,{|X| X[1]+x[5] == DTOC(RD_DATPGT)+IF( SRD->RD_PD $ ( aCodFol[069,1]), "A","S") })

				If nPosAux == 0
					SRD->( Aadd(aConSin,{ DTOC(RD_DATPGT), Subst(RD_DATARQ , -2 ), Transform(RD_VALOR,"@E 999,999,999.99"), If(lClasOutEmp,cDescACodFol, cDescSin ) ,;
											IF( SRD->RD_PD $ ( aCodFol[069,1]), "A","S");
										} ))
				Else
					aConSin[nPosAux,3] := Transform(Val(aConSin[nPosAux,3]) + SRD->RD_VALOR,"@E 999,999,999.99")
				EndIf
			Endif

			dbSelectArea("SRD")
			dbSkip()
		Enddo
	Next nPos

	//Se o Período atual estiver contido dentro do intervalo selecionado.
	if(cPerAtual >= MesAno(dDataIni) .And. cPerAtual <= MesAno(dDataFim))
		nStart	:= Len(aConSin)+ 1
		For nPos := 1 To Len(aChave)
			if !(cEmpAnt # aChave[nPos,1] )			

				dDataAux :=	(cAlias)->RA_ADMISSA
				cChave	:=	aChave[nPos, 2]
				dbSelectArea("SRC")
				SRC->(dbSetOrder(1))
				SRC->(dbSeek(cChave))

				lImprimir := .T.

				While (SRC->(!Eof()) .and. cChave = SRC->RC_FILIAL+SRC->RC_MAT )

				
					IF !( SRC->RC_PD $ (  aCodFol[068,1] + '_' + aCodFol[246,1] + '_' + aCodFol[069,1] ) ) .Or. SRC->RC_DATA < dDataIni .Or. SRC->RC_DATA > dDataFim
						lImprimir := .F.
					Else
						lImprimir := .T.
					EndIF

					lImpAux := .F.

					If lImprimir == .T.
							For nPosAux := 1 To Len( aSindica )
								IF (SRC->RC_DATA >= Stod(dDataAux) .And. SRC->RC_DATA <= aSindica[nPosAux,1]) .and. lImpAux == .F.
									If nPosAux # 1 .and. MesAno( aSindica[nPosAux,1] ) > MesAno( dDataAux ) .and. Year( aSindica[nPosAux,1] ) > Year( SRC->RC_DATA )
										cSindica := cSindAnt
										cDescSin := cDescAnt
									Else
										cSindica := aSindica[nPosAux,2]
										cDescSin := aSindica[nPosAux,3]
									Endif
									lImpAux := .T.
								EndIF
								dDataAux	:= Dtos(aSindica[nPosAux,1])
								cSindAnt	:= aSindica[nPosAux,2]
								cDescAnt	:= aSindica[nPosAux,3]
							Next nPosAux

							nPosAux	:= aScan(aConSin,{|X| X[1]+x[5] == DtoC(SRC->RC_DATA) + IIF( SRC->RC_PD $ ( aCodFol[069,1]), "A","S") },nStart)

							if(nPosAux == 0)
								aAdd(aConSin,{DtoC(SRC->RC_DATA),;
												Substr(SRC->RC_PERIODO,5,2),;
												Transform(SRC->RC_VALOR,"@E 999,999,999.99"),;
												cDescSin,;
												IIF(SRC->RC_PD $ ( aCodFol[069,1]),"A","S")})
							Else
								aConSin[nPosAux,3] := Transform(Val(StrTran(aConSin[nPosAux,3],",",".")) + SRC->RC_VALOR,"@E 999,999,999.99")
							endIf
					EndiF
					SRC->(dbSkip())
				Enddo
			endIf
		Next nPos
	endIf
Return aConSin

/*/{Protheus.doc} fImpTra
Imprime as Transferências
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpTra(dDataIni as Date, dDataFim as Date, cTransf as Character, cImpFilial as Character)

	Local aTransf as Array
	Local aTraFE  as Array
	Local aArea as Array
	Local nTra as Numeric
	Local nLen as Numeric
	Local cMatDe as Character
	Local cMatP as Character
	Local cCCustoDe as Character
	Local cCCustoP as Character	
	Local cEmp as Character
	Local cFil as Character
	Local cDescEmp as Character
	Local cDescFil as Character
	Local cStringT as Character	
	Local cCgc as Character
	Local cTipEnd	as Character
	Local cEndereco as Character
	Local cBairro as Character
	Local cCidade as Character
	Local cEstado as Character
	Local dDataTra as Date
	Local nSvRecno	:=	SM0->( Recno () )
	
	aTransf := {}
	aTraFE := {}
	nTra := 1
	cMatDe := ""
	cMatP := ""
	cCCustoDe := ""
	cCCustoP := ""
	nLen :=	TAMSX3("RE_MATD")[1]
	cEmp := ""
	cFil := ""
	aArea := GetArea()
	cDescEmp := ""
	cDescFil := ""
	cStringT := ""
	cCgc := ""
	cTipEnd := GetMv("MV_PAREND")
	cEndereco := ""
	cBairro := ""
	cCidade := ""
	cEstado := ""

	// Seleciona o Arquivo de Transferencias e Retorna Todas as Transferencias do Funcionario 
	If cTransf == '1'
		fTransf(@aTransf,,,,,,,.T.)
	ElseIf cTransf == '2'
		fTransf(@aTransf,,.T.,,,,,.T.)
		fTransf(@aTransf,,,.T.,,,,.T.)
	EndIf

	For nTra := 1 To Len(aTransf)
		// Carrega apenas as Transferencias Entre Filiais e Empresas
		If aTransf[nTra,7] >= dDataIni .and. aTransf[nTra,7] <= dDataFim
			IF !( aTransf[nTra,1] == aTransf[nTra,4] ) .or. !( aTransf[nTra,8] == aTransf[nTra,10] );
				.OR. !( aTransf[nTra,3] == aTransf[nTra,6 ] );
				.OR. !( aTransf[nTra,9] == aTransf[nTra,11] )
				aAdd(aTraFE,{aTransf[nTra,1] ,; // Empresa De
							aTransf[nTra,2] ,; // Filial + Matricula De
							aTransf[nTra,3] ,; // Centro de Custo De
							aTransf[nTra,4] ,; // Empresa Para
							aTransf[nTra,5] ,; // Filial + Matricula Para
							aTransf[nTra,6] ,; // Centro de Custo Para
							aTransf[nTra,7] ,; // Data da Transferencia
							} )
			EndIF
		Endif
	Next nTra

	// Reinicializa aTransf
	aTransf := {}

	For nTra := 1 To Len(aTraFE)
		cMatDe		:= RIGHT( aTraFE[nTra , 2] , nLen )
		cMatP		:= RIGHT( aTraFE[nTra , 5] , nLen )
		cCCustoDe	:= aTraFE[nTra,3]
		cCCustoP	:= aTraFE[nTra,6]

		//Dados da Empresa de Origem
		cEmp		:= aTraFE[nTra,1]
		cFil		:= Left(aTraFE[nTra,2],FwSizeFilial(aTraFE[nTra,1]))

		dbSelectArea("SM0")
		dbSeek(cEmp+cFil)
		
		cDescEmp	:= Alltrim( SM0->M0_NOMECOM )
		cDescFil	:= Alltrim ( SM0->( IF(cImpFilial == '1' , M0_NOME , M0_FILIAL ) ) )
		cStringT	:=	AllTrim(cEmp) + " - " + AllTrim(cDescEmp)

		If !( cMatDe == cMatP )
			cStringT	+= " - " + STR0054 + cMatDe // Matrícula
		EndIf

		If !( cCCustoDe == cCCustoP )
			cStringT += " - " + STR0055 + cCCustoDe // Centro de Custo
		EndIf

		cCgc	:= IF(SM0->M0_TPINSC == 1, SM0->(Transform(M0_CEI,'@R ##.###.###/####-##') ), SM0->(Transform(M0_CGC,'@R ##.###.###/####-##') ))
		cEndereco	:= Alltrim(SM0->( IF( cTipEnd = "C", M0_ENDCOB , M0_ENDENT ) ))
		cBairro		:=	Alltrim(SM0->( IF( cTipEnd = "C", M0_BAIRCOB, M0_BAIRENT ) ))
		cCidade		:=	Alltrim(SM0->( IF( cTipEnd = "C", M0_CIDCOB	, M0_CIDENT  ) ))
		cEstado		:=	SM0->( IF( cTipEnd = "C", M0_ESTCOB	, M0_ESTENT  ) )

		aAdd(aTransf,{"O" , "", cStringT , cFil + " - " + cDescFil, ;
		IF(SM0->M0_TPINSC = 1 , STR0059 , STR0061 ) + cCgc + Space(01) + STR0056 + cEndereco, ;
		STR0057 + cBairro + " -" + cCidade + Space(01) + STR0058 + cEstado} )

		// Dados da Empresa de Destino 
		cEmp		:= aTraFE[nTra,4]
		cFil		:= Left(aTraFE[nTra,5],FwSizeFilial(aTraFE[nTra,4]))
		dDataTra	:= aTraFE[nTra,7]
		SM0->( dbSeek(cEmp+cFil) )
		cDescEmp	:= Alltrim( SM0->M0_NOMECOM )
		cDescFil	:= Alltrim( SM0->( IF(cImpFilial == '1' , M0_NOME , M0_FILIAL ) ) )
		cStringT	:=	AllTrim(cEmp) + " - " + AllTrim(cDescEmp) + SPACE(1)

		If !( cMatDe == cMatP )
	  		cStringT += " - " + STR0054 + cMatP // Matrícula
		EndIf

		If !( cCCustoDe == cCCustoP )
    		cStringT += " - " + STR0055 + cCCustoP // Centro de Custo
		EndIf		

		cCgc		:= IF(SM0->M0_TPINSC == 1, SM0->(Transform(M0_CEI,'@R ##.###.###/####-##') ), SM0->(Transform(M0_CGC,'@R ##.###.###/####-##') ))
		cEndereco	:= Alltrim(SM0->( IF( cTipEnd = "C", M0_ENDCOB , M0_ENDENT ) ))
		cBairro		:=	Alltrim(SM0->( IF( cTipEnd = "C", M0_BAIRCOB, M0_BAIRENT ) ))
		cCidade		:=	Alltrim(SM0->( IF( cTipEnd = "C", M0_CIDCOB	, M0_CIDENT  ) ))
		cEstado		:=	SM0->( IF( cTipEnd = "C", M0_ESTCOB	, M0_ESTENT  ) )

		aAdd(aTransf,{"D", DTOC(dDataTra), cStringT + space(7) , cFil + " - " + cDescFil, ;
		IF(SM0->M0_TPINSC = 1 , STR0059 , STR0061 ) + cCgc + Space(01) + STR0056 + cEndereco, ;
		STR0057 + cBairro + " - " + cCidade + Space(01) + STR0058 + cEstado} )

		SM0->( dbGoto( nSvRecno ) )
	Next nTra	

	RestArea( aArea)
Return aTransf

/*/{Protheus.doc} fImpTrei
Imprime treinamentos
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpTrei(cAlias as Character, dDataIni as Date, dDataFim as Date)

	Local aTreina as Array
	Local aArea as Array 
	Local lImprimir as Logical

	aTreina := {}
	aArea := GetArea()
	lImprimir := .T.

	dbSelectArea("RA4")
	dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT)

	While ! Eof() .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = RA4->RA4_FILIAL+RA4->RA4_MAT 

		If RA4->RA4_DATAIN < dDataIni .Or. RA4->RA4_DATAIN > dDataFim
			lImprimir := .F.
		Endif

		If lImprimir == .T.

			//Verificar se o curso é para ser impresso
			dbSelectArea("RA1")
			dbSeek (xfilial("RA1")+RA4->RA4_CURSO)

			If RA1->RA1_IMPRIM == "1"				
				Aadd(aTreina,{RA4->RA4_CURSO, RA1->RA1_DESC, DTOC(RA4->RA4_DATAIN), DTOC(RA4->RA4_DATAFI), DTOC(RA4->RA4_VALIDA)  })
			EndIf
			dbSelectArea("RA4")
		Endif
	dbSkip()
	Enddo

	RestArea( aArea)
Return aTreina


/*/{Protheus.doc} fImpCurso
Imprime cursos
@author Karina Alves
@since 25/11/2024
/*/
Static Function fImpCurso(cAlias as Character, dDataIni as Date, dDataFim as Date)

	Local aArea as Array
	Local aCurso as Array
	Local lImprimir as Logical

	aArea := GetArea()
	aCurso := {}
	lImprimir := .T.

	dbSelectArea("SQ9")
	dbSeek((cAlias)->RA_FILIAL+(cAlias)->RA_MAT)

	While ! Eof() .And. (cAlias)->RA_FILIAL+(cAlias)->RA_MAT = SQ9->Q9_FILIAL+SQ9->Q9_MAT

		If SQ9->Q9_DTINI < dDataIni .Or. SQ9->Q9_DATA > dDataFim
			lImprimir := .F.
		Endif

		//Verificar se o curso é para ser impresso
		dbSelectArea("SQT")
		dbSeek (xfilial("SQT")+SQ9->Q9_CURSO)
		
		If lImprimir == .T.

			If SQT->QT_IMPRIME == "1"
				Aadd(aCurso,{SQ9->Q9_CURSO, SubStr(SQ9->Q9_DESCRIC,1,37), DTOC(SQ9->Q9_DTINI), DTOC(SQ9->Q9_DATA), DTOC(SQ9->Q9_VALIDAD)  })
			EndIf
		EndIf

		dbSelectArea("SQ9")
		dbSkip()
	Enddo

	RestArea( aArea)
Return aCurso


/*/{Protheus.doc} fImpConvoc
Imprime as informações das convocações para funcionários intermitentes
@type  Static Function
@author Karina Alves
@since 03/12/2024
/*/
Static Function fImpConvoc(cAlias as Character, cDataIni as Character, cDataFim as Character)

	Local aArea 	  as Array
	Local aConvoc	  as Array
	Local cDescFunc	  as Character
	Local cQuery      as Character	
	Local cAliasSV7   as Character
	Local oExec       as object
	Local nParamOrder as Numeric

	aArea 	    := GetArea()
	aConvoc	    := {}
	cDescFunc   := ""
	cQuery      := ""
	nParamOrder := 1
	cAliasSV7   := ""

	cQuery := " SELECT V7_CONVC, V7_DTCON, V7_DTINI, V7_DTFIM, V7_FUNC, V7_SALAR "
	cQuery += " FROM " + retsqlname("SV7") + " SV7 "
	cQuery += " WHERE "
	cQuery += "     V7_FILIAL = ? AND " 
	cQuery += "     V7_MAT = ? AND " 
	cQuery += "     V7_DTCON BETWEEN ? AND ? " 	
    cQuery += "     AND SV7.D_E_L_E_T_ = ? "

	cQuery := ChangeQuery(cQuery)
	oExec := FwExecStatement():New(cQuery)

	oExec:SetString(nParamOrder++, (cAlias)->RA_FILIAL)
    oExec:SetString(nParamOrder++, (cAlias)->RA_MAT) 
	oExec:SetString(nParamOrder++, cDataIni)
	oExec:SetString(nParamOrder++, cDataFim)
	oExec:SetString(nParamOrder++, " ")

	cAliasSV7 := oExec:OpenAlias()

	While (cAliasSV7)->(!EoF())

		cDescFunc := Posicione("SRJ", 1, xFilial("SRJ", (cAlias)->RA_FILIAL) + (cAliasSV7)->V7_FUNC, "RJ_DESC" )

		Aadd(aConvoc, {(cAliasSV7)->V7_DTCON, (cAliasSV7)->V7_DTINI, (cAliasSV7)->V7_DTFIM, (cAliasSV7)->V7_CONVC, Transform((cAliasSV7)->V7_SALAR, "@E 999,999,999.99"), AllTrim((cAliasSV7)->V7_FUNC) + " - " + cDescFunc })

		(cAliasSV7)->(dbSkip())
	EndDo	

	(cAliasSV7)->(dbCloseArea())

	RestArea(aArea)
Return aConvoc

/*/{Protheus.doc} fSalAdm
Imprime salário não atual
@author Karina Alves
@since 25/11/2024
/*/
Static Function fSalAdm(cAlias as Character, dDataIni as Date, dDataFim as Date)
	Local aAreaSR3 as Array
	Local nSalario as Numeric
	Local lImprimir as Logical

	lImprimir := .T.
	aAreaSR3 := GetArea()
	nSalario := 0

	DbSelectArea("SR3")
	DbSetOrder(1)

	DbSeek( (cAlias)->RA_FILIAL + (cAlias)->RA_MAT )
	While SR3->( !( EOF() ) ) .And. (cAlias)->RA_FILIAL + (cAlias)->RA_MAT == SR3->R3_FILIAL + SR3->R3_MAT
		If SR3->R3_TIPO == "001" .and. lImprimir == .T.
			nSalario := SR3->R3_VALOR
			lImprimir := .F.
		EndIf
		SR3->(DBSKIP())
	End Do

	RestArea(aAreaSR3)

Return(nSalario)


/*/{Protheus.doc} fRetornaImagem
Busca Imagem do Funcionário 
@author Karina Alves
@since 15/04/2025
/*/
Static Function fRetornaImagem(cImage as Character)

	local aFile 		as Array
	Local cReturnImage	as Character
	Local cPathPict		as Character

	aFile := {}
	cReturnImage := ''
	cPathPict		:= GetSrvProfString("Startpath","")

	//Ler imagem do banco de dados
	aFile := Directory(cPathPict + cImage + ".*") 
	If Len(aFile) > 0
		cReturnImage := fGetImage(cPathPict + aFile[1][1])
	Endif

Return(cReturnImage)


//-------------------------------------------------------------------
/*{Protheus.doc} fGetImage
Retorna a imagem em base64
  
@param cImage character: Nome da imagem que será convertida

@return cImageBase64, character: Imagem convertida em base64
 
@author Caio Kretzer
@since 16/04/2025
@version 1.0
*/
//-------------------------------------------------------------------
Static Function fGetImage(cImage as character)
	local cImageBase64 as character
	local lFile as logical
	local oFile as object

	cImageBase64 := ""

	lFile := File(cImage)

	if lFile
		oFile := FWFileReader():new(cImage)
		oFile:open()
		cImageBase64 := Encode64(oFile:FullRead())
		oFile:close()
		FWFreeVar(@oFile)
	endif

return cImageBase64
