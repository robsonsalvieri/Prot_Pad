#Include 'totvs.ch'
#include "msobject.ch"
#include "tlpp-core.th"
#include "tlpp-rest.th"
#include "tafsvesocial002.ch"

//-------------------------------------------------------------------
/*/{Protheus.doc} TAFSVE002
TAF Smart View Esocial 002 ( eSocial Status/Transmitidos)
Chamada do objeto de negócios rh.sv.taf.esocialtransmition no Smart View 
pela função totvs.framework.treports.callTReports

@author  Denis Souza
@since   07/12/2023
@version 1.0
/*/

Function TAFSVE002()
	Local lConfig := .F.	as logical
	Local lBlind  := .F.	as Logical

	lBlind := IsBlind()

	if GetRpoRelease() > '12.1.2210'
		lConfig := totvs.framework.smartview.util.isConfig()
		if !lConfig
			If !lBlind
				FWAlertError(STR0001) // "Smart View não configurado."	
			endif
		endif
	else
		If !lBlind       
			FWAlertError(STR0002) //"Rotina não disponivel"
		EndIf
	endif

	If lConfig	
		if TafSvPerg("ESOCIAL002")
			totvs.framework.treports.callTReports("rh.sv.taf.esocialtransmition",,,,,.F.,,.T.,)
		Else
			If !lBlind
				FWAlertError(STR0003 , STR0004 ) //"Grupo de perguntas não existe." // "Smart View"
			EndIf
		EndIf
	Endif

Return Nil
