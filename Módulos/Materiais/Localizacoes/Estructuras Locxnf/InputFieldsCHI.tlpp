#Include 'tlpp-core.th'
#Include 'FWMVCDEF.CH'

namespace totvs.protheus.backoffice.inputfields.chi

#Define InputFieldsCHI "totvs.protheus.backoffice.inputfields.chi"

/*/{Protheus.doc} InputFields
	Realiza la cración de la estructura de campos para el país "".
	@type  Class
	@author raul.medina
	@since 
	@param 
	@return 
	/*/
Class InputFields From InputFieldsAll
	public DATA lAutoFact as logical
    public Method New() constructor
    public Method FacturaEntrada()
    public Method FacturaEntradaBeneficiamento()
    public Method FacturaGastosImp()
    public Method FacturaConcTransp()
	public Method RemitoEntrada()
    public Method RemitoEntradaBeneficiamento()
    public Method NotaCreditoCliente()
    public Method NotaDebitoExterna()
	public Method NotaCreditoInterna()
    public Method NotaDebitoProveedor()
    public Method RemitoDevolucionFormularioPropio()
    public Method RemitoDevolucionFormularioPropioNo()
    public Method RetornoSimbolico()
    public Method RemitoTransferenciaEntrada()

	public Method NumeroCorrelativo()
	public Method ReciboHonorario()
	public Method Serie()
	public Method MotivoDevolucion()
	public Method AUTOFAC()
EndClass

/*/{Protheus.doc} New
	Realiza la cración del objeto para poder hacer uso de los metodos que agregan campos a la estructuras del país
	@type  Method
	@author raul.medina
	@since 
	@param 
	@return 
	/*/
Method New(lViewNoUs As logical, lVirtual As logical, lModel As logical, lInsert As logical, lEdit As logical, lDelete As logical, cEspecie As character) Class InputFields
    _Super:New( "CHI", lViewNoUs, lVirtual, lModel, lInsert, lEdit, lDelete, cEspecie)
Return Self

/*/{Protheus.doc} FacturaEntrada
	Agrega campos para el documento.
		Documento: Factura Entrada
		Numero documento: 10
		Modulo: Compras
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method FacturaEntrada(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

	If lView
		aFields := {"F1_DTDIGIT", "F1_NUMCOR", "F1_RECHON","F1_AUTOFAC"}

		//Adición de campos a la view de la clase Fields
		self:AddFieldsAd(aFields)
		
		If !self:lAutoFact
			self:Serie(lView, "SDV")
		ElSE
			self:oView:SetProperty("F1_SERIE",MVC_VIEW_LOOKUP,"SERNF")
		EndIf

		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_NUMCOR", "F1_DIACTB", "F1_RECHON","F1_AUTOFAC"}

   		self:AlterOrder(aOrdFields)
	else
		self:AUTOFAC( , Iif(self:lAutoFact,"1","2"))
		self:NumeroCorrelativo()
		self:ReciboHonorario()
		self:Serie()
	EndIf

Return

/*/{Protheus.doc} FacturaEntradaBeneficiamento
	Agrega campos para el documento.
		Documento: Factura Entrada de Beneficiamiento
		Numero documento: 12
		Modulo: Compras
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method FacturaEntradaBeneficiamento(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    
	If lView
		aFields := {"F1_DTDIGIT", "F1_NUMCOR", "F1_RECHON"}

    	//Adición de campos al model/view de la clase Fields
    	self:AddFieldsAd(aFields)
		self:Serie(lView, "SDV")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_NUMCOR", "F1_DIACTB", "F1_RECHON"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:NumeroCorrelativo()
		self:ReciboHonorario()
		self:Serie()
	EndIf

Return 

/*/{Protheus.doc} FacturaGastosImp
	Agrega campos para el documento.
		Documento: Facturas Gast. Imp.
		Numero documento: 13
		Modulo: Compras
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method FacturaGastosImp(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_DTDIGIT", "F1_NUMCOR", "F1_RECHON","F1_AUTOFAC"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "SDV")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_NUMCOR", "F1_DIACTB", "F1_RECHON","F1_AUTOFAC"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)

	Else
		self:AUTOFAC( , Iif(self:lAutoFact,"1","2"))
		self:NumeroCorrelativo()
		self:ReciboHonorario()
		self:Serie()
	EndIf
	
Return 

/*/{Protheus.doc} FacturaConcTransp
	Agrega campos para el documento.
		Documento: Factura Conc. Transporte.
		Numero documento: 14
		Modulo: Compras
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method FacturaConcTransp(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_DTDIGIT", "F1_NUMCOR", "F1_RECHON","F1_AUTOFAC"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "SDV")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_NUMCOR", "F1_DIACTB", "F1_RECHON","F1_AUTOFAC"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:AUTOFAC( , Iif(self:lAutoFact,"1","2"))
		self:NumeroCorrelativo()
		self:ReciboHonorario()
		self:Serie()
	EndIf
    	
Return 

/*/{Protheus.doc} RemitoEntrada
	Agrega campos para el documento.
		Documento: Remito de Entrada
		Numero documento: 60
		Modulo: Compras
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method RemitoEntrada(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_DTDIGIT"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "SDV")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_DIACTB"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:Serie()
	EndIf

Return 

/*/{Protheus.doc} RemitoEntradaBeneficiamento
	Agrega campos para el documento.
		Documento: Remito de Entrada de Beneficiamiento
		Numero documento: 62
		Modulo: Compras
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method RemitoEntradaBeneficiamento(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

	If lView
		aFields := {"F1_DTDIGIT"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "SDV")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_DIACTB"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:Serie()
	EndIf
	
Return 

/*/{Protheus.doc} NotaCreditoCliente
	Agrega campos para el documento.
		Documento: Nota de Credito de cliente.
		Numero documento: 4
		Modulo: Facturacion
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method NotaCreditoCliente(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_GERAPED", "F1_MOTIVO", "F1_TIPREF"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "01")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_MOEDA", "F1_TXMOEDA", "F1_GERAPED", "F1_VEND1", "F1_DIACTB", "F1_MOTIVO", "F1_TIPREF"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:Serie()
		self:MotivoDevolucion()
	EndIf
	
Return 

/*/{Protheus.doc} NotaDebitoExterna
	Agrega campos para el documento.
		Documento: Nota de debito externa.
		Numero documento: 5
		Modulo: Facturacion
	@type  Method
	@author raul.medina
	@since 
	@param 
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method NotaDebitoExterna(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_DTDIGIT", "F1_GERAPED", "F1_RECHON"}

    	//Adición de campos al model/view de la clase Fields
    	self:AddFieldsAd(aFields)
		self:Serie(lView, "SDV")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_GERAPED", "F1_VEND1", "F1_DIACTB", "F1_RECHON"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:ReciboHonorario()
		self:Serie()
	EndIf
	
Return 

/*/{Protheus.doc} NotaCreditoInterna
	Agrega campos para el documento.
		Documento: Nota de Credito Interna
		Numero documento: 8
		Modulo: Compras
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method NotaCreditoInterna(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "01")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_MOEDA", "F1_TXMOEDA", "F1_DIACTB"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:Serie()
	EndIf
	
Return 

/*/{Protheus.doc} NotaDebitoProveedor
	Agrega campos para el documento.
		Documento: Nota debito Proveedor
		Numero documento: 9
		Modulo: Compras
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method NotaDebitoProveedor(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_DTDIGIT", "F1_NUMCOR", "F1_RECHON"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "SDV")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_NUMCOR", "F1_DIACTB", "F1_RECHON"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:NumeroCorrelativo()
		self:ReciboHonorario()
		self:Serie()
	EndIf

Return 

/*/{Protheus.doc} RemitoDevolucionFormularioPropio
	Agrega campos para el documento.
		Documento: Remito de devolucion formulario propio Si.
		Numero documento: 51
		Modulo: Facturacion
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method RemitoDevolucionFormularioPropio(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_GERAPED", "F1_APRVDEV"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "01")
		
		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_MOEDA", "F1_TXMOEDA", "F1_GERAPED", "F1_APRVDEV", "F1_DIACTB"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:Serie()
	EndIf
	
Return

/*/{Protheus.doc} RemitoDevolucionFormularioPropioNo
	Agrega campos para el documento.
		Documento: Remito de devolucion formulario propio no.
		Numero documento: 53
		Modulo: Facturacion
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method RemitoDevolucionFormularioPropioNo(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_DTDIGIT", "F1_GERAPED", "F1_APRVDEV"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "SDV")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_GERAPED", "F1_APRVDEV", "F1_DIACTB"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:Serie()
	EndIf
	
Return

/*/{Protheus.doc} RetornoSimbolico
	Agrega campos para el documento.
		Documento: Retorno simbolico.
		Numero documento: 63
		Modulo: Facturacion
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method RetornoSimbolico(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "01")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_MOEDA", "F1_TXMOEDA", "F1_DIACTB"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:Serie()
	EndIf
	
Return

/*/{Protheus.doc} RemitoTransferenciaEntrada
	Agrega campos para el documento.
		Documento: Remito de transferencia
		Numero documento: 64
		Modulo: Stock
	@type  Method
	@author raul.medina
	@since 
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
	@return 
	/*/
Method RemitoTransferenciaEntrada(lView As logical) Class InputFields
Local aFields   := {}   As Array
Local aOrdFields:= {}   As Array

Default lView	:= .F.

    If lView
		aFields := {"F1_DTDIGIT"}

		//Adición de campos al model/view de la clase Fields
		self:AddFieldsAd(aFields)
		self:Serie(lView, "01")

		//Orden de los campos para el documento
		aOrdFields := {"F1_FILORIG", "F1_FORNECE", "F1_LOJA", "cNome", "F1_SERIE", "F1_DOC", "F1_NATUREZ", "F1_ESPECIE", "F1_EMISSAO", "F1_DTDIGIT", "F1_MOEDA", "F1_TXMOEDA", "F1_DIACTB"}

		//Metodo utilizado para realizar el ordenamiento de acuerdo al arreglo aOrdFields.
		self:AlterOrder(aOrdFields)
	Else
		self:Serie()
	EndIf
	
Return

/*/{Protheus.doc} NumeroCorrelativo
	Metodo para agregar propiedade al campo F1_NUMCO.
	@author luis.samaniego
	@since 11/10/2022
	@param lView - logical - .T. para actualizar View / .F. para actualizar Model.
	@return
	/*/
Method NumeroCorrelativo(lView As logical) class InputFields
Default lView := .F.

	If !lView
		self:SetModProperty("F1_NUMCOR", MODEL_FIELD_VALID, InputFieldsCHI + ".VF1_NUMCOR_CHI()")
	EndIf

Return

/*/{Protheus.doc} ReciboHonorario
	Metodo para agregar propiedades al campo F1_RECHON.
	@author luis.samaniego
	@since 11/10/2022
	@param lView - logical - .T. para actualizar View / .F. para actualizar Model.
	@return
	/*/
Method ReciboHonorario(lView As logical) class InputFields
Default lView := .F.

	If !lView
		self:SetModProperty("F1_RECHON", MODEL_FIELD_VALID, InputFieldsCHI + ".VF1_RECHON_CHI()")
		self:SetModProperty("F1_RECHON", MODEL_FIELD_WHEN, "")
	EndIf

Return

/*/{Protheus.doc} Serie
	Metodo para agregar propiedades al campo F1_SERIE.
	@author luis.samaniego
	@since 11/10/2022
	@param 	lView - logical - .T. para actualizar View / .F. para actualizar Model.
			cF3   - Character - Código de consulta padrón (X3_F3).
			lModel - logico - indica si el será utilizado por el model, .F. indica que es utilizado por locxnf.
	@return
	/*/
Method Serie(lView As logical, cF3 As Character,lModel As logical) class InputFields
Default lView  := .F.
Default cF3    := ""
Default lModel	:= .F.

	If lView
		self:oView:SetProperty("F1_SERIE", MVC_VIEW_LOOKUP, cF3)
	Else
		self:SetModProperty("F1_SERIE", MODEL_FIELD_VALID, InputFieldsCHI + ".VF1_SERIE_CHI('" + StrZero(self:nNumDoc,2)   + "', " + self:lToS(self:lModel)+  ")") 
	EndIf
	
Return

/*/{Protheus.doc} MotivoDevolucion
	Metodo para agregar propiedades a los campos F1_TIPREF, F1_MOTIVO.
	@author luis.samaniego
	@since 11/10/2022
	@param lView - logical - .T. para actualizar View / .F. para actualizar Model.
	@return
	/*/
Method MotivoDevolucion(lView As logical) class InputFields
Local aCombo As Array

Default lView  := .F.

	If !lView
		self:SetModProperty("F1_TIPREF", MODEL_FIELD_VALID, InputFieldsCHI + ".VF1_TIPREF_CHI()")
		If self:oModel:HasField("F1_TIPREF")
			aCombo := self:oModel:GetProperty("F1_TIPREF",MVC_MODEL_VALUES)
			aadd(aCombo, "")
			self:SetModProperty("F1_TIPREF", MODEL_FIELD_VALUES, aCombo)
			self:SetModProperty("F1_TIPREF", MODEL_FIELD_INIT, "")
		EndIf
		self:SetModProperty("F1_MOTIVO", MODEL_FIELD_VALID, InputFieldsCHI + ".VF1_MOTIVO_CHI()")
	EndIf
Return

/*/{Protheus.doc} VF1_TIPREF_CHI
	Función para validaciones del campo F1_TIPREF.
	@type  Function
	@author luis.samaniego
	@since 12/10/2022
	@param 
	@return lValid - logical - Devuelve el resultado de las validaciones.
	/*/
Function VF1_TIPREF_CHI()
Local lValid As logical

	lValid := .T.

Return lValid

/*/{Protheus.doc} VF1_MOTIVO_CHI
	Función para validaciones del campo F1_MOTIVO.
	@type  Function
	@author luis.samaniego
	@since 12/10/2022
	@param 
	@return lValid - logical - Devuelve el resultado de las validaciones.
	/*/
Function VF1_MOTIVO_CHI()
Local lValid As logical

	lValid := .T.

Return lValid

/*/{Protheus.doc} VF1_NUMCOR_CHI
	Función para validaciones del campo F1_NUMCOR.
	@type  Function
	@author luis.samaniego
	@since 11/10/2022
	@param 
	@return lValid - logical - Devuelve el resultado de las validaciones.
	/*/
Function VF1_NUMCOR_CHI()
Local lValid As logical
	
	lValid := CORR_VERIF(M->F1_DTDIGIT,M->F1_NUMCOR,.T.,M->F1_RECHON)
	
Return lValid


/*/{Protheus.doc} VF1_RECHON_CHI
	Función para validaciones del campo F1_RECHON.
	@type  Function
	@author luis.samaniego
	@since 11/10/2022
	@param 
	@return lValid - logical - Devuelve el resultado de las validaciones.
	/*/
Function VF1_RECHON_CHI()
Local lValid As logical

	If !(Type("cSerie") == "C")
		cSerie := FwFldGet("F1_SERIE")
	EndIf

	lValid := Pertence(" 12") 
	lValid := lValid .And. CORR_VERIF(M->F1_DTDIGIT,M->F1_NUMCOR,.T.,M->F1_RECHON)

Return lValid


/*/{Protheus.doc} VF1_SERIE_CHI
	Función para validaciones del campo F1_SERIE - País Chile.
	@type  Function
	@author luis.samaniego
	@since 11/10/2022
	@param cNumDoc - Character - Número de tipo de documento a validar.
	lModel - logico - indica si el será utilizado por el model, .F. indica que es utilizado por locxnf.
	@return lValid - logical - Devuelve el resultado de las validaciones.
	/*/
Function VF1_SERIE_CHI(cNumDoc As Character, lModel As logical )
Local lValid As logical

Default lModel	:= .F.
Default	cNumDoc := ""


	If !(Type("lAutoFact") == "L")
		if(SF1->(Columnpos("F1_AUTOFAC"))>0)
			IF M->F1_AUTOFAC == "1"
				lAutoFact:=.T. 
			ElSE
				lAutoFact:=.F. 
			ENDIF
		Else 
			lAutoFact:=.F. 
		Endif
	EndIf
	
	If !(Type("aCfgNf") == "A")
		aCfgNf  := GetF1CfgNF()
	EndIf
	If !(Type("cEspecie") == "C")
		cEspecie := FwFldGet("F1_ESPECIE")
	EndIf
	If !(Type("cTipo") == "C")
		cTipo := FwFldGet("F1_TIPO")
	EndIf
	If !(Type("cSerie") == "C")
		cSerie := FwFldGet("F1_SERIE")
	EndIf
	If !(Type("l103Class") == "L")
		l103Class := .F.
	EndIf
	
	IF !lAutoFact
		lValid := VF1_SERIE(cNumDoc, lModel)
		lValid := lValid .And. VldNumCor(M->F1_SERIE)
	else
		lValid := LocXVal('F1_SERIE',!lModel,lModel) 
		lValid := lValid .and. LocxValNum() 
	EndIf

Return lValid

/* ---------------------------------------------- */
/*/{Protheus.doc} AUTOFAC
	Agrega propiedades para el campo F1_AUTOFAC
	@type  Method
	@author adrian.perez
	@param
		lView - logico 	- Indica si debe realizar las actualizaciones de la view.
			Falso 		- Actualiza la parte del model.
			Verdadero 	- Actualiza la parte de la view.
		cInit - caracter- Inicializador estandar
	@return 
	/*/
Method AUTOFAC(lView As logical, cInit As Character) Class InputFields

Default lView	:= .F.
Default cInit	:= "2"

    If !lView
		
		self:SetModProperty("F1_AUTOFAC", MODEL_FIELD_INIT, cInit) 
		self:SetModProperty("F1_AUTOFAC", MODEL_FIELD_VALID, InputFieldsCHI + ".VF1_AUTOFAC_CHI()") 
		IF cInit=="1"
			self:SetModProperty("F1_DOC", MODEL_FIELD_VALID, InputFieldsCHI + ".VF1_DOC_CHI('" + StrZero(self:nNumDoc,2) + "', " + self:lToS(self:lAuto) + ", " + self:lToS(self:lModel) +  ")")
		ENDIF
    EndIf
Return



/*/{Protheus.doc} VF1_AUTOFAC_CHI
	Función encargada de realizar las validaciones para el campo F1_AUTOFAC del país Chile.
	@type  Function
	@author adrian.perez
	lValid -Logico - Devuelve el resultado de las validaciones.
	/*/
Function VF1_AUTOFAC_CHI()
Local lValid	As logical

	lValid := Vazio() .Or. Pertence('12')

Return lValid

/*/{Protheus.doc} VF1_DOC_CHI
	Función encargada de realizar las validaciones para el campo F1_DOC del país Chile.
	@type  Function
	@author adrian.perez
	@since 
	@param
		cNumDoc - caracter - Numero de documento para el cual van a ser realizadas las validaciones.
		lAuto - logico - Indica si es una rutina automatica
		lModel - logico - indica si el será utilizado por el model, .F. indica que es utilizado por locxnf.
	@return 
		lValid -Logico - Devuelve el resultado de las validaciones.
	/*/

Function VF1_DOC_CHI(cNumDoc As character, lAuto As logical, lModel As logical)
Local lValid	As logical

Default cNumDoc	:= ""
Default lAuto	:= .F.
Default lModel	:= .F.

	If !(Type("lAutoFact") == "L")
		if(SF1->(Columnpos("F1_AUTOFAC"))>0)
			IF M->F1_AUTOFAC == "1"
				 
				lAutoFact:=.T.
				
			ENDIF
		Else 
			lAutoFact:=.F. 
		Endif
	EndIf
	If !(Type("aCfgNf") == "A")
		aCfgNf  := GetF1CfgNF()
	EndIf
	If !(Type("cEspecie") == "C")
		cEspecie := FwFldGet("F1_ESPECIE")
	EndIf
	If !(Type("cTipo") == "C")
		cTipo := FwFldGet("F1_TIPO")
	EndIf
	If !(Type("cSerie") == "C")
		cSerie := FwFldGet("F1_SERIE")
	EndIf
	If !(Type("l103Class") == "L")
		l103Class := .F.
	EndIf
	IF lAutoFact
	
		lValid := AtuNumIt()
		lValid := lValid .and. LocXVal('F1_DOC',!lModel,lModel)
		lValid := lValid .and. LocxValNum()
		
	ENDIF
	
Return lValid
