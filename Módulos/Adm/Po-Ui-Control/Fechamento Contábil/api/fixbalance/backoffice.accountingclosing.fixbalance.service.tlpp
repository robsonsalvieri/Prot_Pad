#include "tlpp-core.th"

namespace totvs.protheus.backoffice.accountingclosing.FixBalance

//-------------------------------------------------------------------
/*/{Protheus.doc} FixBalanceService
Classe de serviço, realizada instância e chamada de métodos de serviços

@author Totvs
/*/
//-------------------------------------------------------------------
class FixBalanceService
    public method new()
    public method getInstance()
    public method postFixBalance()
endclass

//-------------------------------------------------------------------
/*/{Protheus.doc} FixBalanceService
Metodo construtor

@author Totvs
/*/
//-------------------------------------------------------------------
method new() class FixBalanceService
return

//-------------------------------------------------------------------
/*/{Protheus.doc} FixBalanceService
Responsável por instanciar a classe controller

@author Totvs
/*/
//-------------------------------------------------------------------
method getInstance() class FixBalanceService
    static __instance As Object
    
    If ValType(__instance) == "U"
        __instance := FixBalanceService():new()
    EndIf
return

//-------------------------------------------------------------------
/*/{Protheus.doc} postFixBalance
Responsável por chamar a consulta e parsear o retorno no formato JSON

@author Totvs
/*/
//-------------------------------------------------------------------
method postFixBalance(cCodUUID as Character, cCodCurr as Character) class FixBalanceService
    Local oSettings := FixBalanceProtheusData():getData() As Object
    Local aResponse as Array
    
    aResponse := oSettings:postFixBalance(cCodUUID, cCodCurr)

    oSettings:DeActivate()
    FreeObj(oSettings)
return aResponse
