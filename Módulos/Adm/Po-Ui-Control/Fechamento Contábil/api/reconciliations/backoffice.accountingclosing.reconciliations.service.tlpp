#include "tlpp-core.th"

namespace totvs.protheus.backoffice.accountingclosing.reconciliations

//-------------------------------------------------------------------
/*/{Protheus.doc} ReconciliationsService
Classe de servico, realizada instancia e chamada de metodos de servicos

@author Totvs
/*/
//-------------------------------------------------------------------
class ReconciliationsService
    public method new()
    public method getInstance()
    public method getReconciliations()
endclass

//-------------------------------------------------------------------
/*/{Protheus.doc} ReconciliationsService
Metodo construtor

@author Totvs
/*/
//-------------------------------------------------------------------
method new() class ReconciliationsService
return

//-------------------------------------------------------------------
/*/{Protheus.doc} ReconciliationsService
Responsavel por instanciar a classe controller

@author Totvs
/*/
//-------------------------------------------------------------------
method getInstance() class ReconciliationsService
    static __instance as object
    
    If ValType(__instance) == "U"
        __instance := ReconciliationsService():new()
    EndIf
return

//-------------------------------------------------------------------
/*/{Protheus.doc} getReconciliations
Responsavel por chamar a consulta e parsear o retorno no formato JSON

@author Totvs
/*/
//-------------------------------------------------------------------
method getReconciliations(cDataIni as character, cDataFim as character) class ReconciliationsService
    Local oSettings := ReconciliationsProtheusData():getData()
    Local cResponse := oSettings:getReconciliations(cDataIni, cDataFim) as character           
    FreeObj(oSettings)
return cResponse
