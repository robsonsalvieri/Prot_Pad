#include 'tlpp-core.th'
#include 'tlpp-rest.th'

NAMESPACE totvs.protheus.backoffice.fin.attachment
Using NAMESPACE gfin.util

/*/{Protheus.doc} getAttachmentsList
	Obtem uma lista com os anexos de um registro
	obtidos da base de conhecimento.

	@author Vinicius do Prado
	@since Out | 2023
	@version 1.0
/*/
@POST('/api/fin/v1/attachments/list')
Function getAttachmentsList()
	Local oAttachService := Nil As Object

	oAttachService := totvs.protheus.backoffice.fin.attachment.Attachments():getInstance()
    oAttachService:setBody(oRest:GetBodyRequest())

	oRest:setKeyHeaderResponse("Content-Type", "application/json")
	oRest:setResponse(oAttachService:getResponseList())

	FreeObj(oAttachService)
Return

/*/{Protheus.doc} getAttachmentsZip
	Obtem um arquivo ZIP com os anexos de um registro
	obtidos da base de conhecimento.

	@author Vinicius do Prado
	@since Out | 2023
	@version 1.0
/*/
@POST('/api/fin/v1/attachments/zip')
Function getAttachmentsZip()
	Local oAttachService := Nil As Object

	oAttachService := totvs.protheus.backoffice.fin.attachment.Attachments():getInstance()
    oAttachService:setBody(oRest:GetBodyRequest())

	oRest:setKeyHeaderResponse("Content-Type", "application/json")
	oRest:setResponse(oAttachService:getResponseZip())

	FreeObj(oAttachService)
Return
