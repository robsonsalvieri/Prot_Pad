#Include "tlpp-core.th"
#Include "tlpp-rest.th"

Namespace totvs.protheus.health.plans.api.familyContract.beneficiary.blockContract

/*/{Protheus.doc} BlockContractsController
Classe controladora das APIs de Bloqueio de Beneficiário

@type class
@author Guilherme Carreiro da Silva
@since 13/09/2023
@version Protheus 12
/*/
Class BlockContractsController

    Private Data oService As Object

    Public Method new() Constructor

    @POST("/totvsHealthPlans/familyContract/v1/beneficiaries/blockContracts")
    Public Method apiPostBlockContracts()

EndClass

/*/{Protheus.doc} new
Método construtor da classe

@type method
@author Guilherme Carreiro da Silva
@since 13/09/2023
@version Protheus 12
/*/
Method new() Class BlockContractsController
Return Self

/*/{Protheus.doc} apiPostBlockContracts
Método responsável por realizar o Bloqueio de Beneficiário
Url: /totvsHealthPlans/familyContract/v1/blockContracts
Verbo: POST

@type Method
@author Guilherme Carreiro da Silva
@since 13/09/2023
@version Protheus 12
/*/
Method apiPostBlockContracts() Class BlockContractsController

    Local cBody := oRest:getBodyRequest() As Json

    Self:oService := BlockContractsService():new()

    If Self:oService:setBodyString(cBody, "E001")
        If Self:oService:postBlockContracts()
            oRest:setResponse(Self:oService:getJsonResult())
            oRest:setStatusCode(Self:oService:getStatusCode())
        Else
            oRest:setFault(Self:oService:getJsonResult())
            oRest:setStatusCode(Self:oService:getStatusCode())
        EndIf
    Else
        oRest:setFault(Self:oService:getJsonResult())
        oRest:setStatusCode(Self:oService:getStatusCode())
    EndIf

    oRest:setKeyHeaderResponse("Content-Type", "application/json")

Return
