#include 'totvs.ch'

/*/{Protheus.doc} OFSoLocationRemovedInDbsMessage
	Classe que representa uma mensagem de remocao de location no protheus para o SO
	
	@type class
	@author Vinicius Gati
	@since 13/08/2021
/*/
Class OFSoLocationRemovedInDbsMessage from OFSoLocationCreatedInDbsMessage
	Public Method New() CONSTRUCTOR
	Public Method GetMessageId()
	Public Method GetBody()
EndClass

/*/{Protheus.doc} New
	Construtor Simples

	@type method
	@author Vinicius Gati
	@since 13/08/2021
/*/
Method New(oSoLocation) Class OFSoLocationRemovedInDbsMessage
	_Super:New(oSoLocation)
	::cName := "LocationRemovedInDbs"
Return SELF


/*/{Protheus.doc} GetMessageId
	Retorna o nome da mensagem para ser enviada ao SO onde necessário

	@type method
	@author Vinicius Gati
	@since 09/08/2021
/*/
Method GetMessageId() Class OFSoLocationRemovedInDbsMessage
return "location-" + self:oSoLocation:ToJson()["referenceId"]


/*/{Protheus.doc} GetMessageId
	Retorna o nome da mensagem para ser enviada ao SO onde necessário

	@type method
	@author Rubens Takahashi
	@since 26/08/2021
/*/
Method GetBody() Class OFSoLocationRemovedInDbsMessage
	Local oJson := self:oSoLocation:toJson()
	Local oRemoveBody := JsonObject():NEw()
	
	oRemoveBody["referenceId"] := oJson["referenceId"]

	oReqBody := OFSoRequestBody():New()
	oReqBody:SetData(oRemoveBody)
	oReqBody:SetName(self:cName)
Return oReqBody