#include 'totvs.ch'

/*/{Protheus.doc} OFSoRestErrorResponse
	Classe para retornar um erro n o formato do SO com uma mensagem simples de validação
	
	@type class
	@author Vinicius Gati
	@since 25/10/2022
/*/
Class OFSoRestErrorResponse
	Public Method New() CONSTRUCTOR
	Static Method BadRequest() 
EndClass

/*/{Protheus.doc} New
	Construtor Simples

	@type method
	@author Vinicius Gati
	@since 25/10/2022
/*/
Method New() Class OFSoRestErrorResponse
Return SELF

/*/{Protheus.doc} BadRequest
	Retorna um erro para o SO

	@type method
	@author Vinicius Gati
	@since 25/10/2022
/*/
Method BadRequest(cName, nCode, cMessage, cDetails) Class OFSoRestErrorResponse
	oRet := JsonObject():New()
	oRet["name"] := cName

	oErro := JsonObject():New()
	oErro["code"] := nCode
	oErro["message"] := cMessage
	oErro["details"] := cDetails

	oRet["errors"] := {oErro}
	oRet["code"] := 400
Return oRet
