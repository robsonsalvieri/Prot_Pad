// ͻ
//  Versao  13     
// ͼ
#include "Protheus.ch"
#include "Ofioa270.ch"

/*


Ŀ
Funcao     OFIOA270  Autor  Rubens                 Data  23/05/12 
Ĵ
Descricao  Cadastro de Grupo de Inconveniente                         
Ĵ
Uso        Oficina                                                    
ٱ


*/
Function OFIOA270()

local cAlias

Private aRotina := MenuDef()

Private cCadastro := STR0001  //"Cadastro de Grupo de Inconveniente"

cAlias := "VSK"
dbSelectArea(cAlias)
dbSetOrder(1)

dbSelectArea(cAlias)
mBrowse( 6, 1, 22, 75, cAlias)


return


/*


Ŀ
Funcao     OA270I    Autor  Rubens                 Data  23/05/12 
Ĵ
Descricao  Inclui de Registro                                         
Ĵ
Uso        Oficina                                                    
ٱ


*/
Function OA270I(cAlias, nReg, nOpc)

AxInclui( cAlias , nReg , nOpc ,,,," ExistChav( 'VSK' , M->VSK_CODMAR + M->VSK_CODGRU , 1) ")

Return

/*


Ŀ
Funcao     OA270A    Autor  Rubens                 Data  23/05/12 
Ĵ
Descricao  Alteracao de Registro                                      
Ĵ
Uso        Oficina                                                    
ٱ


*/
Function OA270A(cAlias, nReg, nOpc)

AxAltera( cAlias , nReg , nOpc )

Return
  
/*


Ŀ
Funcao     OA270E    Autor  Rubens                 Data  23/05/12 
Ĵ
Descricao  Exclusao de Registro                                       
Ĵ
Uso        Oficina                                                    
ٱ


*/
Function OA270E(cAlias, nReg , nOpc)

dbSelectArea(cAlias)
dbGoTo(nReg)

VSL->(dbSetOrder(1))
If VSL->(dbSeek( xFilial("VSL") + VSK->VSK_CODMAR + VSK->VSK_CODGRU ))
	SX2->(dbSetOrder(1))
	SX2->(dbSeek("VSL"))
	Help("  ",1,"CANCELDEL",,"VSL - " + X2Nome() ,4,1)
	Return
EndIf

AxDeleta (cAlias , nReg , nOpc )

Return 

/*


Ŀ
Funcao     MenuDef   Autor  Rubens                 Data  23/05/12 
Ĵ
Descricao  Menu da Rotina                                             
Ĵ
Uso        Oficina                                                    
ٱ


*/
Static Function MenuDef()
Local aRotina := { { STR0002 ,"axPesqui", 0 , 1},;
					{ STR0003 ,"AxVisual", 0 , 2},;   //VISUALIZAR
					{ STR0004 ,"OA270I", 0 , 3},;   //INCLUIR
					{ STR0005 ,"OA270A", 0 , 4},;  //ALTERAR
					{ STR0006 ,"OA270E", 0 , 5}}   //EXCLUIR
Return aRotina