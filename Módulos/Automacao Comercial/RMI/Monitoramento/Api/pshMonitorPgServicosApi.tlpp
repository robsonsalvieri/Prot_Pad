#include "PROTHEUS.CH"
#include "tlpp-core.th"
#include "tlpp-rest.th"

namespace totvs.protheus.retail.rmi.monitoramento.api.pshMonitorPgServico

/*/{Protheus.doc} pshMonitorPgServicosAPI
API para disponibilizar os status dos serviços RMIPublica, RMIDistrib e RMIEnvia
@author  joao.marcos
@since   14/06/2024
@version 1.0
@exemple: http://localhost:8090/REST/api/retail/v1/monitoramento/servicos/getJobsHeader
/*/
@get('/api/retail/v1/monitoramento/servicos/getJobsHeader')
Function pshMonitorPgServicosAPI()
Local oDadosServicos := Nil  as Object

oDadosServicos := pshMonitorPgServicos():New(oRest)
oDadosServicos:SetAssinante("TOTVS PDV")
oDadosServicos:GetStatusServHeader()

oRest:setKeyHeaderResponse('Content-Type','application/json; charset=utf-8')
oRest:setResponse( oDadosServicos:GetJsonReturn() )

Return 

/*/{Protheus.doc} pshMonitorPgServicosAPI
API para disponibilizar os status do serviço RmiIntePdv das Centrais PDV e PDVs
@author  joao.marcos
@since   14/06/2024
@version 1.0
@exemple: http://localhost:8090/REST/api/retail/v1/monitoramento/servicos/getJobs
/*/
@get('/api/retail/v1/monitoramento/servicos/getJobs')
Function pshMonitorPgServicosGrid()
Local oDadosServicosGrid := Nil  as Object

oDadosServicosGrid := pshMonitorPgServicos():New(oRest)
oDadosServicosGrid:SetAssinante("TOTVS PDV")
oDadosServicosGrid:SetaParamApi()
oDadosServicosGrid:Executa()

oRest:setKeyHeaderResponse('Content-Type','application/json; charset=utf-8')
oRest:setResponse( oDadosServicosGrid:GetJsonReturn() )

oDadosServicosGrid:FechaClasse()

Return

