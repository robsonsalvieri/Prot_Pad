?{"Nombre del archivo INI","RG20628.INI"}
?{"Descripcion Completa del Archivo Magnetico","Archivo utilizado la interface con el aplicativo de Régimen de información"}
?{"Comentarios","Ley 20628-97 - Impuesto a las Ganancias"} 
 
[XXX Inicializacao]
(PRE) _aTotal[01] := MV_PAR01
(PRE) _aTotal[02] := MV_PAR02
(PRE) _aTotal[03] := {}
(PRE) _aTotal[04] := {}
(PRE) _aTotal[05] := .F.
(PRE) _aTotal[06] := {}
(PRE) _aTotal[07] := .T.
(PRE) _aTotal[08] := MV_PAR06

[XXX Creación del CFP Utilizado por la rutina - PRINCIPAL]
(PRE) aAdd(_aTotal[03],"Impuesto a las Ganancias según Ley 20628-97")
(PRE) aAdd(_aTotal[03],"")
(PRE) aAdd(_aTotal[03],"Llene correctamente las informaciones solicitadas.")
(PRE) aAdd(_aTotal[03],"Informaciones necesarias para la generacion del archivo magnetico Impuesto a las Ganancias.")

[XXX Painel  - Configuraciones Generales]
(PRE) aAdd(_aTotal[04],{})
(PRE) aAdd(_aTotal[04][1],"Impuesto a las Ganancias")
(PRE) aAdd(_aTotal[04][1],"Configuraciones generales:")
(PRE) aAdd(_aTotal[04][1],{})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{1, "¿Convierte valores?",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{3,,,,,{"D Tasa del día","M Tasa del Movimiento"},,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{1, "¿Genera Archivo?",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{3,,,,,{"01 - A.C. Deudores por Vta o Ser. del Exterior","02 - A.C. Deudores por Vta o Ser. Locales","03 - Pasivo Deudas Comerciales del Exterior","04 - Pasivo – Deudas Comerciales Locales","05 - Retenciones y Percepciones","06 - Todos"},,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{1, "¿Se consolida Sucursales?: ",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{3,,,,,{"1-SI","2-NO"},,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})   
(PRE) aAdd(_aTotal[04][1][3],{1,"Tabla Retenciones:",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{2,,"XXXX",1,,,,4})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})   
(PRE) aAdd(_aTotal[04][1][3],{1,"Tabla Percepciones:",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{2,,"XXXX",1,,,,4})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})
(PRE) aAdd(_aTotal[04][1][3],{0,"",,,,,,})     


[XXX Chamada do Wizard]
(PRE) _aTotal[05] := xMagWizard(_aTotal[03],_aTotal[04],"RG20628")
(PRE) Iif(_aTotal[05],xMagLeWiz("RG20628",@_aTotal[06],.T.),Nil)
(PRE) lAbtMT950 := !_aTotal[05]

[XXX Registro RG20628]
(PRE) _aTotal[99] := FISA804("RG20628",DTOS(_aTotal[01]),DTOS(_aTotal[02]),_aTotal[6])
(POS)

[ACDVSE Activo Exterior]
(ARQ) ACTIVO_EXTERIOR.TXT
(PRE) ACDVSE->(dbGoTop())
CUIT       C 011 0 aFISFILL(ACDVSE->ACE_CUIT  ,11)
RAZON      C 050 0 aFISFILL(ACDVSE->ACE_RAZON ,50)
SALDO      C 015 0 aFISFILL(ACDVSE->ACE_SALDO ,15)
EXT        C 001 0 aFISFILL(ACDVSE->ACE_EXT   ,01)
(POS)

[ACDVSL Activo Locales]
(ARQ) ACTIVO_LOCAL.TXT
(PRE) ACDVSL->(dbGoTop())
CUIT       C 011 0 aFISFILL(ACDVSL->ACE_CUIT  ,11)
RAZON      C 050 0 aFISFILL(ACDVSL->ACE_RAZON ,50)
SALDO      C 015 0 aFISFILL(ACDVSL->ACE_SALDO ,15)
EXT        C 001 0 aFISFILL(ACDVSL->ACE_EXT   ,01)
(POS)

[PDCEXT Pasivo Exterior]
(ARQ) PASIVO_EXTERIOR.TXT
(PRE) PDCEXT->(dbGoTop())
CUIT       C 011 0 aFISFILL(PDCEXT->ACE_CUIT  ,11)
RAZON      C 050 0 aFISFILL(PDCEXT->ACE_RAZON ,50)
SALDO      C 015 0 aFISFILL(PDCEXT->ACE_SALDO ,15)
(POS)

[PDCLOC Pasivo Locales]
(ARQ) PASIVO_LOCAL.TXT
(PRE) PDCLOC->(dbGoTop())
CUIT       C 011 0 aFISFILL(PDCLOC->ACE_CUIT  ,11)
RAZON      C 050 0 aFISFILL(PDCLOC->ACE_RAZON ,50)
SALDO      C 015 0 aFISFILL(PDCLOC->ACE_SALDO ,15)
(POS)

[RETPER RETENCIONES - PERCEPCIONES]
(ARQ) RETENCIONES_PERCEPCIONES.TXT
(PRE) RETPER->(dbGoTop())
TIPOP      C 001 0 aFISFILL(RETPER->RP_TIPOP  ,01)
CUIT       C 011 0 aFISFILL(RETPER->RP_CUIT   ,11)
FECRET     C 010 0 aFISFILL(RETPER->RP_FECRET ,10)
CODREG     C 003 0 aFISFILL(RETPER->RP_CODREG ,03)
IMPOR      C 015 0 aFISFILL(RETPER->RP_IMPOR  ,15)
CERTIF     C 030 0 aFISFILL(RETPER->RP_CERTIF ,30)
(POS)

[XXX Cerrar Temporales]
(PRE) F804Cltmp(_aTotal[99])
