Release SIGALOJA.DLL (ID 0.2.90.30)
-----------------------------------
- 26/10/06 - BOPS110406
  ImpSwedaMFD.Pas
  Feita a homologação da impressora fiscal térmica Sweda IF ST100 na versão   01.00.04. 


Release SIGALOJA.DLL (ID 0.2.89.30)
-----------------------------------
- 25/10/06 - BOPS108853
  ImpItautec.Pas
  TImpFiscalItautec.ReducaoZ : Feita a alteração para pegar todas as posições retornadas   da função PegaSerie.

  TImpFiscalItautec.PegaSerie: Feita alteração no array Serie para suportar as 20 posições   que pode ser retornada pela impressora Itautec.

- 25/10/06 - BOPS110307
  ImpSigtron.Pas
  TImpFiscalDaruma2000.StatusImp: Foi alterada a função para o retorno da data corrente do   ECF.	

- 23/10/06 - BOPS111714
  ImpFiscSchalter.Pas
  Feita a homologação da impressora fiscal Schalter SCFI 1e Versão 03.06.


Release SIGALOJA.DLL (ID 0.2.88.30)
-----------------------------------
- 23/10/06 - BOPS105649
  ImpSweda.Pas
  Feita a homologação da impressora fiscal Sweda IFS9000I versão 1.7.	



Release SIGALOJA.DLL (ID 0.2.87.30)
-----------------------------------
- 19/10/06 - BOPS111490
  ImpSweda.Pas
  TImpFiscalSweda.StatusImp: retirado o status 19 para validação da data do movimento com a data corrente.		

- 27/09/06 - BOPS105627
  SIGALOJA.DLL
  Foram alteradas todas as camadas das impressoras fiscais para a exportação para o   cadastro de estação o modelo e a versão da EPROM.

Release SIGALOJA.DLL (ID 0.2.87.29)
-----------------------------------
- 14/09/06 - BOPS107550
  ImpUranoLoggerII.Pas
  Foi alterada a função TImpFiscalLoggerII.ReducaoZ para atualizar os contadores de redução   Z e de documento final baseada na redução diária, conferme portaria CAT 55/98.

  ImpItautec.Pas
  Foi alterada a função TImpFiscalItautec.ReducaoZ para atualizar os contadores de redução   Z e de documento final baseada na redução diária, conferme portaria CAT 55/98.

- 13/09/06 - BOPS107328
  ImpFiscBematechAutoNivel.Pas
  Foi feita a melhoria na função TImpBematech2000.TextoNaoFiscal para o envio de 420     caracteres ao enviar o texto não-fiscal para impressão do comprovante não fiscal.

  ImpSigtron.Pas
  Foi feita a homologação das impressoras térmicas da Daruma (FS600 e FS2100).

  ImpUranoLoggerII.Pas	
  Feita a melhoria na função TImpFiscalLoggerII.StatusImp para prever os retornos 17, 18 e    19 para se adequar às exigências do Anexo 09 RICMS de Santa Catarina.

- 12/09/06 - BOPS104479
  ImpSigtron.Pas
  Foi corrigida a não conformidade na gravação dos campos da tabela SFI (Mapra Resumo). 

- 04/09/06 - BOPS101470
  ImpItautec.Pas
  Foi alterada a função TImpFiscalItautec.ReducaoZ para fazer a gravação do Mapa Resumo.

- 28/08/06 - BOPS105582
  ImpFiscBematechAutoNivel.Pas
  Função TCMC7.Abrir alterada a forma da abertura do dispositivo utilizado na própria impressora fiscal.

- 28/08/06 - BOPS106073
  ImpProComp.Pas 
  Foi corrigida a function TImpFiscalProComp.Pagamento para acrescer 1 em no índice da forma de pagamento e assim registrar na forma de pagamento correta.

- 22/08/06 - BOPS105346
  ImpFiscSchalter.Pas
  Foram corrigidas as não-conformidades na emissão do cupom fiscal no ambiente KRMS.

- 03/08/06 - BOPS104307
  ImpSweda.Pas
  Foi corrigida a não conformidade da impressão da descrição do item.

- 01/08/06 - BOPS104344
  ImpBematechAutoNivel.pas
  Foi corrigida a não conformidade na gravação do mapa resumo com a MP2000TH FI.


- 28/07/06 - BOPS104009
  Feita a homologação do Display Torre Gertec.


Release SIGALOJA.DLL (ID 0.2.86.29)
-----------------------------------
- 26/07/06 - BOPS100967
  Incluido o comando 19 para retornar a data de movimento da impressora. 
  Implementado para Sweda e Bematech.

- 10/07/06 - BOPS102533
  Acerto da não conformidade da Redução Z nos modelos MP20 FI II, MP25FI II e MP40 FI II.

- 04/07/06
  Schalter - Foi feita melhoria para adequação da impressora Shalter SCFI 1E ao Anexo 09 do Regime ICMS - SC. 
Foi corrigida a venda com alíquota e forma de pagamento na posição zero da impressora.	
BOPS100854

- 06/06/06
  Bematech - Correção na função que captura o valor da venda bruta e o valor do grande total.

- 31/05/06 - Homologada a impressora fiscal térmica MP6000 TH da Bematech - BOPS 100252
  Foram implemetados os módulos: Impressora fiscal, impressora de cheques e leitor de CMC7.
  Alterado o ImpBematechAutoNivel.pas.


Release SIGALOJA.DLL (ID 0.2.85.29)
-----------------------------------
- 08/05/06 - Anexo 9 - RICMS01 - SC - BOPS98326
  Foram implementadas funções na Statusimp da Sweda e da Bematech a fim de capturar os valores da venda bruta e do Grande Total.

- 05/05/06 - SWEDA = IMPSWEDA.PAS / BEMATECH = ImpFiscBematechAutoNivel.Pas / SIGALOJA.DPR
  SWEDA - Feita alteração nas 2 classes (Sweda e Sweda100) da função PegaCupom para alterar a captura do numero do cupom fiscal (NC), para o Contador de Ordem de Operação (COO) para evitar que fosse duplicado o registro no SE1 em caso de venda com reserva.

  SWEDA - Feita alteração nas 2 classes (Sweda e Sweda100) da função Abrir para avisar o usuário dessa troca na captura e pedir que ele modifique a série no cadastro de estação.

  SWEDA - Melhoria: Impressão do cupom não fiscal (TImpFiscalSweda101.AbreCupomNaoFiscal) e na rotina de Pedido nas 2 classes (SWEDA e SWEDA101) foi feita a melhoria de cadastrar no sweda.ini o titulo que será usado pelas legendas.

  BEMATECH - Implementadas melhorias para impressão de relatório gerencial e texto não fiscal nas impressoras térmicas.

  SIGALOJA.DPR - Alterada a mensagem em caso de erro na passagem de parâmteros para função.


- 07/04/06
  SWEDA - Implementação do Pedido na linha 7000 e 9000. (BOPS 96543).
  Foi alterada a função TImpFiscalSweda101.FechaCupomNaoFiscal para corrigir um bug da linha 9000 de "segurar" a impressora após a impressão do comprovante vinculado. Para resolver foi enviado duas vezes o comando de fechamento do cupom.


- 23/03/06
  Schalter - Homologação da impressora Schalter ECF IF SCFI 1E VERSÃO 3.03.

- 13/02/06
  Recompilação da DLL para gravação do LOG(SIGALOJA.LOG), conforme documentação do dia 09/01/06.  

- 08/02/06
  Bematech (TEF) - Feita correção para imprimir o comprovante de TEF corretamente independente da versão da dll da Bematech. Até a versão 4.1.2.0, não era necessário enviar o CR + LF (salto de linha e posicionamento do carro de impressão), porém a partir dessa versão se não enviarmos junto com a linha a ser impressa esses dois comandos, o texto sai desposicionado.	

- 03/02/06 
  Bematech (Cheque) - Alterada a função de fechamento de porta, para não permitir que volte ao menu com algum pendência na porta.

- 02/02/06
  PertoCheck - Impressora PertoCheck - Alterada a função de impressão do verso, o comando original (") permite imprimir até 2 linhas, foi substituído pelo (X) que permite até 14 linhas.

- 30/01/06
  SWEDA - Linha 7000 e 9000 (verões 1.x) - Feita a melhoria de impressão de formas de pagto. no comprovante não-fiscal da sangria.

- 20/01/06
  Bematech MP25 - Melhoria na gravação do arquivo BEMAFI32.ini para ler corretamente o número de série.

- 09/01/06
  SIGALOJA.DLL:
    Incluído a possibilidade de efetuar a gravação no arquivo SIGALOJA.LOG, de todos os comando enviados aos equipamentos bem como o retorno obtido pelos mesmos.
    Para habilitar este recurso, é necessário que o arquivo SIGALOJA.INI, que deve estar no mesmo diretório da SIGALOJA.DLL, tenha a seguinte seção configurada:

    [LogDLL]
    Log=1

    É importante lembrar que este recurso deve ser habilitado com cautela, pois irá degradar o desempenho da aplicação.

  Mecaf:
    Quando era efetuada a impressão do cupom TEF e o tamanho do cupom excedia os 2 minutos ou ocorria erro na impressão, o cupom TEF ficava em aberto, fazendo com que fosse necessário uma intervenção manual, via aplicativo da Mecaf, para finalizar o cupom TEF.

- 01/12/05:
  Cheque Bematech : Melhoria na função de Impressão de Cheques da impressora Bematech DP-20. Dava erro em Win2000.

- 29/11/05:
  CMC7 Bematech: Tratamento da função de fechamento de porta para o SIGAFIN.

- 28/11/05: 
  Camada Principal: No Win98, ocorria um erro na validação da versão da DLL("Existe incompatibilidades entre versão do Repositório e a DLL Fiscal..."), foi corrigido.
	    	
- 22/11/05:
  SWEDA   : Melhoria na impressão da Sangria, para imprimir as formas de pagamento no comprovante (SWEDA 7000 1.0).
	    	

 Release SIGALOJA.DLL (ID 0.2.84.27)
-----------------------------------

- 17/11/05:
  BEMATECH: Alterado a Impressão de Cheque e Impressão de Cheque Transferência, para aceitar a data com ano utilizando dois e quatro dígitos.

- 09/11/05:
  BEMATECH: Implementação Cheque Transferência.

 Release SIGALOJA.DLL (ID 0.2.84.26)
-----------------------------------

- 31/10/05:
  URANO: Melhoria na função de Suprimento e Sangria. Apenas permitia suprimento.
  URANO LOGGER: Melhoria na função de captura das informações da impressora.

- 26/10/05:
  LEITOR SYMBOL: Homologação do Leitor Symbol LS7708 serial.

 Release SIGALOJA.DLL (ID 0.2.83.26)
-----------------------------------

- 17/10/05:
  DARUMA FS 2000: Contemplado a função Horario de Verão.

- 07/10/05:
  CMC7 Bematech: Alteração da abertura da DR1032.DLL para considerar o diretório temporário do Windows. Esta alteração é para contemplar a utilização da SIGALOJA.DLL pelo First.
  Cheque Bematech: Alteração da abertura da BEMADP32.DLL para considerar o diretório temporário do Windows. Esta alteração é para contemplar a utilização da SIGALOJA.DLL pelo First.  

- 29/09/05:
  Bematech AutoNível: Alteração da abertura da BEMAFI32.DLL para considerar o diretório temporário do Windows. Esta alteração é para contemplar a utilização da SIGALOJA.DLL pelo First.
  Daruma: Alteração da abertura da DARUMA32.DLL para considerar o diretório temporário do Windows. Esta alteração é para contemplar a utilização da SIGALOJA.DLL pelo First.  

 Release SIGALOJA.DLL (ID 0.2.82.26)
-----------------------------------
- 23/09/05:
  Procomp: Inclusão da função FechaEcf, esta função não existia para a impressora Procomp, toda vez que é acionada chama a redução Z. Estava ocasionando uma não conformidade na abertura do Frontloja se a redução Z não tivesse sido emitida no dia anterior.

- 21/09/05:
  Daruma FS2000: Correção no retorno da função de Redução Z.

- 05/09/05:
  Daruma FS2000: Alteração na função de Redução Z para pegar o path do registry do windows de onde será gravado o STATUS.TXT e RETORNO.TXT. Existe a necessidade de atualização da DLL da Daruma que será disponibilizada apenas em 06/09/05. Alteração na função PegaCupom porque estava ocorrendo exceção em algumas vendas.

- 05/09/05:
  Bematech AutoNível: Foi retirada alocação de memória desnecessária.

- 08/08/05:
  DARUMA FS-2000: 
	1) Criação da função de impressão do "Pedido". Esta funcionalidade é utilizada quando uma venda com reserva é finalizada na Venda Assistida.
	2) Correção da re-impressão do comprovante TEF. Alteração na função RelatorioGerencial().
	Obs.: O ID da SIGALOJA.DLL teve que ser alterado porque novos parâmetros são passados pelo Protheus para a DLL.

 Release SIGALOJA.DLL (ID 0.2.82.25)
-----------------------------------

- 26/07/05: 
  BEMATECH MP2000 e MP25: Alteração na gravação do resumo da redução Z (Mapa Resumo). 
			  Deverá ser aplicado um patch do LOJA160 e atualizada a BEMAFI32.DLL (com versão igual ou superior a 3.6.4.0) para esta alteração ter efeito.

- 12/07/05:
  DARUMA FS-2000: Implementacao na função de registro de ítem: quando o código do produto for composto por menos de 6 dígitos, a função irá completar com 0(zeros) à esquerda para que não dê erro de impressão.   

- 08/07/05:
  SWEDA V.1.0: Implementacao da impressao do comprovante de recebimentos de Títulos do Loja.   

- 03/07/05:
  Incluído um tratamento quando ocorrer um erro não esperado pela SIGALOJA.DLL. Quando acontecer este erro, será exibido uma mensagem com o número do comando que estava sendo executado e os parâmetros que foram passados. Esta mensagem será gravada também no arquivo SIGALOJA.LOG, no mesmo diretório da SIGALOJA.DLL.

- 01/07/05:
  BEMATECH AUTO NIVEL: Melhoria na função de Abertura de Comprovante. 

- 23/06/05:
  DARUMA/SIGTRON: Implementação do Recebimento de Título(V. Assistida e Front Loja) na impressora Daruma FS-2000 V.1.0.

- 16/06/05:
  Zanthus: Homologação da impressão IZ-21 V.3.51.

 Release SIGALOJA.DLL (ID 0.2.81.25)
-----------------------------------

- 29/04/05:
  Sweda: Homologação da impressão de cheques na Impressora Sweda 7000 V.1.6.

- 26/04/05:
  Bematech AutoNível: Melhoria na função de abertura da porta. Foi retirada uma alocação de memória desnecessária.

- 20/04/05:
  Urano: Não permitia a impressão de ítens com código alfanumérico. Foi corrigido um erro de ExecDLLInClient.

- 18/03/05:
  Sweda: -Homologação da SWEDA IFS 9000II V1.2
	 -Homologação da SWEDA IFS 7000I V1.6

 Release SIGALOJA.DLL (ID 0.2.79.25)
-----------------------------------

- 18/03/05:
  Sweda 9000 IIE V.1.0: Homologação da Sweda 9000 V1.0.
			Ajustes na função de sangria e suprimento.

 Release SIGALOJA.DLL (ID 0.2.78.25)
-----------------------------------

- 20/01/05:
  Bematech AutoNível: Validação de falha de comunicação/impressora desligada nas funções de comprovante não fiscal.

- 20/01/05:
  Filizola: Homologação da Balança Filizola BP15.


 Release SIGALOJA.DLL (ID 0.2.77.25)
-----------------------------------

- 17/01/05:
  ELGIN: Corrigido problema com alíquota de redução de ICMS na função RegistraItem.
    Problema encontrado:
      Por problemas internos (Delphi) na manipulação de váriaveis float, os seguintes valores não são iguais: 
      StrToFloat( sRet ) / 100
      StrToFloat( copy( aliquota, 2, 5 ) )

      Logo, para que não ocorra este problema, foram criados duas variáveis do tipo Double para um cast de extended (Float Type) para Double (nAliqImp, nAliqSis). Com isso, a comparação "If nAliqImp = nAliqSis" ocorrerá normalmente.

- 14/01/05:
   Unisys: Homologação do ECF UNISYS BR 40 Versão 3.10. Este ECF possui a mesma eprom da BEMATECH e é compatível com o modelo MP-40 FI-II.
   Gertec: Homologação do display do teclado Gertec TecD65. É necessário que os arquivos INPOUT32.DLL e tec65_32.dll estejam no diretório BIN\REMOTE. Estas DLLs encontram-se no seguinte endereço: ftp://ftp.microsiga.com.br/protheus/Dlls_Fiscais/Hardware/Gertec/

- 07/01/05: 
   Itautec: Implementado o acionamento do gaveteiro. Efetuada melhoria para aumentar performance no registro de itens e no pagamento. Corrigido a impressão do comprovante de sangria e entrada de troco. Para que a impressão da sangria e troco funcione corretamente é necessário que o arquivo ITAUTEC.INI contenha as seguintes seções:
[Sangria]
NomeCNF = <Nome do Comprovante Não Fiscal para a Sangria>
Texto   = <Texto a ser impresso no CNF, limitado a 70 caracteres>

[Suprimento]
NomeCNF = <Nome do CNF para o Suprimento>
Texto   = <Texto a ser impresso no CNF, limitado a 70 caracteres>
Forma   = <Forma de pagamento a ser utilizada, geralmente DINHEIRO>
 

BematechAutoNivel: Melhoria no registro de venda. Qdo a impressora tinha 2 alíquotas com o mesmo percentual em ICMS e em ISS, o sistema registrava sempre na primeira alíquota encontrada na impressora, sendo assim, em alguns casos, era solicitado registro em ICMS e efetivado em ISS. 
OBSERVAÇÃO: A correção feita assume que as alíquotas estejam programadas sequencialmente, caso não estejam, não funcionará corretamente. A DLL da Bematech não dispõe de mecanismos para melhorar essa implementação.

- 29/12/04: 
   BematechAutoNivel: Melhoria no registro de venda. Qdo a impressora tinha 2 alíquotas com o mesmo percentual em ICMS e em ISS, o sistema registrava sempre na primeira alíquota encontrada na impressora, sendo assim, em alguns casos, era solicitado registro em ICMS e efetivado em ISS. 
OBSERVAÇÃO: A correção feita assume que as alíquotas estejam programadas sequencialmente, caso não estejam, não funcionará corretamente. A DLL da Bematech não dispõe de mecanismos para melhorar essa implementação.

- 23/12/04: 
   BematechAutoNivel: Melhoria na função FechaCupomContaDividida.
   Mecaf/Elgin: Melhoria na função Pagamento.

- 14/12/04: 
   BematechAutoNivel: Melhoria na função de retorno do Numero do ECF. Melhoria na função de Recebimento (AbreCupomNaoFiscal). Melhoria na função de leitura de mesas (impressora de restaurante) em aberto.
   Sigtron/Daruma: Re-homologação da impressora Daruma FS 2000 Versão 1.0, agora utilizando DARUMA32.DLL ao invés do driver.


- 05/12/04: 
   BematechAutoNivel: Homologação da Impressora Bematech MP-20 FI II R.

 Release SIGALOJA.DLL (ID 0.2.74.25)
-----------------------------------

- 23/11/04: 
   Sweda: Homologação da Impressora Sweda Eprom versão 1.5 (Modelos IF S-7000 e IF S-7000II).

- 16/11/04: 
   Bematech: Implementação do comando de programação do Horário de Verão.

- 08/11/04: 
   Zanthus: Correção no registro de ítens.

- 19/10/04: 
   Bematech: Alteração no tratamento do retorno da impressão de texto não fiscal. Na MP20FI II estava bloqueando indevidamente a impressão do comprovante TEF quando havia pouco papel.

- 18/10/04: 
   Itautec: Implementação da impressão de cheques na impressora Itautec de 2 estações. É necessário ter no diretório REMOTE o arquivo CHEQUEII.DAT, onde estão os leiautes de cheques da impressora Itautec. Esse arquivo pode ser gerado e/ou alterado pelo aplicativo CadBank distribuido pela Itautec. O instalador desse programa tb está disponível no FTP. É necessário descompactar o arquivo CONFCHQ.ZIP. A Microsiga não faz manutenção neste arquivo de leiaute.

   Sigtron: Declaração de função da DARUMA32.DLL.

- 08/10/04: 
   Daruma: Re-Homologação da impressora fiscal Daruma, agora utilizando a DLL distribuida pelo fabricante (DARUMA32.DLL)

 Release SIGALOJA.DLL (ID 0.2.73.25)
-----------------------------------

- 02/10/04: 
   Filizola: Homologação da balança FILIZOLA MF-C

 Release SIGALOJA.DLL (ID 0.2.72.25)
-----------------------------------

- 27/09/04: 
   Bematech: Implementação para a impressão da unidade de medida do produto.

 Release SIGALOJA.DLL (ID 0.2.72.24)
-----------------------------------

- 17/09/04: 
   Corisco: Correção na função Status opção "Data".	

- 17/09/04: 
  Bematech: Alteração no retorno do Valor Contábil e Contador de Reínicio de Operação da função de Redução Z.

- 15/09/04:
   Itautec: Correção na função CancelaCupom.

- 14/09/04:
   Corisco: Correção na função AbreCupom.

- 13/09/04
   Sigtron: Alteração no envio do desconto para a impressora.

- 08/09/04:
   Corisco: Correção na função AbreCupom.

- 24/08/04:
   Symbol: Homololgação do Leitor LS 5700.

- 23/08/04:
   Procomp: Alteração no status de Redução Z Pendente.

- 14/08/04:
   Bematech: Quando o ECF estava com POUCO PAPEL o retorno da função IFStatus(5) não estava correto. Sempre retornava que não havia cupom aberto.

- 05/08/04:
   Itautec POS4000: Melhoria na função de cancelamento de cupom.

- 05/08/04:
   Yanco 8000 V2.0: Melhoria na função de cancelamento de cupom.

- 04/08/04:
   CMC7 Bematech:  Inclusão de parâmetro sMensagem na função CMC7Abr(), esse parâmetro dá liberdade para decidir se a Mensagem em caso de erro seja ou não exibida.

 Release SIGALOJA.DLL (ID 0.2.72.23)
-----------------------------------

- 20/07/04:
   Bematech MP-25FI: Melhoria na função FechaCupom().

- 01/07/04:
   Sweda: Corrigido o tratamento para a utilização de 3 casas decimais no valor unitário do produto. Correção efetuada apenas na EPROM 0.3 e 1.0.
   
- 29/06/04:
   PinPad: Alterado a exibição das mensagens de erro do PinPad. Elas eram exibidas embaixo da mensagem de solicitação do cartão ou da senha.

- 22/06/04:
   Bematech: Homologação da Impressora Fiscal MP25FI. É imprescindível utilizar a DLL BemaFI32 versão 3.4.0.0


 Release SIGALOJA.DLL (ID 0.2.71.23)
-----------------------------------
- 21/06/04:
   BEMATECH MP20FI II; BEMATECH MP40FI II; YANCO 8000 V. 2.0; BEMATECH MP2000 THFI: Retirada as funções abaixo relacionadas da SIGALOJA.DLL pois as mesmas não estão mais em uso na BEMAFI32.DLL
	Bematech_FITEF_Status 
	Bematech_FITEF_VendaCartao
	Bematech_FITEF_ConfirmaVenda
	Bematech_FITEF_NaoConfirmaVendaImpressao
	Bematech_FITEF_CancelaVendaCartao
	Bematech_FITEF_ImprimeTEF
	Bematech_FITEF_ImprimeRelatorio
	Bematech_FITEF_ADM
	Bematech_FITEF_VendaCompleta

- 15/06/04:
   Bematech DP-10/DP-20: a) Inclusão do tipo 2 na função 'StatusCh()', com a função de retornar se a impressora tem recurso para impressão de chancela. b) Inclusão do parâmeto 'Chancela' na função 'Imprimir()', nesse parâmetro deverá ser informado se deseja(S) ou Não(N) imprimir chancela.


 Release SIGALOJA.DLL (ID 0.2.71.22)
-----------------------------------
- 09/06/04:
   Daruma/Sigtron: Alteração na função registra item para os modelos 'SIGTRON FS345' e 'SIGTRON FS345 V1.20'. Havia uma falha no tratamento do valor do desconto.

- 09/06/04:
   CMC7 Bematech: Melhoria na função de fechamento. Estava ocorrendo um erro de falha geral no Win98.

- 12/05/04:
   Urano: Alteração na função de cancelamento. Foi incluída mais uma checagem para ter certeza que o cupom foi realmente cancelado.

- 03/05/04:
   Sweda: Na eprom 1.A, para que se imprima um cupom vinculado (TEF), a forma de pagamento cadastrada no ECF tem que permitir um cupom vinculado. Corrigido erro no comando IFFchCNFis().

- 27/04/04:
   Leitor Metrologic: Inclusão do modelo MS9520 Voyager (compatível com o MS700i).


Release SIGALOJA.DLL (ID 0.2.70.22)
-----------------------------------

- 26/04/04:
   Daruma: Melhoria no cancelamento de cupom.

- 23/04/04:
   GeneralFujitsu: Correção para a venda de produtos com situação tributária "F", "I", ou "N", respectivamente "Substitução Tributária", "Isento de ICMS" e "Não Tributado".

- 22/04/04:
   Daruma: Melhoria no desconto no ítem. A partir dessa alteração, usuários de Daruma 1.11 e 1.20 deverão ter no diretório \remote a FS345_32.DLL.

- 15/04/04:
   PinPad: Homologação do PinPad Ingenico I3500 CHIP

Release SIGALOJA.DLL (ID 0.2.69.22)
-----------------------------------
- 01/04/04:
   PinPad: Efetuado o tratamento no fechamento da classe do PinPad.

- 29/03/04:
   Impressora de cheques PertoChek: Foi tratado todas as acentuações enviadas para a impressora, pois a mesma não aceita caracteres acentuados.

- 26/03/04:
   Display: Homologação do Display Fourth (esse display faz parte do Teclado FT-065).

Release SIGALOJA.DLL (ID 0.2.68.22)
-----------------------------------
- 18/03/04:
   Urano: Alteração no retorno do ECF. A impressora pode retornar os códigos 33 e 0(zero) para comando OK aleatoriamente.

- 10/03/04:
   Sigtron/Daruma: Melhoria na função RegistraItem, estava calculado o desconto de forma incorreta.

- 27/01/04:
   Emulador : Incluídas as funções: Percepcao, SubTotal, AbreDNFH, FechaDNFH, GravaCondPag, ReImprime, TextoRecibo, MemTrab, Capacidade, AbreNota.

- 07/01/04:
   Sweda : Para o modelo IFS V0.03, implementado a impressão de uma leitura X, na funcao de relatorio gerencial.

- 06/01/04:
   Leitor Metrologic: Corrigido não-conformidade de não registrar alguns produtos.

- 09/12/03:
   Procomp: Implementação da função RelatorioGerencial.

- 08/12/03:
   Hasar: Inclusão da função AbreNota. Melhorias diversas.

- 06/12/03:
   Bematech Auto Nivel: Homologação da impressora fiscal térmica (MFD) Bematech MP2000 TH FI


Release SIGALOJA.DLL (ID 0.2.67.22)
-----------------------------------

- 03/12/03:
   TEF: Melhoria para a utilização do TEF criptografado via MetaFrame/Terminal Server (AP6TSC).

- 02/12/03:
   Hasar: Inclusão das funções MemTrab e Capacidade. Melhorias diversas.

Release SIGALOJA.DLL (ID 0.2.67.21)
-----------------------------------

- 04/12/03:
   Sweda: V1.0 - Alteração na função de abertura de cupom não fiscal. Se não conseguir abrir o cupom, faz um recebimento para então abrir um cupom não fiscal vinculado a esse recebimento.

- 18/11/03:
   Bematech Auto Nivel: Acerto na função que retorna se o ECF trunca ou arredonda o valor total do item.

- 13/11/03:
   Sweda: V03 - Melhoria na função de Registrar Item. O Front Loja não estava conseguindo registrar ítens com alíquota de ICMS inferior a 10,00%.

- 06/11/03
   Sweda: V03 - Melhoria na impressão de comprovante de TEF: RelatorioGerencial, TextoNaoFiscal, AbreCupomNaoFiscal.

- 29/10/03

   Hasar: Melhoria nas funções: AbreCupom, CancelaCupom, MemoriaFiscal, StatusImp.	  

   Urano: Homologação das impressoras URANO ZPM 1EF (versões 4.0, 5.0 e 6.0). Melhorias nas funções: RegistraItem, Pagamento e StatusImp.

   Mecaf: Homologação das impressoras ELGIN IF500 FCP500 e FCP201, correlatas com Mecaf de mesmas versões.


Release SIGALOJA.DLL (ID 0.2.62.21)
-----------------------------------

- 20/10/03
  Homologação do Leitor Spectra-Physics VS1200.

Release SIGALOJA.DLL (ID 0.2.61.21)
-----------------------------------

- 06/10/03
  Incluído o ECF Urano modelo 'URANO 1FIT LOGGER II'.
  Deverá ser atualizada a DLL DLLG2.DLL. A mesma encontra-se no seguinte endereço: ftp://ftp.microsiga.com.br/protheus/Dlls_Fiscais/Hardware/Urano/DLLG2.DLL, e deverá ser copiada para o diretório de sistema (Ex: C:\Windows\System, D:\Win98\System, C:\WinNT\System32, etc.).

Release SIGALOJA.DLL (ID 0.2.60.21)
-----------------------------------

- 02/10/03:
   PinPad: Incluído o PinPad, do Fabricante Visanet modelo SC5000. 

Release SIGALOJA.DLL (ID 0.2.59.21)
-----------------------------------

- 29/09/03:
   Bematech DP20: Incluído ponto de milhar na impressão de cheques (Ex.: "1.200,00"). 

- 12/09/03:
   Impressoras de Cheque: Melhoria no status de extenso do cheque. 

Release SIGALOJA.DLL (ID 0.2.59.20)
-----------------------------------

- 12/09/03:
   Bematech - DP20: Melhoria na impressão do verso do cheque.

- 09/09/03:
   Sweda: Melhoria na função de Registrar Item. O Front Loja não estava conseguindo registrar ítens com alíquota de ICMS inferior a 10,00%.

- 03/09/03:
   Hasar: Melhoria nas funções AbreDNFH e RegistraItem.

- 30/08/03:
   Hasar: Inclusão do parametro sImprime na função SubTotal.

Release SIGALOJA.DLL (ID 0.2.59.19)
-----------------------------------

- 30/08/03:
   Hasar: - Inclusão das funções: ReImprime, Percepcao, AbreDNFH, FechaDNFH e TextoRecibo, utilizadas pela impressora Hasar. 
	  - Melhorias nos tratamentos de retorno.

- 19/08/03:
   Sweda: Incluída uma melhoria para o caso de cancelamento quando é efetuada alguma operação depois do cupom fiscal (Ex.: Leitura X). A dll não estava identificando automaticamente que o cupom não havia sido o último documento impresso.

Release SIGALOJA.DLL (ID 0.2.59.18)
-----------------------------------

- 14/08/03:
   PertoCheck: Melhoria na função impressão. Inclusão de verificação da versão da Eprom do equipamento.

- 30/07/03:
   Sigtron: Inclusão da função Relatório Gerencial para a IF Sigtron 1.10 

- 29/07/03: 
   Sigtron: Melhoria na função de Relatório Gerencial. Em alguns casos o sistema não estava esperando tempo suficiente para enviar o texto livre, nesse caso, era impressa a Leitura X sem o texto. 

- 29/07/03:
   Bematech Auto Nivel: Melhoria no registro de ítem com ISS. Qdo a alíquota não estava cadastrada no ECF dava erro "Parâmetro Inválido"  ao invés de "Alíquota não programada".

- 28/07/03:
   Sweda: Correção na captura da data do ECF versão 0.3

- 21/07/03:
   Bematech Auto Nivel: Melhoria no registro de ítem com ISS. Qdo a alíquota tinha apenas 1 casa antes da vírgula (Ex.: 5,00%) estava ocorrendo erro de "parâmetro inválido" e não registrava o ítem.

- 17/07/03:
   Sigtron: Melhoria no registro de ítem com quantidade fracionada.

- 01/07/03:
   Sigtron: Melhoria na função de Abertura do Comprovante Vinculado, ocorria um erro quando a forma de pagamento tinha mais de 16 caracteres.

- 27/06/03: 
   Bematech Alto Nivel: Melhoria de performance na função TextoNãoFiscal. A impressão ficou mais veloz na versão 3.21 de IF Bematech.

- 27/06/03:
   Bematech Alto Nivel: Melhoria na função AbreCupomNaoFiscal - o valor foi formatado pois estava sendo impresso errado em algumas situações.

- 25/06/03:
   Bematech Alto Nivel: Melhoria no Registro de ìtem tributado com ISS.
   DataRegis: Melhoria nas funções de Pagamento de Fechamento do Cupom Fiscal - tratamento de fim de papel.

- 18/06/03:
   Sweda: Melhoria na função PegaCupom.

- 13/06/03:
   DataRegis: Melhoria nas funções de comprovante não fiscal (abrir, fechar e imprimir texto), não estava tratando de fim de papel.

- 09/06/03:
   PinPad  / SC552 : Incluido tratamento de mensagens de erro do PinPad, dentro da DLL, eliminado do Protheus.

- 02/06/03:
   Bematech Alto Nível / Yanco: Homologação da Yanco 8000 versão 2.0 utilizando a DLL de auto-nível da Bematech. É necessário colocar a BEMAFI32.DLL no diretório do remote, e o BEMAFI32.INI no diretório de sistema (Ex: C:\Windows\System, D:\Win98\System, C:\WinNT\System32, etc.). No arquivo INI o parâmetro ModeloImp deve ser configurado como "YANCO".

   Itautec: Correção do desconto no item - função de Registro de Item.

- 28/05/03:
   Urano : Homologada Modelo 2EFC, versão 1.0, arquivos necessários:
    BANCO2EFC.TXT - Utilização do recurso de impressão de cheque, o arquivo contem as coordenadas de impressão dos dados do Cheque( Instalar no dirretorio "remote")
    DLL2EFC3.DLL  - DLL do fabricante que contem as funções de tratamento( Instalar no dirretorio "remote").

Release SIGALOJA.DLL (ID 0.2.58.18)
-----------------------------------

- 19/05/03:
   PinPad: Incluido o PinPad, do Fabricante Gertec modelo PPC-800

Release SIGALOJA.DLL (ID 0.2.57.18)
-----------------------------------

- 15/05/03:
   Sweda: Melhoria na função de suprimento.

- 08/05/03:
   Sweda: Homologação IF 7000-II V03 (com impressão de cheque). É necessário incluir o arquivo BANCOS.INI no diretório remote. Esse arquivo está no seguinte diretório: ftp://ftp.microsiga.com.br/protheus/Dlls_Fiscais/Hardware/Sweda/Bancos.ini.

Release SIGALOJA.DLL (ID 0.2.56.18)
-----------------------------------

- 10/04/03:
   Daruma/Sigtron: Homologação FS-345 versão 1.20:

- 10/04/03:
   Bematech Auto Nivel: - Melhoria na função AbreCupomNaoFiscal.

Release SIGALOJA.DLL (ID 0.2.55.18)
-----------------------------------

- 27/03/03:
   IBM, ImpFiscMain: - Melhoria na função de Fechamento de Cupom, para que retorne corretamente a cópia do cupom (Journal).

- 24/03/03:
   IBM: - Melhoria nos comando de Impressão de Cheque e Fechamento de Cupom.

- 20/03/03:
   Bematech Auto Nivel: - Melhoria no tratamento do retorno da função de suprimento.

- 17/03/03:
   Bematech Auto Nivel: - Melhoria na função de pagamento, para funcionar corretamente com a concomitância exigida nos estados de MG e AM.

- 14/03/03: 
   PertoCheck: - Melhoria na impressão de cheques.

- 13/03/03: 
   Bematech Auto Nivel: - Melhoria no tratamento de retorno da impressora.
			- Melhoria no retorno da função de Suprimento.

- 06/03/03:
   Bematech Auto Nivel: Efetuada a correção no retorno da função status onde é checado se a impressora permite desconto no item.

- 28/02/03:
   Sweda: Melhoria no registro de ítem, versões V03 e 1.01. Em algumas situações estava enviando o índice da taxa de ICMS incorreto.

- 07/02/03:
   Sweda: Homologação SWEDA IFS V1.A.
   Hasar: Homologação SMH/P-320F e HASAR SMH/P-PR4F.
   Mecaf: Homologação TRENDS 1.0E FCP500 correlata com MECAF FCP500 conforme ATO COTEPE/ICMS Nº23, de 19 de Junho de 2001. 


Release SIGALOJA.DLL (ID 0.2.52.18)
-----------------------------------

- 13/01/03:
   Sweda: Homologação CMC7.


Release SIGALOJA.DLL (ID 0.2.51.18)
-----------------------------------

- 11/02/2003
   As funções de impressão de texto não fiscal ( Relatorio Gerencial e Texto nao fiscal), foram alterada para imprimir linha a linha.
   para um melhor controle da impressão do cupom TEF.

- 08/01/03:
   Bematech, Bematech Auto Nível, Sweda, Urano: Mapa Resumo - Incluídos contadores de CRO(Reinício de Operação) e alíquotas cadastradas.

Release SIGALOJA.DLL (ID 0.2.51.17)
-----------------------------------
- 07/01/03:
   Bematech Auto Nivel: Quando era solicitado a impressão de um Cupom TEF com mais de 618 caracteres, o mesmo não era impresso. Corrigido o tratamento da forma de pagamento "Dinheiro", pois na DLL da Bematech, as formas de pagamento são case-sensitive, isto é, a forma "DINHEIRO" é diferente da forma "Dinheiro".

- 02/01/03: 
   Bematech Auto Nível: Melhoria na captura de Mapa Resumo.

- 27/12/02: 
   Zanthus: Revisão de homologação. Funções alteradas: Registra Item, Pagamento e Acréscimo.

- 18/12/02:
   Zanthus: Melhoria na funçao CancelaItem para tratar as alíquotas I-Isento, N-Não Tributado e F-Substituição Tributária.

- 17/12/02: 
   Bematech: Melhoria na função RegistraItem para registrar ítens com descrição maior que 29 caracteres.

- 17/12/02:
   Zanthus: Melhoria na função CancelaItem para fazer o devido tratamento das alíquotas. Melhoria na função Suprimento, não estava funcionando corretamente no FrontLoja.

- 11/12/02:
   Zanthus: Melhoria na funçao RegistraItem para tratar as alíquotas I-Isento, N-Não Tributado e F-Substituição Tributária.

- 11/12/02:
   Bematech Auto Nível: Alteração na função pedido para o ECF MP40FI II.
   Bematech: Inclusão da função pedido para os ECFs MP20FI I e MP40FI I.

- 10/12/02:
   Zanthus: Melhoria na funçao RegistraItem para fazer o devido tratamento das alíquotas.

- 06/12/02:
   Bematech Auto Nível: Inclusão da função Pedido (impressão de comprovante de venda) e acerto na função de abertura de comprovante não fiscal.

- 06/12/02:
   Perto Check: Tratamento na impressão dos digitos do ano (2 ou 4 casas).

- 03/12/02:
   Bematech: Alteração no envio de parâmetros na função de abertura de cupom não fiscal.

- 21/11/2002:
   Bematech: Tratamento na formatação da alíquota na função de registrar item para quando o valor da alíquota for menor que 10%.

- 21/11/2002:
   Sweda: Correção no comando de envio de Suprimento. Tratamento da impressão do cheque.

- 21/11/2002: 
    Zanthus: Consistência no tratamento das casas decimais do valor na função Pagamento.

- 20/11/2002: 
    Zanthus: Implementadas as operações de Sangria e Suprimento. 

- 14/11/2002:
    Bematech Auto Nível: Removido o retorno negativo no tratamento de pouco papel que havia na função FechaCupom. O sistema não permitia continuar a operação.

- 13/11/2002: 
    Bematech Auto Nível: Implementação do Mapa Resumo e da função de programação de Totalizadores Não Fiscais. Melhoria na função Pagamento, não registrava Cartão de Crédito.

- 06/11/2002:
    Urano: Implementada a função PegaSerie - captura número de série da Impressora.

- 05/11/2002:
    Bematech Auto Nível: Incluída camada ImpFiscBematechAutoNível, que comtempla as impressoras "Bematech MP-20 FI II" e "Bematech MP-40 FI II". É necessário colocar a BEMAFI32.DLL no diretório do remote, e o BEMAFI32.INI no diretório de sistema (Ex: C:\Windows\System, D:\Win98\System, C:\WinNT\System32, etc.).

- 30/10/2002:
    Bematech: Correção na função de retorno de suprimentos. IFStatus(6) e IFSupr().

- 30/10/2002:
    Geral: Inclusão de um parâmetro na função AbreCupomNaoFiscal.


Release SIGALOJA.DLL (ID 0.2.51.16)
-----------------------------------

- 30/10/2002:
    Sweda: Correção da utilização de 3 casas decimais para Quantidade (utilização do conceito de Peso) para EPROM 1.1 e utilização de Aliquota menor do que 10%

- 25/10/2002:
    Epson: Alteração na impressão dos impostos.

- 23/10/2002:
    Sweda: Melhoria nas funções que emitem Redução Z.

- 23/10/2002:
    Procomp: Implementação da função Gaveta.

- 16/10/2002:
    Symbol: Homologação do Scanner Symbol MT1800.

Release SIGALOJA.DLL (ID 0.2.50.16)
-----------------------------------

- 11/10/2002: 
   Zanthus: Ajuste para utilizar a vírgula "," como separador de casas decimais para o valor total.

- 09/10/2002:
   Epson: Melhoria na função CancelaCupom, em alguns países o Cancelamento do Cupom nãp está amarrado ao último cupom, por isso será passado o número do cupom a ser cancelado como parâmetro. 

- 05/10/2002:
   Itautec: Melhoria na função Pedido. 

- 03/10/2002:
   Itautec: Implementação da função Pedido. 

Release SIGALOJA.DLL (ID 0.2.50.15)
-----------------------------------

- 02/10/2002: 
   PertoPay : Melhoria na função de Impressão.

- 30/09/2002: 
   Urano Logger: Melhoria no Cancelamento de Cupom.

- 29/09/2002
  PertoPay: Homologação da impressora PertoPay Modelo 2013.

Release SIGALOJA.DLL (ID 0.2.49.15)
-----------------------------------

- 23/09/2002
   Urano Logger: Melhoria nos registros de produtos ISENTOS, NÃO TRIBUTADOS e com SUBSTITUIÇÃO.

- 23/09/2002
   Zanthus, Mecaf: Inclusao/Homologação da IF Zanthus QZ1001, 100% compatível com a MECAF FCP201 conforme ATO COTEPE/ICMS Nº16, DE 19 DE JUNHO DE 2001.

Release SIGALOJA.DLL (ID 0.2.48.15)
-----------------------------------

- 19/09/2002
   Bematech, Sweda, Urano Logger: Inclusão da captura de totais de ISS.

- 17/09/2002
    Leitores de Código de Barras: Inclusão do parâmetro FOCO na funçao de Abertura. Para fazer ou não tratamento do foco do Scanner.


Release SIGALOJA.DLL (ID 0.2.48.14)
-----------------------------------

- 17/09/2002
    Pinpad: Incluido mais 2 modelos de Pinpad, que aceitam a tecnologia Chip ( Visa):
 	- Dione SOLO 2005 CHIP.
	- Schlunberger Magic 1800 CHIP

- 17/09/2002
    Bematech: Correção da função de retorno do valor de suprimento atualmente no caixa.


Release SIGALOJA.DLL (ID 0.2.46.14)
-----------------------------------

- 09/09/2002
    Urano: Melhoria na captura de Status de papel.

- 07/09/2002
    Corisco: 1. Melhoria na funcão EnviaComando, qdo retorna ERRO envia o comando novamente. 2. Melhoria na função que retorna o Estado do Cupom (Aberto/Fechado). (As duas melhorias foram feitas porque a impressora Corisco bufferiza informação incorreta - aleatóriamente)

- 04/09/2002
    Corisco: Correção na AlimentaProperties, estava trazendo retorno incorreto das modalidades de pagamento.

- 27/08/2002
    Epson: Correçao na Função de Impostos do Cupom, para que continue processando quando o tipo do imposto for diferente de 1.

- 23/08/2002
    Epson: Inclusão da Função de Impostos do Cupom, essa função é utilizada para impressão dos impostos para impressora de fora do Brasil. Os fontes das impressoras nacionais foram alterados apenas para efeito de compatibilização, isto é, não foram alteradas suas funcionalidades.

- 14/08/2002
    Sweda: Melhoria na função de Registro de Item (Eprom V03), para que registre corretamente itens de Substituição Tributária, Isentos e Não Tributados. Melhoria na função de Reducao Z com Mapa Resumo (IF S-7000I - Eprom 1.0).

- 08/08/2002
    Yanco: Foram retirados as linhas separadoras da impressao do numero do Orçamento e a mensagem final do cupom.

- 29/07/2002
    Epson: Homologação da impressora Epson TM-H6000II, alteracao no recebimento da funcao de impressão de cheque para receber "|" ao invés de "," como separador de parâmetros, isso por causa do extenso do cheque (que as vezes tem vírgula).

Release SIGALOJA.DLL (ID 0.2.45.13)
-----------------------------------

- 01/08/2002
  Sweda:
    Alteração na função de abertura. Faz a verificação se o ECF está ligado ou não.   

- 31/07/2002
  Gaveta Menno:
    Alteração no tratamento do acionamento da gaveta. 
    Atualização das DLLs para utilização com windows 2000 (Deverão ser atualizadas as dlls GHDL32.DLL E LIBSERIAL.DLL)

- 29/07/2002
  Urano:
    Homologação do ECF Urano POS-Logger Eprom 2.20.

Release SIGALOJA.DLL (ID 0.2.44.13)
-----------------------------------

- 02/07/2002
  Daruma (Sigtron): Correção da função de cancelamento de item.

- 19/06/2002
  Daruma (Sigtron): Implementaçao da função GAVETA para que abra gaveta conectada a Impressora Daruma.

- 19/06/2002
  Leitor IBM: Adicionado a identificação da origem do codigo de barras. O PARAMIXB[11] do PE FRTCodB2 conterá .T. caso tenha vindo do leitor e .F. caso não.

- 18/06/2002
   Bematech: Alteração na função de adicionar alíquotas para que faça também a programação de taxas de ISS na Impressora Bematech. Para o correto funcionamento é necessário que o campo B1_ALIQISS tenha a seguinte estrutura: TAMANHO=5, DECIMAIS=2 e PICTURE=999.99

- 17/06/2002
  Homologado a utilização do SIGALOJA via Terminal Services/MetaFrame. É necessário a utilização do aplicativo AP6TSC.EXE, setar o  parâmetro MV_LJTSC (Lógico) como True, e configurar os campos LG_TSCSERV e LG_TSCPORT, via Cadastro de Estação.

- 10/06/2002
  Bematech:
    Correção no tratamento do status da gaveta (Aberto/Fechado)
  Bematech DP10/20:
    Validação no parâmetro no código do banco. Informa o usuário caso o código seja inválido.

- 04/06/2002
  Sweda:
    Homologação do ECF Sweda IFS-II V1.01.
    Implementação de função de relatório gerencial.
    Melhoria na impressão de cupom vinculado (TEF).



Release SIGALOJA.DLL (ID 0.2.43.13)
-----------------------------------

- 24/05/2002
  Zanthus:
    Correção na função do Status da Redução Z. Quando não era feita a Redução Z, no dia seguinte o FrontLoja não detectava esta situação e não abria um cupom.
    Utilização do arquivo DEFINCHQ.CFG, (Arquivo Padrão da Zanthus) para a definição do lay-out da impressão do cheque na IZ-21. Este arquivo encontra-se no seguinte endereço: ftp://ftp.microsiga.com.br/protheus/Dlls_Fiscais/DEFINCHQ.CFG .

- 23/05/2002
  Corisco:
    A partir desta versão, deve-se atualizar a DLL ECFCOM32.DLL. A mesma encontra-se no seguinte endereço: ftp://ftp.microsiga.com.br/protheus/Dlls_Fiscais/ECFCOM32.DLL .
    Correção para a duplicidade de registro dos items, causando inconsistências entre o ECF e o FrontLoja.
    Correção para a diferença no arredondamento entre o ECF e o Sistema, para items com quantidades fracionadas.
    Aumento de performance.
  Bematech:
    Correção para a diferença no arredondamento entre o ECF e o Sistema, para items com quantidades fracionadas.

- 10/05/2002
  DataRegis:
    Correção para utilizar o parâmetro MV_LJFISMS nas impressoras DataRegis.

- 07/05/2002
  Bematech:
    Incluida validação na impressora de cheque DP10 e DP20.
    Deve-se colocar o BEMADP32.INI no diretório do Windows. Caso não esteja, será exibida uma mensagem e a aplicação será abortada.
  Corisco:
    Aumento de performance.

- 16/04/2002
  Bematech:
    Alterado a DLL de comunicação com a impressora de cheque DP10 e DP20. Para utilizar estas impressoras é necessário que seja baixado do FTP a nova DLL, BEMADP32.DLL e o BEMADP32.INI.


---------------
Desenvolvimento
Automação Comercial
Microsiga Software S/A
