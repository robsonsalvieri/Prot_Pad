?{"Nome do Arquivo INI","MODELO22.INI"}
?{"Descricao Completa do Arquivo Magnetico","DECLARACAO DE RENDIMENTOS MODELO 22"}
?{"A Quem se Destina","A declaração modelo 22 deve ser apresentada pelos seguintes sujeitos passivos: entidades residentes, quer exerçam ou não, a título principal,actividade de natureza comercial, industrial ou agrícola, sem prejuízo do disposto nos n.º 6 e 7 do artigo 117.º do CIRC;entidades não residentes com estabelecimento estável em território português;entidades que não tenham sede nem direcção efectiva em território português e neste obtenham rendimentos não imputáveis a estabelecimento estável aí situado, desde que, relativamente aos mesmos, não haja lugar a retenção na fonte a título definitivo, sem prejuízo do disposto no n.º 8 do artigo 117.º do CIRC."}
?{"Objetivo","A informação sobre a situação tributária dos contribuintes por meio electrónicos, constitui uma forma importante de desburocratização administrativa, facilitando a obtenção dessa informação."}
?{"Prazo de Entrega","Anualmente."}
?{"Aplicativo Disponibilizado pelo DGCI","IRC - Modelo 22 (2012) Versão 1.0.3"}

?{"Legislação", "Portaria n.º 1339/2005, de 30 de Dezembro,"}
?{"Onde encontrar", "http://www.portaldasfinancas.gov.pt/pt/home.action"}
[XXX Inicializacao]
(PRE) _aTotal[001] := {}
(PRE) _aTotal[002] := {}
(PRE) _aTotal[003] := .F.
//parametros wizard 
(PRE) _aTotal[004] := {}
(PRE) _aTotal[005] := ""
//Resultado da Visao
(PRE) _aTotal[006] := {}
//alias Quadro 12
(PRE) _aTotal[007] := "TQ12"
//alias Quadro 09 - Campo 396
(PRE) _aTotal[008] := "T396"
//alias Quadro 09 - Campo 397
(PRE) _aTotal[009] := "T397"
(PRE) _aTotal[010] := 0
(PRE) _aTotal[011] := 0
(PRE) _aTotal[012] := 0
(PRE) _aTotal[013] := 0
(PRE) _aTotal[014] := 0
(PRE) _aTotal[015] := 0
(PRE) _aTotal[016] := 0
(PRE) _aTotal[017] := 0
(PRE) _aTotal[018] := 0
(PRE) _aTotal[019] := 0
(PRE) _aTotal[020] := 0 
(PRE) _aTotal[021] := 0 
(PRE) _aTotal[022] := 0
(PRE) _aTotal[023] := 0
(PRE) _aTotal[024] := 0
(PRE) _aTotal[025] := 0 


[XXX Montagem do CFP Utilizado pela rotina - PRINCIPAL]
(PRE) aAdd (_aTotal[001], "Processamento da Declaracao de Rendimentos Modelo 22")
(PRE) aAdd (_aTotal[001], "")
(PRE) aAdd (_aTotal[001], "Preencha corretamente as informações solicitadas.")
(PRE) aAdd (_aTotal[001], "Informações necessárias para o preenchimento automático da Declaracao de Rendimentos Modelo 22.")

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][1], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][1], "Periodo da Declaração - Quadro 01")
(PRE) aAdd (_aTotal[002][1], {})
(PRE) aAdd (_aTotal[002][1][3], {1, "De :",,,,,,})
(PRE) aAdd (_aTotal[002][1][3], {2,,,3,,,,})
(PRE) aAdd (_aTotal[002][1][3], {1, "Ate :",,,,,,})
(PRE) aAdd (_aTotal[002][1][3], {2,,,3,,,,})
(PRE) aAdd (_aTotal[002][1][3], {1, "Periodo da declaração",,,,,,})
(PRE) aAdd (_aTotal[002][1][3], {3,,,,,{"2011", "2010","2009","2008","2007","2006","2005","2004","2003","2002","2001","2000","1999"},,})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][2], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][2], "Area da Sede - Quadro 02")
(PRE) aAdd (_aTotal[002][2], {})
(PRE) aAdd (_aTotal[002][2][3], {1, "Codigo do Servico de Financas",,,,,,})
(PRE) aAdd (_aTotal[002][2][3], {2,,"9999",1,,,,4})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][3], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][3], "Identificacao e Caracterizacao do Sujeito Passivo - Quadro 03")
(PRE) aAdd (_aTotal[002][3], {})
(PRE) aAdd (_aTotal[002][3][3], {1, "Designacao",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {2,,"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",1,,,,60})
(PRE) aAdd (_aTotal[002][3][3], {1, "Numero de Identificacao Fiscal(NIF)",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {2,,"999999999",1,,,,9})
(PRE) aAdd (_aTotal[002][3][3], {1, "Tipo de Sujeito Passivo",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {3,,,,,{"1-Residente que exerce, a titulo principal, actividade comercial, industrial ou agricola", "2-Residente que nao exerce, a titulo principal, actividade comercial, industrial ou agricola","3-Nao residente com estabelecimento estavel","4-Nao residente sem estabelecimento estavel"},,})
(PRE) aAdd (_aTotal[002][3][3], {1, "Opcoes detalhadas:",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {1, "1-Residente  que  exerce ,  a  titulo  principal,",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {1, "actividade comercial, industrial ou agricola",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {1, "2-Residente que nao exerce,  a  titulo  principal,",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {1, "actividade  comercial,  industrial  ou  agricola",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {1, "3-Nao  residente  com  estabelecimento  estavel",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {1, " ",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {1, "4-Nao  residente  sem  estabelecimento  estavel",,,,,,})
(PRE) aAdd (_aTotal[002][3][3], {1, " ",,,,,,})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][4], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][4], "Identificacao e Caracterizacao do Sujeito Passivo - Cont.Quadro 03")
(PRE) aAdd (_aTotal[002][4], {})
(PRE) aAdd (_aTotal[002][4][3], {1, "Regime de Tributacao dos Rendimentos",,,,,,})
(PRE) aAdd (_aTotal[002][4][3], {4,"1-Geral",,,,,.F.,})
(PRE) aAdd (_aTotal[002][4][3], {1, " ",,,,,,})
(PRE) aAdd (_aTotal[002][4][3], {4,"3-Isencao definitiva",,,,,.F.,})
(PRE) aAdd (_aTotal[002][4][3], {1, " ",,,,,,})
(PRE) aAdd (_aTotal[002][4][3], {4,"4-Isencao temporaria",,,,,.F.,})
(PRE) aAdd (_aTotal[002][4][3], {1, " ",,,,,,})
(PRE) aAdd (_aTotal[002][4][3], {4,"5-Reducao de Taxa",,,,,.F.,})
(PRE) aAdd (_aTotal[002][4][3], {1, " ",,,,,,})
(PRE) aAdd (_aTotal[002][4][3], {4,"6-Simplificado",,,,,.F.,})
(PRE) aAdd (_aTotal[002][4][3], {1, " ",,,,,,})
(PRE) aAdd (_aTotal[002][4][3], {4,"7-Transparencia Fiscal",,,,,.F.,})
(PRE) aAdd (_aTotal[002][4][3], {1, " ",,,,,,})
(PRE) aAdd (_aTotal[002][4][3], {4,"8-Grupos de sociedades",,,,,.F.,})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][5], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][5], "Identificacao e Caracterizacao do Sujeito Passivo - Cont.Quadro 03")
(PRE) aAdd (_aTotal[002][5], {})
(PRE) aAdd (_aTotal[002][5][3], {1, "NIF da Sociedade dominante",,,,,,})
(PRE) aAdd (_aTotal[002][5][3], {2,,"999999999",1,,,,9})
(PRE) aAdd (_aTotal[002][5][3], {1, "10-Pretende exercer a opcao pelas taxas do ",,,,,,})
(PRE) aAdd (_aTotal[002][5][3], {4,"",,,,,.F.,})
(PRE) aAdd (_aTotal[002][5][3], {1, "art.87 no. 1?(art.91, no.2 da Lei no. 3 - B;",,,,,,})
(PRE) aAdd (_aTotal[002][5][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][5][3], {1, "2010, de 28 de Abril",,,,,,})
(PRE) aAdd (_aTotal[002][5][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][5][3], {1, "11-Ocorreu alguma das situacoes referidas",,,,,,})
(PRE) aAdd (_aTotal[002][5][3], {4,"",,,,,.F.,})
(PRE) aAdd (_aTotal[002][5][3], {1, "no art.87, no. 7 ?",,,,,,})
(PRE) aAdd (_aTotal[002][5][3], {0, "",,,,,,})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][6], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][6], "Caracteristicas da Declaração - Quadro 04")
(PRE) aAdd (_aTotal[002][6], {})
(PRE) aAdd (_aTotal[002][6][3], {1, "Tipo de declaracao",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {3,,,,,{"1-1a. declaracao do periodo", "2-Declaracao de substituicao art. 122 ns.1 e 2","3-Declaracao de substituicao art. 64 n.4","4-Declaracao de substituicao art. 120 ns.8 e 9","5-Declaracao de substituicao art. 64 n.4 fora do prazo legal","6-Declaracao de substituicao art. 122 n.3"},,})
(PRE) aAdd (_aTotal[002][6][3], {1, "Data - Declaracao de substituicao art. 122 n. 3 :",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {2,,,3,,,,})
(PRE) aAdd (_aTotal[002][6][3], {1, "Declaracoes especiais",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {4,"Declaracao do grupo",,,,,.F.,})
(PRE) aAdd (_aTotal[002][6][3], {1, "",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {4,"Declaracao do periodo de liquidacao",,,,,.F.,})
(PRE) aAdd (_aTotal[002][6][3], {1, "",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {4,"Declaracao do periodo de cessacao",,,,,.F.,})
(PRE) aAdd (_aTotal[002][6][3], {1, "Data da cessacao",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {2,,,3,,,,})
(PRE) aAdd (_aTotal[002][6][3], {1, "Declaracao com periodo especial de tributacao",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {4,"Antes da alteracao",,,,,.F.,})
(PRE) aAdd (_aTotal[002][6][3], {1, " ",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {4,"Apos a alteracao",,,,,.F.,})
(PRE) aAdd (_aTotal[002][6][3], {1, "Declaracao do periodo do inicio de tributacao",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {4,"",,,,,.F.,})
(PRE) aAdd (_aTotal[002][6][3], {1, "Data da transmissao",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {2,,,3,,,,})
(PRE) aAdd (_aTotal[002][6][3], {1, "(entidades nao residentes sem estabelecimento",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {1, "estavel)",,,,,,})
(PRE) aAdd (_aTotal[002][6][3], {0, "",,,,,,})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][7], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][7], "Identificacao do Representante legal e do T.O.C. - Quadro 05")
(PRE) aAdd (_aTotal[002][7], {})
(PRE) aAdd (_aTotal[002][7][3], {1, "NIF do representante legal",,,,,,})
(PRE) aAdd (_aTotal[002][7][3], {2,,"999999999",1,,,,9})
(PRE) aAdd (_aTotal[002][7][3], {1, "",,,,,,})
(PRE) aAdd (_aTotal[002][7][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][7][3], {1, "NIF do tecnico oficial de contas",,,,,,})
(PRE) aAdd (_aTotal[002][7][3], {2,,"999999999",1,,,,9})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][8], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][8], "Regimes de Taxa - Quadro 08")
(PRE) aAdd (_aTotal[002][8], {})
(PRE) aAdd (_aTotal[002][8][3], {1, "Regimes de Reducao de Taxa",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {1, "Estabelecimentos de ensino particular (art. 56",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {4," 20%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][8][3], {1, "Benefícios relativos à interioridade[art. 43",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {4," 10%/15%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][8][3], {1, "Estatuto Fiscal Cooperativo(art.7.,n.3 ...)",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {4," 20%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][8][3], {1, "Entid.licenc.Zona Franca Madeira(art.35...)",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {4," 3%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][8][3], {1, "Entid.licenc.Zona Franca Madeira(art.36...)",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {4," 4%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][8][3], {1, "___________________________",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {4," ",,,,,.F.,})
(PRE) aAdd (_aTotal[002][8][3], {1, "Entid. licenc. na Zona Franca de Madeira",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {1, "Data do licenciamento",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {2,,,3,,,,})
(PRE) aAdd (_aTotal[002][8][3], {1, "Num.Postos Trabalho criados nos 6 prim. meses...",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {2,,"99999",1,,,,9})
(PRE) aAdd (_aTotal[002][8][3], {1, "Invest.efect.aquis.activos fixos tang.e intang.",,,,,,})
(PRE) aAdd (_aTotal[002][8][3], {2,,"@E 999,999,999,999.99",2,2,,,17})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][9], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][9], "Regime Geral - Continuacao Quadro 08")
(PRE) aAdd (_aTotal[002][9], {})
(PRE) aAdd (_aTotal[002][9][3], {1, "Regime Geral",,,,,,})
(PRE) aAdd (_aTotal[002][9][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][9][3], {1, "Reg.Aut.Açores(Dec.Leg.Regional n.º2/99/A,",,,,,,})
(PRE) aAdd (_aTotal[002][9][3], {4," 8.75%/17.5%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][9][3], {1, "Reg.Aut.Madeira(Dec.Leg.Reg.n.º2/2001/M,",,,,,,})
(PRE) aAdd (_aTotal[002][9][3], {4," 10%/20%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][9][3], {1, "Rendimentos prediais de entid.[art.º87.º,n.º2, al.f) ",,,,,,})
(PRE) aAdd (_aTotal[002][9][3], {4," 15%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][9][3], {1, "Mais-valias/Incrementos patr. obtidos ...",,,,,,})
(PRE) aAdd (_aTotal[002][9][3], {4," 25%",,,,,.F.,})
(PRE) aAdd (_aTotal[002][9][3], {1, "Outros rendimentos obtidos por entid. ...",,,,,,})
(PRE) aAdd (_aTotal[002][9][3], {4,"",,,,,.F.,})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][10], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][10], "Diversos")
(PRE) aAdd (_aTotal[002][10], {})
//(PRE) aAdd (_aTotal[002][10][3], {1, "Anexo A - Derrama",,,,,,})
//(PRE) aAdd (_aTotal[002][10][3], {4,"",.F.,,,,.F.,})
//(PRE) aAdd (_aTotal[002][10][3], {1, "Anexo B - Regime Simplificado",,,,,,})
//(PRE) aAdd (_aTotal[002][10][3], {4,"",,,,,.F.,})
//(PRE) aAdd (_aTotal[002][10][3], {1, "Anexo C - Regioes Autonomas",,,,,,})
//(PRE) aAdd (_aTotal[002][10][3], {4,"",,,,,.F.,})
(PRE) aAdd (_aTotal[002][10][3], {1, "Codigo do livro ref.visao gerencial",,,,,,})
(PRE) aAdd (_aTotal[002][10][3], {2,,"@!",1,,,,9})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][11], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][11], "Quadro 10")
(PRE) aAdd (_aTotal[002][11], {})
(PRE) aAdd (_aTotal[002][11][3], {1, "Imposto a outras taxas - taxa %",,,,,,})
(PRE) aAdd (_aTotal[002][11][3], {2,,"99.9",1,,,,9})
(PRE) aAdd (_aTotal[002][11][3], {1, "Quadro 11",,,,,,})
(PRE) aAdd (_aTotal[002][11][3], {0, "",,,,,,})
(PRE) aAdd (_aTotal[002][11][3], {1, "Data Transmissao Partes Sociais",,,,,,})
(PRE) aAdd (_aTotal[002][11][3], {2,,,3,,,,})
(PRE) aAdd (_aTotal[002][11][3], {1, "Tratando-se de microentidade, indique",,,,,,})
(PRE) aAdd (_aTotal[002][11][3], {4,"",,,,,.F.,})
(PRE) aAdd (_aTotal[002][11][3], {1, " se opta pela apl. normas contab.",,,,,,})
(PRE) aAdd (_aTotal[002][11][3], {0, "Sim",,,,,,})

[XXX Montagem do CFP Utilizado pela rotina - COMPLEMENTAR]
(PRE) aAdd (_aTotal[002], {})
(PRE) aAdd (_aTotal[002][12], "Processamento da Declaracao-Modelo 22")
(PRE) aAdd (_aTotal[002][12], "Quadro 12")
(PRE) aAdd (_aTotal[002][12], {})
(PRE) aAdd (_aTotal[002][12][3], {1, "Digitar Quadro 12",,,,,,})
(PRE) aAdd (_aTotal[002][12][3], {4,"",,,,,.F.,})
(PRE) aAdd (_aTotal[002][12][3], {1, "Digitar Quadro 09 - Campo 396",,,,,,})
(PRE) aAdd (_aTotal[002][12][3], {4,"",,,,,.F.,})
(PRE) aAdd (_aTotal[002][12][3], {1, "Digitar Quadro 09 - Campo 397",,,,,,})
(PRE) aAdd (_aTotal[002][12][3], {4,"",,,,,.F.,})

[XXX Chamada do Wizard]
(PRE) _atotal[003] := xMagWizard( _aTotal[001] , _aTotal[002] , "MODELO22" )
(PRE) Iif (_atotal[003], xMagLeWiz ("MODELO22", @_aTotal[004], .T.), Nil)
(PRE) lAbtMT950	:= !_atotal[003]
                                           
[XXX Registro - Reg 01 Header de ficheiro]
(PRE) CtbMod22Pt(_aTotal[004],_aTotal[006],_aTotal[007],_aTotal[008],_aTotal[009])
TPOREG     C 002 0 "01"
TPOFIC     C 005 0 "ASCII"
VERFIC     C 002 0 "14"
DTFIC      C 008 0 DTOS(dDataBase)
ESP        C 154 0 " "                

[XXX Registro - Reg 02 Header de declaracao]
TPOREG     C 002 0 "02"
TPODEC     C 006 0 "Mod.22"
NUMNIF     C 009 0 _aTotal[004][3][2]
PERINI     C 008 0 If(Empty(_aTotal[004][1][1]),"00000000",_aTotal[004][1][1])
PERFIM     C 008 0 If(Empty(_aTotal[004][1][2]),"00000000",_aTotal[004][1][2])
EXERCI     C 004 0 _aTotal[004][1][3]
INDMOE     C 003 0 "EUR"
ESP        C 131 0 " "                

[XXX Registro - Reg 03 Header de Mod.22]
//(PREREG) _aTotal[025]++
TPOREG     C 002 0 "03"
CODSER     C 004 0 _aTotal[004][2][1]
TIPSUJ     C 001 0 Substring(_aTotal[004][3][3],1,1)
REGTRI     C 007 0 If(_aTotal[004][4][1]=="T","1","0")+If(_aTotal[004][4][2]=="T","3","0")+If(_aTotal[004][4][3]=="T","4","0")+If(_aTotal[004][4][4]=="T","5","0")+If(_aTotal[004][4][5]=="T","6","0")+If(_aTotal[004][4][6]=="T","7","0")+If(_aTotal[004][4][7]=="T","8","0")
NIFDOM     C 009 0 _aTotal[004][5][1]
TAX087     C 001 0 If(_aTotal[004][5][2]=="T","1","0")
OCOSIT     C 001 0 If(_aTotal[004][5][3]=="T","1","0")
TPDECL     C 001 0 Substring(_aTotal[004][6][1],1,1)
DATSUB     C 008 0 If(Empty(_aTotal[004][6][2]),"00000000",_aTotal[004][6][2])
DECESP     C 006 0 If(_aTotal[004][6][3]=="T","1","0")+If(_aTotal[004][6][4]=="T","2","0")+If(_aTotal[004][6][5]=="T","3","0")+If(_aTotal[004][6][7]=="T","4","0")+If(_aTotal[004][6][8]=="T","5","0")+If(_aTotal[004][6][9]=="T","7","0")
DATCES     C 008 0 If(Empty(_aTotal[004][6][6]),"00000000",_aTotal[004][6][6])
DATRAN     C 008 0 If(Empty(_aTotal[004][6][10]),"00000000",_aTotal[004][6][10])
//If(_aTotal[004][10][1]=="T","1","0") FOI RETIRADO
ANEXOA     C 001 0 "0" 
//If(_aTotal[004][10][2]=="T","2","0") FOI RETIRADO
ANEXOB     C 001 0 "0" 
//If(_aTotal[004][10][3]=="T","3","0") FOI RETIRADO
ANEXOC     C 001 0 "0" 
//If(_aTotal[004][10][4]=="T","4","0") FOI RETIRADO
ANEXOD     C 001 0 "0" 
NIFREC     C 009 0 _aTotal[004][7][1]
NIFTOC     C 009 0 _aTotal[004][7][2]
ESP        C 094 0 " "                

[XXX Registro - Reg 04 Quadro 07 - 2009 e anos inferiores]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[024] +=(_aTotal[006][ 201][4]+_aTotal[006][ 202][4]-_aTotal[006][ 203][4])+_aTotal[006][ 205][4]+_aTotal[006][ 206][4]+_aTotal[006][ 207][4]+_aTotal[006][ 208][4]+_aTotal[006][ 209][4]+_aTotal[006][ 210][4]+_aTotal[006][ 211][4]+_aTotal[006][ 212][4]
TPOREG     C 002 0 "04"
SIN201     C 001 0 If(_aTotal[006][ 201][4]>=0,"+","-")
CTA201     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 201][4]*100,12)) 
CTA202     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 202][4]*100,12)) 
CTA203     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 203][4]*100,12)) 
SIN204     C 001 0 If((_aTotal[006][ 201][4]+_aTotal[006][ 202][4]-_aTotal[006][ 203][4])>=0,"+","-")
SOM204     C 014 0 If(_aTotal[004][1][3]>"2009", Repl("0", 14),StrZero((_aTotal[006][ 201][4]+_aTotal[006][ 202][4]-_aTotal[006][ 203][4])*100,14)) 
CTA205     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 205][4]*100,12)) 
CTA206     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 206][4]*100,12)) 
CTA207     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 207][4]*100,12)) 
CTA208     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 208][4]*100,12)) 
CTA209     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 209][4]*100,12)) 
CTA210     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 210][4]*100,12)) 
CTA211     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 211][4]*100,12)) 
CTA212     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 212][4]*100,12)) 
ESP        C 021 0 " "                


[XXX Registro - Reg 05 Quadro 07 - 2009 e anos inferiores]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[024] += _aTotal[006][ 213][4]+_aTotal[006][ 277][4]+_aTotal[006][ 214][4]+_aTotal[006][ 215][4]+_aTotal[006][ 216][4]+_aTotal[006][ 217][4]+_aTotal[006][ 218][4]+_aTotal[006][ 220][4]+_aTotal[006][ 222][4]+_aTotal[006][ 223][4]+_aTotal[006][ 224][4]+_aTotal[006][ 251][4]+_aTotal[006][ 252][4]+_aTotal[006][ 253][4]+_aTotal[006][ 254][4]
TPOREG     C 002 0 "05"
CTA213     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 213][4]*100,12)) 
CTA214     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 214][4]*100,12)) 
CTA215     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 215][4]*100,12)) 
CTA216     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 216][4]*100,12)) 
CTA217     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 217][4]*100,12)) 
CTA218     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 218][4]*100,12)) 
CTA220     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 220][4]*100,12)) 
CTA222     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 222][4]*100,12)) 
CTA223     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 223][4]*100,12)) 
CTA224     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 224][4]*100,12)) 
CTA251     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 251][4]*100,12)) 
CTA252     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 252][4]*100,12)) 
CTA253     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 253][4]*100,12)) 
CTA254     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 254][4]*100,12)) 
ESP        C 001 0 " "                


[XXX Registro - Reg 06 Quadro 07 - 2009 e anos inferiores]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[024] += _aTotal[006][ 255][4]+_aTotal[006][ 256][4]+_aTotal[006][ 257][4]+_aTotal[006][ 258][4]+_aTotal[006][ 259][4]+_aTotal[006][ 270][4]+_aTotal[006][ 271][4]+_aTotal[006][ 225][4]+_aTotal[006][ 274][4]+_aTotal[006][ 275][4]+_aTotal[006][ 276][4]
TPOREG     C 002 0 "06"
CTA255     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 255][4]*100,12)) 
CTA256     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 256][4]*100,12)) 
CTA257     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 257][4]*100,12)) 
CTA258     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 258][4]*100,12)) 
CTA259     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 259][4]*100,12)) 
CTA270     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 270][4]*100,12)) 
CTA271     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 271][4]*100,12)) 
CTA225     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 225][4]*100,12))
SIN226     C 001 0 If(_aTotal[024]>=0,"+","-") 
SOM226     C 014 0 If(_aTotal[004][1][3]>"2009", Repl("0", 14),StrZero(_aTotal[024]*100,14))
CTA227     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 227][4]*100,12)) 
CTA228     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 228][4]*100,12)) 
CTA229     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 229][4]*100,12)) 
CTA230     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 230][4]*100,12)) 
ESP        C 010 0 " "                

[XXX Registro - Reg 07 Quadro 07 - 2009 e anos inferiores]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[023] := _aTotal[006][ 227][4]+_aTotal[006][ 228][4]+_aTotal[006][ 229][4]+_aTotal[006][ 230][4]+_aTotal[006][ 231][4]+_aTotal[006][ 232][4]+_aTotal[006][ 233][4]+_aTotal[006][ 234][4]+_aTotal[006][ 235][4]+_aTotal[006][ 236][4]+_aTotal[006][ 272][4]+_aTotal[006][ 273][4]+_aTotal[006][ 237][4]
TPOREG     C 002 0 "07"
CTA231     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 231][4]*100,12)) 
CTA232     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 232][4]*100,12)) 
CTA233     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 233][4]*100,12)) 
CTA234     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 234][4]*100,12)) 
CTA235     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 235][4]*100,12)) 
CTA236     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 236][4]*100,12)) 
CTA272     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 272][4]*100,12)) 
CTA273     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 273][4]*100,12)) 
CTA237     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 237][4]*100,12)) 
CTA277     C 012 0 If(_aTotal[004][1][3]>"2009", Repl("0", 12),StrZero(_aTotal[006][ 277][4]*100,12)) 
SOM238     C 014 0 If(_aTotal[004][1][3]>"2009", Repl("0", 14),StrZero(_aTotal[023]*100,14)) 
SOM239     C 014 0 If(_aTotal[004][1][3]>"2009" , Repl("0", 14),If(_aTotal[023]>_aTotal[024], StrZero((_aTotal[023]-_aTotal[024])*100,14), Repl("0",14))) 
SOM240     C 014 0 If(_aTotal[004][1][3]>"2009" , Repl("0", 14),If(_aTotal[024]>=_aTotal[023], StrZero((_aTotal[024]-_aTotal[023])*100,14), Repl("0",14))) 
ESP        C 007 0 " "                

[XXX Registro - Reg 08 Quadro 08 / Quadro 09]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "08"
CTA242     C 001 0 If(_aTotal[004][8][1]="T", "1", "0")
CTA245     C 001 0 If(_aTotal[004][8][2]="T", "1", "0")
CTA248     C 001 0 If(_aTotal[004][8][3]="T", "1", "0")
CTA260     C 001 0 If(_aTotal[004][8][4]="T", "1", "0")
CTA247     C 001 0 If(_aTotal[004][8][5]="T", "1", "0")
CTA247     C 001 0 If(_aTotal[004][9][1]="T", "1", "0")
CTA249     C 001 0 If(_aTotal[004][9][2]="T", "1", "0")
CTA262     C 001 0 If(_aTotal[004][9][3]="T", "1", "0")
CTA263     C 001 0 If(_aTotal[004][9][4]="T", "1", "0")
CTA264     C 001 0 If(_aTotal[004][9][5]="T", "1", "0")
CTA265     C 001 0 If(_aTotal[004][8][6]="T", "1", "0")
//quadro 09
CTA301     C 012 0 StrZero(_aTotal[006][ 301][4]*100,12) 
CTA302     C 012 0 StrZero(_aTotal[006][ 302][4]*100,12) 
CTA303     C 012 0 StrZero(_aTotal[006][ 303][4]*100,12) 
CTA309     C 012 0 StrZero(_aTotal[006][ 309][4]*100,12) 
CTA310     C 012 0 StrZero(_aTotal[006][ 310][4]*100,12) 
CTA311     C 012 0 If(Empty(_aTotal[006][ 311][4]),Space(12),StrZero(_aTotal[006][ 311][4]*100,12))
CTA312     C 012 0 StrZero(_aTotal[006][ 312][4]*100,12) 
CTA313     C 012 0 If(Empty(_aTotal[006][ 313][4]),Space(12),StrZero(_aTotal[006][ 313][4]*100,12))
ESP        C 062 0 " " 

[XXX Registro - Reg 09 Continuacao Quadro 09]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "09"
CTA314     C 012 0 StrZero(_aTotal[006][ 314][4]*100,12) 
CTA320     C 012 0 StrZero(_aTotal[006][ 320][4]*100,12) 
CTA321     C 012 0 StrZero(_aTotal[006][ 321][4]*100,12) 
CTA322     C 012 0 If(Empty(_aTotal[006][ 322][4]),Space(12),StrZero(_aTotal[006][ 322][4]*100,12))
CTA323     C 012 0 StrZero(_aTotal[006][ 323][4]*100,12) 
CTA324     C 012 0 StrZero(_aTotal[006][ 324][4]*100,12) 
CTA325     C 012 0 StrZero(_aTotal[006][ 325][4]*100,12) 
ESP        C 085 0 " " 

[XXX Registro - Reg 10 Continuacao Quadro 09/Quadro 11]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "10"
CTA331     C 012 0 StrZero(_aTotal[006][ 331][4]*100,12) 
CTA332     C 012 0 StrZero(_aTotal[006][ 332][4]*100,12) 
CTA333     C 012 0 If(Empty(_aTotal[006][ 333][4]),Space(12),StrZero(_aTotal[006][ 333][4]*100,12))
CTA346     C 014 0 StrZero(_aTotal[006][ 346][4]*100,14) 
SIN380     C 001 0 If(_aTotal[006][ 380][4]>=0,"+","-") 
CTA380     C 012 0 StrZero(_aTotal[006][ 380][4]*100,12) 
CTA381     C 012 0 StrZero(_aTotal[006][ 381][4]*100,12)
SIN382     C 001 0 If(_aTotal[006][ 382][4]>=0,"+","-") 
CTA382     C 012 0 StrZero(_aTotal[006][ 382][4]*100,12) 
//Quadro 11
CTA410     C 014 0 If(Empty(_aTotal[006][ 410][4]),Space(14),StrZero(_aTotal[006][ 410][4]*100,14))
CTA411     C 012 0 StrZero(_aTotal[006][ 411][4]*100,12) 
CTA422     C 012 0 StrZero(_aTotal[006][ 422][4]*100,12) 
CTA424     C 012 0 StrZero(_aTotal[006][ 424][4]*100,12) 
ESP        C 031 0 " " 

[XXX Registro - Reg 11 Continuacao Quadro 11/Quadro 10]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[022] := (_aTotal[006][ 3471][4]+_aTotal[006][ 3472][4]+_aTotal[006][ 349][4]+_aTotal[006][ 350][4]+_aTotal[006][ 370][4])
TPOREG     C 002 0 "11"
CTA414     C 012 0 StrZero(_aTotal[006][ 414][4]*100,12) 
CTA415     C 012 0 StrZero(_aTotal[006][ 415][4]*100,12) 
CTA416     C 012 0 StrZero(_aTotal[006][ 416][4]*100,12)
//Quadro 10 
//347-B
CTA3472    C 012 0 StrZero(_aTotal[006][ 3472][4]*100,12)
CTA348     C 003 0 StrZero(Int(Val(_aTotal[004][11][1])*10),3)
CTA349     C 012 0 StrZero(_aTotal[006][ 349][4]*100,12) 
CTA350     C 012 0 StrZero(_aTotal[006][ 350][4]*100,12) 
CTA370     C 012 0 StrZero(_aTotal[006][ 370][4]*100,12) 
CTA351     C 014 0 StrZero(_aTotal[022]*100,14)
CTA353     C 012 0 StrZero(_aTotal[006][ 353][4]*100,12) 
CTA355     C 012 0 StrZero(_aTotal[006][ 355][4]*100,12)
 //366-A
CTA3661    C 012 0 StrZero(_aTotal[006][ 3661][4]*100,12)
 //366-B
CTA3662    C 012 0 StrZero(_aTotal[006][ 3662][4]*100,12)
ESP        C 020 0 " " 

[XXX Registro - Reg 12 Continuacao Quadro 10]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[021] := (_aTotal[006][ 353][4]+_aTotal[006][ 355][4]+_aTotal[006][ 356][4])
(PREREG) _aTotal[020] := (_aTotal[022]-_aTotal[021])+_aTotal[006][ 371][4]-_aTotal[006][ 359][4]-_aTotal[006][ 360][4]
TPOREG     C 002 0 "12"
CTA356     C 012 0 StrZero(_aTotal[006][ 356][4]*100,12)
CTA357     C 014 0 StrZero(_aTotal[021]*100,14) 
CTA358     C 014 0 If(_aTotal[022]-_aTotal[021]>=0,StrZero((_aTotal[022]-_aTotal[021])*100,14),Repl("0",14))
CTA371     C 014 0 StrZero(_aTotal[006][ 371][4]*100,14)
CTA359     C 012 0 StrZero(_aTotal[006][ 359][4]*100,12)
CTA360     C 012 0 StrZero(_aTotal[006][ 360][4]*100,12)
CTA361     C 014 0 If(_aTotal[020]>=0, StrZero(_aTotal[020]*100,14), Repl("0",14))
CTA362     C 014 0 If(_aTotal[020]< 0, StrZero(_aTotal[020]*100,14), Repl("0",14))
CTA363     C 012 0 StrZero(_aTotal[006][ 363][4]*100,12) 
CTA364     C 012 0 StrZero(_aTotal[006][ 364][4]*100,12)
CTA365     C 012 0 StrZero(_aTotal[006][ 365][4]*100,12) 
CTA366     C 012 0 StrZero(_aTotal[006][ 366][4]*100,12)
CTA369     C 012 0 StrZero(_aTotal[006][ 369][4]*100,12)
ESP        C 003 0 " " 

[XXX Registro - Reg 13 Continuacao Quadro 10/Quadro 09]
(PREREG) _aTotal[025]++
//TOTAL A PAGAR [361 ou (-362)+ 363+...+366+369+372+373-374]
(PREREG) _aTotal[019] := If(_aTotal[020]>=0, _aTotal[020], -1*_aTotal[020])+_aTotal[006][ 363][4]+_aTotal[006][ 364][4]+_aTotal[006][ 365][4]+_aTotal[006][ 366][4]+_aTotal[006][ 369][4]+_aTotal[006][ 372][4]+_aTotal[006][ 373][4]-_aTotal[006][ 374][4]
TPOREG     C 002 0 "13"
CTA367     C 014 0 If(_aTotal[019]>=0,StrZero(_aTotal[019]*100,14),Repl("0",14))
CTA368     C 014 0 If(_aTotal[019]< 0,StrZero(_aTotal[019]*100,14),Repl("0",14))
//quadro 09
CTA400     C 012 0 If(Empty(_aTotal[006][ 400][4]),Space(12),StrZero(_aTotal[006][ 400][4]*100,12))
CTA401     C 012 0 StrZero(_aTotal[006][ 401][4]*100,12)
CTA407     C 012 0 StrZero(_aTotal[006][ 407][4]*100,12)
CTA408     C 012 0 StrZero(_aTotal[006][ 408][4]*100,12) 
CTA409     C 012 0 StrZero(_aTotal[006][ 409][4]*100,12)
ESP        C 081 0 " " 

[XXX Registro - Reg 14 Continuacao Quadro 07/10/11]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "14"
//Quadro 07
CTA274     C 012 0 StrZero(_aTotal[006][ 274][4]*100,12)
CTA275     C 012 0 StrZero(_aTotal[006][ 275][4]*100,12)
CTA276     C 012 0 StrZero(_aTotal[006][ 276][4]*100,12)
//quadro 10
CTA372     C 012 0 StrZero(_aTotal[006][ 372][4]*100,12)
//Quadro 11
CTA420     C 012 0 StrZero(_aTotal[006][ 420][4]*100,12)
CTA421     C 012 0 StrZero(_aTotal[006][ 421][4]*100,12)
//Quadro 10
CTA3471    C 012 0 StrZero(_aTotal[006][ 3471][4]*100,12)
ESP        C 085 0 " " 

[XXX Registro - Reg 15 Continuacao Quadro 10/Quadro 09]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "15"
CTA383     C 012 0 StrZero(_aTotal[006][ 383][4]*100,12)
CTA384     C 012 0 StrZero(_aTotal[006][ 384][4]*100,12)
CTA385     C 012 0 StrZero(_aTotal[006][ 385][4]*100,12)
CTA386     C 012 0 StrZero(_aTotal[006][ 386][4]*100,12)
CTA387     C 012 0 StrZero(_aTotal[006][ 387][4]*100,12)
CTA388     C 012 0 StrZero(_aTotal[006][ 388][4]*100,12)
CTA389     C 012 0 StrZero(_aTotal[006][ 389][4]*100,12)
CTA390     C 012 0 StrZero(_aTotal[006][ 390][4]*100,12)
CTA391     C 012 0 StrZero(_aTotal[006][ 391][4]*100,12)
CTA392     C 012 0 StrZero(_aTotal[006][ 392][4]*100,12)
CTA393     C 012 0 StrZero(_aTotal[006][ 393][4]*100,12)
CTA394     C 012 0 StrZero(_aTotal[006][ 394][4]*100,12)
CTA417     C 012 0 StrZero(_aTotal[006][ 417][4]*100,12)
CTA418     C 008 0 _aTotal[004][ 11][2]
ESP        C 005 0 " " 

[XXX Registro - Reg 16 Quadro 07 - Periodo 2010 e posteriores ]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[018] := _aTotal[006][ 701][4]+_aTotal[006][ 702][4]+_aTotal[006][ 703][4]-_aTotal[006][ 704][4]-_aTotal[006][ 705][4]+_aTotal[006][ 706][4]-_aTotal[006][ 707][4]
TPOREG     C 002 0 "16"
SIN701     C 001 0 If(_aTotal[006][ 701][4]>=0,"+","-")
CTA701     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 701][4]*100,12)) 
CTA702     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 702][4]*100,12)) 
CTA703     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 703][4]*100,12)) 
CTA704     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 704][4]*100,12)) 
CTA705     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 705][4]*100,12)) 
CTA706     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 706][4]*100,12)) 
CTA707     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 707][4]*100,12)) 
SIN708     C 001 0 If(_aTotal[018]>=0,"+","-")
CTA708     C 014 0 If(_aTotal[004][1][3]<="2009", Repl("0", 14),StrZero(_aTotal[018]*100,14)) 
CTA709     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 709][4]*100,12)) 
CTA710     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 710][4]*100,12)) 
CTA711     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 711][4]*100,12)) 
CTA712     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 712][4]*100,12)) 
CTA713     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 713][4]*100,12)) 
ESP        C 009 0 " " 

[XXX Registro - Reg 17 Quadro 07 - Periodo 2010 e posteriores ]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "17"
CTA714     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 714][4]*100,12)) 
CTA715     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 715][4]*100,12)) 
CTA716     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 716][4]*100,12)) 
CTA717     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 717][4]*100,12)) 
CTA718     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 718][4]*100,12)) 
CTA719     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 719][4]*100,12)) 
CTA720     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 720][4]*100,12)) 
CTA721     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 721][4]*100,12)) 
CTA722     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 722][4]*100,12)) 
CTA723     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 723][4]*100,12)) 
CTA724     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 724][4]*100,12)) 
CTA725     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 725][4]*100,12)) 
CTA726     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 726][4]*100,12)) 
CTA727     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 727][4]*100,12)) 
ESP        C 001 0 " " 

[XXX Registro - Reg 18 Quadro 07 - Periodo 2010 e posteriores ]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "18"
CTA728     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 728][4]*100,12)) 
CTA729     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 729][4]*100,12)) 
CTA730     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 730][4]*100,12)) 
CTA731     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 731][4]*100,12)) 
CTA732     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 732][4]*100,12)) 
CTA733     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 733][4]*100,12)) 
CTA734     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 734][4]*100,12)) 
CTA735     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 735][4]*100,12)) 
CTA736     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 736][4]*100,12)) 
CTA737     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 737][4]*100,12)) 
CTA738     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 738][4]*100,12)) 
CTA739     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 739][4]*100,12)) 
CTA740     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 740][4]*100,12)) 
CTA741     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 741][4]*100,12)) 
ESP        C 001 0 " " 

[XXX Registro - Reg 19 Quadro 07 - Periodo 2010 e posteriores ]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[017] := _aTotal[018]
(PREREG) _aTotal[017] += _aTotal[006][ 708][4]+_aTotal[006][ 715][4]+_aTotal[006][ 722][4]+_aTotal[006][ 729][4]+_aTotal[006][ 736][4]+_aTotal[006][ 743][4]
(PREREG) _aTotal[017] += _aTotal[006][ 709][4]+_aTotal[006][ 716][4]+_aTotal[006][ 723][4]+_aTotal[006][ 730][4]+_aTotal[006][ 737][4]+_aTotal[006][ 744][4]
(PREREG) _aTotal[017] += _aTotal[006][ 710][4]+_aTotal[006][ 717][4]+_aTotal[006][ 724][4]+_aTotal[006][ 731][4]+_aTotal[006][ 738][4]+_aTotal[006][ 745][4]
(PREREG) _aTotal[017] += _aTotal[006][ 711][4]+_aTotal[006][ 718][4]+_aTotal[006][ 725][4]+_aTotal[006][ 732][4]+_aTotal[006][ 739][4]+_aTotal[006][ 746][4]
(PREREG) _aTotal[017] += _aTotal[006][ 712][4]+_aTotal[006][ 719][4]+_aTotal[006][ 726][4]+_aTotal[006][ 733][4]+_aTotal[006][ 740][4]+_aTotal[006][ 747][4]
(PREREG) _aTotal[017] += _aTotal[006][ 713][4]+_aTotal[006][ 720][4]+_aTotal[006][ 727][4]+_aTotal[006][ 734][4]+_aTotal[006][ 741][4]+_aTotal[006][ 748][4]
(PREREG) _aTotal[017] += _aTotal[006][ 714][4]+_aTotal[006][ 721][4]+_aTotal[006][ 728][4]+_aTotal[006][ 735][4]+_aTotal[006][ 742][4]+_aTotal[006][ 749][4]
(PREREG) _aTotal[017] += _aTotal[006][ 750][4]+_aTotal[006][ 751][4]+_aTotal[006][ 752][4]
TPOREG     C 002 0 "19"
CTA742     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 742][4]*100,12)) 
CTA743     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 743][4]*100,12)) 
CTA744     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 744][4]*100,12)) 
CTA745     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 745][4]*100,12)) 
CTA746     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 746][4]*100,12)) 
CTA747     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 747][4]*100,12)) 
CTA748     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 748][4]*100,12)) 
CTA749     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 749][4]*100,12)) 
CTA750     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 750][4]*100,12)) 
CTA751     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 751][4]*100,12)) 
CTA752     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 752][4]*100,12)) 
SIN753     C 001 0 If(_aTotal[017]>=0,"+","-")
CTA753     C 014 0 If(_aTotal[004][1][3]<="2009", Repl("0", 14),StrZero(_aTotal[017]*100,14)) 
SIN779     C 001 0 If(_aTotal[006][ 779][4] >=0,"+","-")
CTA779     C 011 0 StrZero(_aTotal[006][ 779][4]*100,11)
ESP        C 010 0 " " 

[XXX Registro - Reg 20 Quadro 07 - Periodo 2010 e posteriores ]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "20"
CTA754     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 754][4]*100,12)) 
CTA755     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 755][4]*100,12)) 
CTA756     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 756][4]*100,12)) 
CTA757     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 757][4]*100,12)) 
CTA758     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 758][4]*100,12)) 
CTA759     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 759][4]*100,12)) 
CTA760     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 760][4]*100,12)) 
CTA761     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 761][4]*100,12)) 
CTA762     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 762][4]*100,12)) 
CTA763     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 763][4]*100,12)) 
CTA764     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 764][4]*100,12)) 
CTA765     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 765][4]*100,12)) 
CTA766     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 766][4]*100,12)) 
CTA767     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 767][4]*100,12)) 
ESP        C 022 0 " " 

[XXX Registro - Reg 21 Quadro 07 - Periodo 2010 e posteriores ]
(PREREG) _aTotal[025]++
(PREREG) _aTotal[016] := _aTotal[006][ 754][4]+_aTotal[006][ 755][4]+_aTotal[006][ 756][4]+_aTotal[006][ 757][4]+_aTotal[006][ 758][4]+_aTotal[006][ 759][4]
(PREREG) _aTotal[016] += _aTotal[006][ 760][4]+_aTotal[006][ 761][4]+_aTotal[006][ 762][4]+_aTotal[006][ 763][4]+_aTotal[006][ 764][4]+_aTotal[006][ 765][4]
(PREREG) _aTotal[016] += _aTotal[006][ 766][4]+_aTotal[006][ 767][4]+_aTotal[006][ 768][4]+_aTotal[006][ 769][4]+_aTotal[006][ 770][4]+_aTotal[006][ 771][4]
(PREREG) _aTotal[016] += _aTotal[006][ 772][4]+_aTotal[006][ 773][4]+_aTotal[006][ 774][4]+_aTotal[006][ 775][4]
TPOREG     C 002 0 "21"
CTA768     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 768][4]*100,12)) 
CTA769     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 769][4]*100,12)) 
CTA770     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 770][4]*100,12)) 
CTA771     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 771][4]*100,12)) 
CTA772     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 772][4]*100,12)) 
CTA773     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 773][4]*100,12)) 
CTA774     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 774][4]*100,12)) 
CTA775     C 012 0 If(_aTotal[004][1][3]<="2009", Repl("0", 12),StrZero(_aTotal[006][ 775][4]*100,12)) 
//SOMATORIA
CTA776     C 014 0 If(_aTotal[004][1][3]<="2009", Repl("0", 14),StrZero(_aTotal[016]*100,14)) 
CTA777     C 014 0 If(_aTotal[004][1][3]<="2009", Repl("0", 14),If(_aTotal[016]>_aTotal[017],StrZero((_aTotal[016]-_aTotal[017])*100,14), Repl("0", 14)))
CTA778     C 014 0 If(_aTotal[004][1][3]<="2009", Repl("0", 14),If(_aTotal[017]>=_aTotal[016],StrZero((_aTotal[017]-_aTotal[016])*100,14), Repl("0", 14))) 
ESP        C 031 0 " " 

[XXX Registro - Reg 22 Quadro 10 / 11 ]
(PREREG) _aTotal[025]++
TPOREG     C 002 0 "22"
CTA373     C 012 0 StrZero(_aTotal[006][ 373][4]*100,12)
CTA374     C 012 0 StrZero(_aTotal[006][ 374][4]*100,12)
//Quadro 11
CTA423     C 001 0 If(_aTotal[004][11][3]=="T","1","0")
ESP        C 144 0 " " 

[TQ12 Registro 23 - Detalhe N.Identif - Valor da Retencao]
(PRE) TQ12->(dbGoTop()) 
(PREREG) _aTotal[025]++
(PREREG) _aTotal[012]++
TPOREG     C 002 0 "23"
NUMLIN     C 005 0 StrZero(TQ12->LINHA,5)
NIPC__     C 009 0 StrZero(TQ12->NIPC,9)
RETFTE__   C 012 0 StrZero(TQ12->RETFTE*100,12)
ESP        C 143 0 " " 

[T396 Registro 24 - Detalhe Prejuizos Individuais deduzidos]
(PRE) T396->(dbGoTop()) 
(PREREG) _aTotal[025]++
(PREREG) _aTotal[013]++
TPOREG     C 002 0 "24"
NUMLIN     C 005 0 StrZero(T396->LINHA,5)
PREJUIZ    C 012 0 StrZero(T396->PREJUIZOS*100,12)
NIF__      C 009 0 StrZero(T396->NIF,9)
ESP        C 144 0 " " 

[T397 Registro 25 - Detalhe Prejuizos Fiscais com Transmissao Autorizada]
(PRE) T397->(dbGoTop()) 
(PREREG) _aTotal[025]++
(PREREG) _aTotal[014]++
TPOREG     C 002 0 "25"
NUMLIN     C 005 0 StrZero(T397->LINHA,5)
PREJUIZ    C 012 0 StrZero(T397->VLRUTILIZ*100,12)
NIF__      C 009 0 StrZero(T397->NIF,9)
ESP        C 144 0 " " 

[XXX Registro 39 - Trailer Modelo 22]
(PREREG) _aTotal[015] := _aTotal[006][ 346][4]
(PREREG) _aTotal[015] += If(_aTotal[004][1][3]>"2009" , 0,If(_aTotal[023]>_aTotal[024], (_aTotal[023]-_aTotal[024]), 0)) 
(PREREG) _aTotal[015] += If(_aTotal[004][1][3]>"2009" , 0,If(_aTotal[024]>=_aTotal[023], (_aTotal[024]-_aTotal[023]), 0)) 
(PREREG) _aTotal[015] += If(_aTotal[019]>=0,_aTotal[019],0)
(PREREG) _aTotal[015] += If(_aTotal[019]< 0,_aTotal[019],0)
TPOREG     C 002 0 "39"
NUMREG     C 003 0 StrZero(_aTotal[025],3)
NL2220     C 005 0 StrZero(_aTotal[012],5)
NL2221     C 005 0 StrZero(_aTotal[013],5)
NL2222     C 005 0 StrZero(_aTotal[014],5)
SINAL_     C 001 0 If(_aTotal[015] >= 0, "+", "-")
SOMINT     C 014 0 StrZero(_aTotal[015]*100, 14)
ESP        C 136 0 " " 

[XXX Registro 88 - Trailer de Declaracao]
//SOMA + 2 REFERENTE REGISTRO 01 E 02
TPOREG     C 002 0 "88"
NUMREG     C 003 0 StrZero(_aTotal[025]+2,3)
ESP        C 166 0 " " 

[XXX Registro 99 - Trailer de Ficheiro]
//SOMA + 4 REFERENTE REGISTRO 01, 02, 88 E 99
TPOREG     C 002 0 "99"
NUMREG     C 003 0 StrZero(_aTotal[025]+4,3)
ESP        C 166 0 " " 
