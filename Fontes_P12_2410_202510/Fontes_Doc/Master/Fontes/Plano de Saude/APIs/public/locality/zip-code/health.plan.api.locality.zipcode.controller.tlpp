#include "tlpp-core.th"
#include "tlpp-rest.th"

namespace totvs.protheus.health.plan.api.locality

/*/{Protheus.doc} ZipCodeController
API para consultar informações relacionadas a códigos postais (CEP) dentro do contexto do PLS.
@type class
@version 12.1.2510 
@author vinicius.queiros
@since 31/01/2025
/*/
class ZipCodeController

	public method new() constructor

	@GET("/totvsHealthPlans/locality/v1/zipCodes")
	public method apiGetZipCodes()

endclass

/*/{Protheus.doc} new
Método construtor da classe
@type method
@version 12.1.2510
@author vinicius.queiros
@since 31/01/2025
@return object, objeto da instância da classe
/*/
method new() class ZipCodeController

return self

/*/{Protheus.doc} apiGetZipCodes
Recurso responsável por retornar os códigos postais (CEP)
@type method
@version 12.1.2510  
@author vinicius.queiros
@since 31/01/2025
/*/
method apiGetZipCodes() class ZipCodeController

	local oService as object

	oService := ZipCodeService():new()
	oService:setQueryParams(oRest:getQueryRequest())

	if oService:getZipCodes()
		oRest:setResponse(oService:getJsonResult())
		oRest:setStatusCode(oService:getStatusCode())
	endif

	// Define cabeçalho padrão da resposta
	oRest:setKeyHeaderResponse("Content-Type", "application/json")

	oService:destroy()
	freeObj(oService)

return
