#include "msobject.ch"
#include "protheus.ch"
#include "backoffice.sv.com.invoiceitems.ch"
#include "totvs.framework.treports.integratedprovider.th"
    
namespace totvs.protheus.backoffice.com.smartView.integratedProvider
  
@totvsFrameworkTReportsIntegratedProvider(active=.F., team="SIGACOM", tables="SB1", name="Relação de Itens de Notas Fiscais - Localizado", country="BRA", customTables="ALL")
 
//-----------------------------------------------------------------------------------------------------------------------------------
/*{Protheus.doc} invoiceitemsSmartViewBusinessObjectBRA
Classe para criação do Objeto de Negócio Localizado
Relacao de notas fiscais

	MATR080 - Relação de Itens das Notas Fiscais
    Invoice Items List  

@author Everton Fregonezi Diniz
@since 27/11/2023
@version 1.0
*/
//-----------------------------------------------------------------------------------------------------------------------------------  
class invoiceitemsSmartViewBusinessObjectBRA from totvs.protheus.backoffice.com.smartView.integratedProvider.invoiceitemsSmartViewBusinessObject
    
	public method new() as object

	protected method preSchema() as object
	protected method preData() as object
	protected method processData() as object

	private data aStruct as array

endclass


//-----------------------------------------------------------------------------------------------------------------------------------
/*{Protheus.doc} new
Método de instância da classe
 
@return object: self
 
@author Everton Fregonezi Diniz
@since 27/11/2023
@version 1.0
*/
//-----------------------------------------------------------------------------------------------------------------------------------
method New() as object class invoiceitemsSmartViewBusinessObjectBRA

    _Super:new()
	
return self


//-----------------------------------------------------------------------------------------------------------------------------------
/*{Protheus.doc} preSchema
Retorna a pré-estrutura dos campos
 
@return object: self:oSchema
 
@author Everton Fregonezi Diniz
@since 27/11/2023
@version 1.0
*/
//-----------------------------------------------------------------------------------------------------------------------------------   

method preSchema() as object class invoiceitemsSmartViewBusinessObjectBRA

	self:comAddProperty("PERICM", STR0027, "number")
	self:comAddProperty("PERIPI", STR0028, "number")
	self:comAddProperty("VLRICM", STR0029, "number")
	self:comAddProperty("VLRIPI", STR0030, "number")
	self:comAddProperty("VLIMP1", STR0031, "number")
	self:comAddProperty("VLIMP2", STR0032, "number")
	self:comAddProperty("VLIMP3", STR0033, "number")
	self:comAddProperty("VLIMP4", STR0034, "number")
	self:comAddProperty("VLIMP5", STR0035, "number")
	self:comAddProperty("VLIMP6", STR0036, "number")

return self:oSchema


//-----------------------------------------------------------------------------------------------------------------------------------
/*/{Protheus.doc} preData
Retorna a estrutura dos campos
 
@return object: self:oSchema
 
@author Everton Fregonezi Diniz
@since 27/11/2023
@version 1.0
*/
//-----------------------------------------------------------------------------------------------------------------------------------

method preData() as object class invoiceitemsSmartViewBusinessObjectBRA

	::cSelectComplement += ", D1_PICM AS PERICM, D1_IPI AS PERIPI, D1_VALICM AS VLRICM, D1_VALIPI AS VLRIPI, D1_VALIMP1	AS VLIMP1, D1_VALIMP2 AS VLIMP2, D1_VALIMP3	AS VLIMP3, D1_VALIMP4 AS VLIMP4, D1_VALIMP5 AS VLIMP5, D1_VALIMP6 AS VLIMP6 |"
	::cSelectComplement += ", D2_PICM AS PERICM, D2_IPI	AS PERIPI, D2_VALICM AS VLRICM, D2_VALIPI AS VLRIPI, D2_VALIMP1	AS VLIMP1, D2_VALIMP2 AS VLIMP2, D2_VALIMP3	AS VLIMP3, D2_VALIMP4 AS VLIMP4, D2_VALIMP5 AS VLIMP5, D2_VALIMP6 AS VLIMP6  "

	::cWhereComplement	+= ", D1_PICM, D1_IPI, D1_VALICM, D1_VALIPI, D1_VALIMP1, D1_VALIMP2, D1_VALIMP3, D1_VALIMP4, D1_VALIMP5, D1_VALIMP6 |"
	::cWhereComplement	+= ", D2_PICM, D2_IPI, D2_VALICM, D2_VALIPI, D2_VALIMP1, D2_VALIMP2, D2_VALIMP3, D2_VALIMP4, D2_VALIMP5, D2_VALIMP6 "

return self:oData


//-----------------------------------------------------------------------------------------------------------------------------------
/*/{Protheus.doc} processData
Retorna a estrutura dos campos
 
@return object: self:oSchema
 
@author Everton Fregonezi Diniz
@since 27/11/2023
@version 1.0
*/
//-----------------------------------------------------------------------------------------------------------------------------------
method processData() as object class invoiceitemsSmartViewBusinessObjectBRA

	if (self:cAlias)->(!EOF())
		self:jData["PERICM"] := (self:cAlias)->PERICM
		self:jData["PERIPI"] := (self:cAlias)->PERIPI
		self:jData["VLRICM"] := (self:cAlias)->VLRICM
		self:jData["VLRIPI"] := (self:cAlias)->VLRIPI
		self:jData["VLIMP1"] := (self:cAlias)->VLIMP1
		self:jData["VLIMP2"] := (self:cAlias)->VLIMP2
		self:jData["VLIMP3"] := (self:cAlias)->VLIMP3
		self:jData["VLIMP4"] := (self:cAlias)->VLIMP4
		self:jData["VLIMP5"] := (self:cAlias)->VLIMP5
		self:jData["VLIMP6"] := (self:cAlias)->VLIMP6
	endif
	
return
