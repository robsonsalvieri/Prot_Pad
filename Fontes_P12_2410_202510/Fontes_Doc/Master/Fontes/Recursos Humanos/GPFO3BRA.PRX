/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³GpFo3BRA      ³Autor³ Gerado pelo sistema ³ Data ³29/09/2025³
ÃÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄ´
³Descri‡…o ³Programa de Continuacao das formulas                        ³
ÃÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³Sintaxe   ³                                                            ³
ÃÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³Parametros³<Vide Parametros Formais>                                   ³
ÃÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Uso      ³Generico                                                    ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0331    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0331( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','REDUPREV','REDUCAO PREVIDENCIA APOSE/PENS - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','REDUPREV','SRA->RA_CATFUNC $ "7*8*9"   .END.','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "7*8*9"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','aTabS001 := {}     .CNT.','000002','000001','.EXE.','5','aTabS001 := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','fCarrTab(@aTabS001,"S001", DDATAATE , .T. )     .CNT.','000003','000001','.EXE.','5','fCarrTab(@aTabS001,"S001", DDATAATE , .T. )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','nLimINSS := nAliqINSS := nVlINSS := 0     .CNT.','000004','000001','.EXE.','5','nLimINSS := nAliqINSS := nVlINSS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','x := 1     .CNT.','000005','000001','.EXE.','5','x := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','x <= Len(aTabS001)   .END.','000006','000001','.ENQ.','5','','','5','x <= Len(aTabS001)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','aTabS001[x][1] == "S001"   .END.','000007','000006','.CON.','5','','','5','aTabS001[x][1] == "S001"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','aTabS001[x][7] > nLimINSS   .END.','000008','000007','.CON.','5','','','5','aTabS001[x][7] > nLimINSS','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','nLimINSS := aTabS001[x][7]     .CNT.','000009','000008','.EXE.','5','nLimINSS := aTabS001[x][7]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','nAliqINSS := aTabS001[x][8]     .CNT.','000010','000008','.EXE.','5','nAliqINSS := aTabS001[x][8]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','nVlINSS := nLimINSS * ( nAliqINSS / 100 )     .END.','000011','000008','.EXE.','5','nVlINSS := nLimINSS * ( nAliqINSS / 100 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','x++     .END.','000012','000006','.EXE.','5','x++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUPREV','NINSS := NINSS1 := NINSS - NVLINSS','000013','000001','.EXE.','5','NINSS := NINSS1 := NINSS - nVlINSS','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0332    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0332( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','REDUTETO','REDUTOR DE TETO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','REDUTETO','SRA->RA_CATFUNC $ "0*1*2*3*4*5*6*7*8*9"   .END.','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "0*1*2*3*4*5*6*7*8*9"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','cVb1370 := fGetCodFol("1370")     .CNT.','000002','000001','.EXE.','5','cVb1370 := fGetCodFol("1370")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','C__ROTEIRO $ "170*250" /* Gerar Banse Independente para es','000003','000001','.CON.','5','','','5','C__ROTEIRO $ "170*250" /* Gerar Banse Independente para esses Roteiros */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','nVlBsTeto := 0     .END.','000004','000003','.EXE.','5','nVlBsTeto := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','ncount := 1     .CNT.','000005','000001','.EXE.','5','ncount := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','WHILE NCOUNT <= LEN(APD)   .END.','000006','000001','.ENQ.','5','','','5','NCOUNT <= LEN(APD)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','( ("001S" $ POSICIONE("SRV",1,XFILIAL("SRV") + APD[NCOUNT]','000007','000006','.CON.','5','','','5','( ("001S" $ POSICIONE("SRV",1,XFILIAL("SRV") + APD[NCOUNT][1] , "RV_ACUMAUX" )) .AND. APD[NCOUNT][9] <> '+"'"+'D'+"'"+' )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','NVLBSTETO := IF( SRV->RV_TIPOCOD $ "1*3",  NVLBSTETO + APD[N','000008','000007','.EXE.','5','NVLBSTETO := IF( SRV->RV_TIPOCOD $ "1*3",  NVLBSTETO + APD[NCOUNT][5] , NVLBSTETO - APD[NCOUNT][5] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','ncount++     .END.','000009','000006','.EXE.','5','ncount++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','( (NVLBSTETO > P_LIMTETO) .AND. (aScan( apd , { |x| x[1] =','000010','000001','.CON.','5','','','5','( (NVLBSTETO > P_LIMTETO) .AND. (aScan( apd , { |x| x[1] == CVB1370 } ) == 0 .or. aScan( apd , { |x| x[7] == "I" } ) == 0 ))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUTETO','FGeraVerba(CVB1370,ROUND((NVLBSTETO - P_LIMTETO), MSDECIMAIS','000011','000010','.EXE.','5','FGeraVerba(CVB1370,ROUND((NVLBSTETO - P_LIMTETO), MSDECIMAIS(1)),,,,"V",,,,,,,,,)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0333    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0333( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RESIDEXT','CARREGA ITENS P/ RESID.EXTERIOR','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','RESIDEXT','fInssResEx()     .END.','000001','000000','.EXE.','5','fInssResEx()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0334    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0334( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RETSITFP','ALTERA SITUACAO DO SERVIDOR - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','RETSITFP','RetSituacao()     .END.','000001','000000','.EXE.','5','RetSituacao()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0335    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0335( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RPENS13','CALCULA PENSAO 13. SALARIO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','RPENS13','FCALCPENSAO(ACODFOL[70,1],ACODFOL[71,1],,0,GETMEMVAR("RG_DAT','000001','000000','.EXE.','5','FCalcPensao(aCodFol[70,1],aCodFol[71,1],,0,GetMemVar("RG_DATAHOM"),"13o")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0336    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0336( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RPENSFER','CALCULA PENSAO FERIAS','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','RPENSFER','FCALCPENSAO(ACODFOL[65,1],ACODFOL[67,1],ACODFOL[170,1],0,GET','000001','000000','.EXE.','5','fCalcPensao(aCodFol[65,1],aCodFol[67,1],aCodFol[170,1],0,GetMemVar("RG_DATAHOM"),"FER")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0337    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0337( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RPENSPLR','CALCULA PENSAO PLR','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','RPENSPLR','CBKPROT := CTIPOROT','000001','000000','.EXE.','5','cBkpRot := cTipoRot','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RPENSPLR','CTIPOROT := "F"','000002','000000','.EXE.','5','cTipoRot := "F"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RPENSPLR','FCALCPENSAO("XXX", ACODFOL[152,1],,0,GETMEMVAR("RG_DATAHOM")','000003','000000','.EXE.','5','fCalcPensao("XXX", aCodFol[152,1],,0,GetMemVar("RG_DATAHOM"))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RPENSPLR','CTIPOROT := CBKPROT','000004','000000','.EXE.','5','cTipoRot := cBkpRot','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0338    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0338( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALARIO','SALARIO BASE MES DOS FUNCIONARIOS','','','019','2','1',} )

aAdd(aRc3Cols, { '','S_','SALARIO','CTIPOROT # "2" .OR. SRA->RA_CATFUNC # "T"','000001','000000','.CON.','5','','','5','cTipoRot # "2" .or. SRA->RA_CATFUNC # "T"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALARIO := SALMES','000002','000001','.EXE.','5','SALARIO := SALMES','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALHOR := SALHORA','000003','000001','.EXE.','5','SALHOR := SALHORA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALHOR30 := SALHORA30     .CNT.','000004','000001','.EXE.','5','SALHOR30 := SALHORA30','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALDOR := SALDIA','000005','000001','.EXE.','5','SALDOR := SALDIA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALDOR30 := SALDIA30     .END.','000006','000001','.EXE.','5','SALDOR30 := SALDIA30','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','! LHOJORVA .AND. SRA->RA_CATFUNC $ "H*G" .AND. CTIPOROT  ==','000007','000000','.CON.','5','','','5','! LHOJORVA .And. SRA->RA_CATFUNC $ "H*G" .And. CTIPOROT  == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIO','!(SRA->RA_CATEG == "07" .AND. LMAPRENDIZ)','000008','000007','.CON.','5','','','5','!(SRA->RA_CATEG == "07" .AND. LMAPRENDIZ)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALARIO := SRA->RA_SALARIO * SRA->RA_HRSMES','000009','000008','.EXE.','5','SALARIO := SRA->RA_SALARIO * SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SRA->RA_CATEG == "07" .AND. LMAPRENDIZ .AND. P_DIASRES == 2','000010','000007','.CON.','5','','','5','SRA->RA_CATEG == "07" .AND. LMAPRENDIZ .AND. P_DIASRES == 2','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALHOR := SRA->RA_SALARIO','000011','000010','.EXE.','5','SALHOR := SRA->RA_SALARIO','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','000012','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALARIO := SALMES','000013','000012','.EXE.','5','SALARIO := SALMES','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALHOR := SALHORA','000014','000012','.EXE.','5','SALHOR := SALHORA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIO','SALDOR := SALDIA','000015','000012','.EXE.','5','SALDOR := SALDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0339    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0339( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALARIOB','SALARIO BASE MES DOS FUNCIONARIOS - GFP','SALARIO','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SALARIOB','SALARIO := SALMES     .CNT.','000001','000000','.EXE.','5','SALARIO := SALMES','','1','','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOB','SALHOR := SALHORA     .CNT.','000002','000000','.EXE.','5','SALHOR := SALHORA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOB','SALDOR := SALDIA     .CNT.','000003','000000','.EXE.','5','SALDOR := SALDIA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOB','SALHOR := SALHORA     .CNT.','000004','000000','.EXE.','5','SALHOR := SALHORA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOB','SALDOR := SALDIA     .END.','000005','000000','.EXE.','5','SALDOR := SALDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0340    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0340( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALARIOD','SALARIO DIA DOS FUNCIONARIOS - GFP','SALDIA','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_TIPOPGT == "M" .AND.','000001','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','==','5','"M"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_CATFUNC $ "M*C*P*A*E*0*1*2*3*4*5*6*7*8*9"   .END.','000002','000000','.CON.','2','','','5','SRA->RA_CATFUNC $ "M*C*P*A*E*0*1*2*3*4*5*6*7*8*9"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SALDIA := NSALBASE / 30     .END.','000003','000002','.EXE.','5','SALDIA := NSALBASE / 30','','5','','','1','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_TIPOPGT = "S" .AND.','000004','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','=','5','"S"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_CATFUNC = "S" .END.','000005','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"S"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SALDIA := NSALBASE / 7     .END.','000006','000005','.EXE.','5','SALDIA := NSALBASE / 7','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_CATFUNC $ "H*T*G" .END.','000007','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"H*T*G"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SALDIA := ( NSALBASE * SRA->RA_HRSMES ) / 30     .END.','000008','000007','.EXE.','5','SALDIA := ( NSALBASE * SRA->RA_HRSMES ) / 30','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_CATFUNC = "D" .END.','000009','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"D"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SALDIA := NSALBASE     .END.','000010','000009','.EXE.','5','SALDIA := NSALBASE','','5','','','1','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0341    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0341( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALARIOH','SALARIO HORA DOS FUNCIONARIOS - GFP','SALHORA','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_TIPOPGT == "M" .AND.','000001','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','==','5','"M"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_CATFUNC $ "M*C*P*A*E*0*1*2*3*4*5*6*7*8*9"   .END.','000002','000000','.CON.','2','','','5','SRA->RA_CATFUNC $ "M*C*P*A*E*0*1*2*3*4*5*6*7*8*9"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SALHORA := NSALBASE / SRA->RA_HRSMES     .END.','000003','000002','.EXE.','5','SALHORA := NSALBASE / SRA->RA_HRSMES','','5','','','1','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_TIPOPGT = "S" .AND.','000004','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','=','5','"S"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_CATFUNC = "S" .END.','000005','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"S"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SALHORA := NSALBASE / 7     .CNT.','000006','000005','.EXE.','5','SALHORA := NSALBASE / 7','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SALHORA *= 30 / SRA->RA_HRSMES     .END.','000007','000005','.EXE.','5','SALHORA *= 30 / SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_CATFUNC $ "H*T*G" .END.','000008','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"H*T*G"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SALHORA := NSALBASE     .END.','000009','000008','.EXE.','5','SALHORA := NSALBASE','','5','','','1','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_CATFUNC = "D" .END.','000010','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"D"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SALHORA := (NSALBASE * 30) / SRA->RA_HRSMES     .END.','000011','000010','.EXE.','5','SALHORA := (NSALBASE * 30) / SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0342    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0342( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALARIOM','SALARIO MENSAL DOS FUNCIONARIO - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_TIPOPGT == "M" .AND.','000001','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','==','5','"M"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC $ "M*C*P*A*E*0*1*2*3*4*5*6*7*8*9"   .END.','000002','000000','.CON.','2','','','5','SRA->RA_CATFUNC $ "M*C*P*A*E*0*1*2*3*4*5*6*7*8*9"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := NSALBASE     .CNT.','000003','000002','.EXE.','5','SALMES := NSALBASE','','5','','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000004','000002','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000005','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_TIPOPGT = "S" .AND.','000006','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','=','5','"S"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC = "S" .END.','000007','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"S"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := ( NSALBASE / 7 ) * 30     .CNT.','000008','000007','.EXE.','5','SALMES := ( NSALBASE / 7 ) * 30','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000009','000007','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000010','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC $ "H*T*G" .AND.','000011','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"H*T*G"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','cTipoRot $ "1*7" .END.','000012','000000','.CON.','2','','','5','cTipoRot','$','5','"1*7"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','NCOMPHRS := nHorasTrab + nHorasDSR .CNT.','000013','000012','.EXE.','2','NCOMPHRS',':=','5','nHorasTrab','+','5','nHorasDSR','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := NSALBASE * NCOMPHRS     .CNT.','000014','000012','.EXE.','5','SALMES := NSALBASE * NCOMPHRS','','5','','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000015','000012','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000016','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC == "H" .AND.','000017','000000','.CON.','2','','','1','SRA->RA_CATFUNC','==','5','"H"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','cTipoRot == "2I" .AND.','000018','000000','.CON.','2','','','5','cTipoRot','==','5','"2I"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','cCompMes == "S" .AND.','000019','000000','.CON.','2','','','2','cCompMes','==','5','"S"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','cTip == "B" .END.','000020','000000','.CON.','2','','','2','cTip','==','5','"B"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','NCOMPHRS := nHorasTrab + nHorasDSR .CNT.','000021','000020','.EXE.','2','NCOMPHRS',':=','5','nHorasTrab','+','5','nHorasDSR','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := NSALBASE * NCOMPHRS     .CNT.','000022','000020','.EXE.','5','SALMES := NSALBASE * NCOMPHRS','','5','','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000023','000020','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000024','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC $ "H*T*G" .END.','000025','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"H*T*G"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := NSALBASE * SRA->RA_HRSMES     .CNT.','000026','000025','.EXE.','5','SALMES := NSALBASE * SRA->RA_HRSMES','','5','','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000027','000025','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000028','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC = "D" .END.','000029','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"D"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := NSALBASE * 30     .END.','000030','000029','.EXE.','5','SALMES := NSALBASE * 30','','5','','','1','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0343    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0343( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALBASE','SALARIO BASE CAD. FUNCIONARIO - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SALBASE','NSALBASE := iIf( SRA->RA_SUBCARR > 0, SRA->RA_SUBCARR, SRA->','000001','000000','.EXE.','5','NSALBASE := iIf( SRA->RA_SUBCARR > 0, SRA->RA_SUBCARR, SRA->RA_SALARIO ) /* TRATAMENTO NECESSARIO PARA OS SERVIDORES E MEMBROS EM COMISSIONAMENTO */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALBASE','NSALCOMIS := SRA->RA_SALARIO     .END.','000002','000000','.EXE.','5','NSALCOMIS := SRA->RA_SALARIO','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0344    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0344( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALDIA','SALARIO DIA DOS FUNCIONARIOS','','','027','2','1',} )

aAdd(aRc3Cols, { '','S_','SALDIA','P_LDSRHRSP := TYPE("P_LDSRHRSP") # "U" .AND. P_LDSRHRSP','000001','000000','.EXE.','5','P_LDSRHRSP := TYPE("P_LDSRHRSP") # "U" .AND. P_LDSRHRSP','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','LDIFINCORP := FDIFINCORP()','000002','000000','.EXE.','5','lDifIncorp := fDifIncorp()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_TIPOPGT == "M"','000003','000000','.CON.','5','','','5','SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATFUNC $ "M*C*P*A*E"','000004','000003','.CON.','5','','','5','SRA->RA_CATFUNC $ "M*C*P*A*E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA := SRA->RA_SALARIO / NDIASC','000005','000004','.EXE.','5','SALDIA := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / nDiasC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA30 := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / 30','000006','000004','.EXE.','5','SALDIA30 := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / 30','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATFUNC $ "H*T*G"','000007','000003','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*T*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATFUNC == "H" .AND. LHOJORVA   .END.','000008','000007','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .AND. LHOJORVA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA := SRA->RA_SALARIO * NORMAL / NDIASC     .END.','000009','000008','.EXE.','5','SALDIA := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * NORMAL / NDIASC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA30 := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * NOR','000010','000008','.EXE.','5','SALDIA30 := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * NORMAL / 30','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','!lHojorva   .END.','000011','000007','.CON.','5','','','5','!lHojorva','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA:=  SRA->RA_SALARIO * SRA->RA_HRSDIA     .END.','000012','000011','.EXE.','5','SALDIA:=  IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * SRA->RA_HRSDIA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','P_LDSRHRSP   .END.','000013','000011','.CON.','5','','','5','P_LDSRHRSP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA := SRA->RA_SALARIO * (nPonTrab + nPonDesc) / NDIASC','000014','000013','.EXE.','5','SALDIA := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * (nPonTrab + nPonDesc) / NDIASC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_TIPOPGT == "S"','000015','000000','.CON.','5','','','5','SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATFUNC $ "S*T*C*P*A*E"','000016','000015','.CON.','5','','','5','SRA->RA_CATFUNC $ "S*T*C*P*A*E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA:= ( SRA->RA_SALARIO / P_NTOTDIAS )','000017','000016','.EXE.','5','SALDIA:= ( IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / P_NTOTDIAS )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATFUNC $ "H*G"','000018','000015','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATFUNC == "H" .And. lHojorva   .END.','000019','000018','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .And. lHojorva','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA := (SRA->RA_SALARIO * NORMAL / NDIASC)     .END.','000020','000019','.EXE.','5','SALDIA := (IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * NORMAL / NDIASC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','!lHojorva   .END.','000021','000018','.CON.','5','','','5','!lHojorva','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA:=  (SRA->RA_SALARIO * SRA->RA_HRSDIA)     .END.','000022','000021','.EXE.','5','SALDIA:=  (IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * SRA->RA_HRSDIA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','P_LDSRHRSP   .END.','000023','000021','.CON.','5','','','5','P_LDSRHRSP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA := SRA->RA_SALARIO * (nPonTrab + nPonDesc) / NDIASC','000024','000023','.EXE.','5','SALDIA := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * (nPonTrab + nPonDesc) / NDIASC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATEG == "07" .AND. LMAPRENDIZ','000025','000000','.CON.','5','','','5','SRA->RA_CATEG == "07" .and. lMAprendiz','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATFUNC == "H"','000026','000025','.CON.','5','','','5','SRA->RA_CATFUNC == "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','NVALOR  :=  SRA->RA_HRSMES /  5','000027','000026','.EXE.','5','nValor  :=  SRA->RA_HRSMES  / 5','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','NVALOR :=   (NVALOR * NNUMSEMANA) * SRA->RA_SALARIO','000028','000026','.EXE.','5','nValor :=   (nValor * nNumSemana) * IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA :=  ( (NVALOR * P_NTOTDIAS )  / 6 ) / NDIASC','000029','000026','.EXE.','5','SALDIA :=  ( (nValor * P_NTOTDIAS )  / 6 ) / nDiasC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_CATFUNC == "D"','000030','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA:= SRA->RA_SALARIO','000031','000030','.EXE.','5','SALDIA:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_TPCONTR == "3"','000032','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA := ( ACONVOCACAO[4] * ACONVOCACAO[7] )','000033','000032','.EXE.','5','SALDIA := ( ACONVOCACAO[4] * ACONVOCACAO[7] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','000034','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDIA','MEDSALINTE()','000035','000034','.EXE.','5','MEDSALINTE()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDIA','SALDIA := ( ACONVOCACAO[4] / NDIASC)','000036','000034','.EXE.','5','SALDIA := ( ACONVOCACAO[4] / NDIASC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0345    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0345( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALDISFP','SALARIO DISSIDIO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','SALDISFP','lDissidio   .END.','000001','000000','.CON.','5','','','5','lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','aPerAberto:= {}     .CNT.','000002','000001','.EXE.','5','aPerAberto:= {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','aPerFechado:= {}     .CNT.','000003','000001','.EXE.','5','aPerFechado:= {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','fRetPerComp( SubStr(cPeriodo,5,2), SubStr(cPeriodo,1,4), Nil','000004','000001','.EXE.','5','fRetPerComp( SubStr(cPeriodo,5,2), SubStr(cPeriodo,1,4), Nil, Nil, Nil, @aPerAberto, @aPerFechado)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','APDOLD:= ACLONE(APD)     .CNT.','000005','000001','.EXE.','5','APDOLD:= ACLONE(APD)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','APD := {}     .END.','000006','000001','.EXE.','5','APD := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','CPDS := ACODFOL[13,1]+"/"+ACODFOL[14,1]+"/"+ACODFOL[19,1]+"/','000007','000001','.EXE.','5','cPds := aCodFol[13,1]+"/"+aCodFol[14,1]+"/"+aCodFol[19,1]+"/"+aCodFol[20,1]+"/"+aCodFol[64,1]+"/"+aCodFol[65,1]+"/"+aCodFol[70,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','cPdsDif := aCodFol[88,1]+"/"+aCodFol[90,1]+"/"+aCodFol[92,1]','000008','000001','.EXE.','5','cPdsDif := aCodFol[88,1]+"/"+aCodFol[90,1]+"/"+aCodFol[92,1]+"/"+aCodFol[94,1]+"/"+aCodFol[95,1]+"/"+aCodFol[96,1]+"/"+aCodFol[98,1]+"/"+aCodFol[161,1]+"/"+aCodFol[227,1]+"/"+aCodFol[1416,1]+"/"+aCodFol[1417,1]+"/"+aCodFol[1450,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','AEVAL( APDOLD, {|X| IF( (!(ALLTRIM(X[7]) $ "P*S*A*K*C*R*V")','000009','000001','.EXE.','5','AEVAL( APDOLD, {|X| IF( (!(ALLTRIM(X[7]) $ "P*S*A*K*C*R*V*F") .Or. (ALLTRIM(X[7]) == "F" .And. X[1] $ cPdsDif)  .Or. x[1] $ aCodFol[28,1]+"/"+aCodFol[348,1]) .And. !(x[1] $ cPds) , AADD(APD,ACLONE(X)),) } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISFP','FDISSINF()','000010','000001','.EXE.','5','fDissInf()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0346    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0346( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALDISSI','CALCULO DO SALARIO DISSIDIO','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','SALDISSI','fSalDiss(@Salario,@SalHora,@SalDia,@SalMes)     .END.','000001','000000','.EXE.','5','fSalDiss(@Salario,@SalHora,@SalDia,@SalMes)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0347    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0347( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALDOSAL','SALDO DE SALARIO PARA RESCISAO','','','059','2','1',} )

aAdd(aRc3Cols, { '','S_','SALDOSAL','NDIASTORIG := DIASTRAB','000001','000000','.EXE.','5','nDiasTOrig := DiasTrab','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NDIASIND := 0','000002','000000','.EXE.','5','nDiasInd := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NDSRSALDOSAL := 0.00','000003','000000','.EXE.','5','nDSRSaldoSal := 0.00','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSLDDSRIND := 0.00','000004','000000','.EXE.','5','nSldDSRInd := 0.00','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := 0.00','000005','000000','.EXE.','5','nSaldosal := 0.00','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','LALTINCRES := .F.','000006','000000','.EXE.','5','lAltIncRes := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','LRET := .T.     .CNT.','000007','000000','.EXE.','5','LRET := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NIDSALDO := 048','000008','000000','.EXE.','5','NIDSALDO := 048','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NHRSDSR := 0','000009','000000','.EXE.','5','nHrsDSR := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_CATFUNC == "E"','000010','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NIDSALDO := 219','000011','000010','.EXE.','5','NIDSALDO := 219','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_CATFUNC == "G"','000012','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NIDSALDO := 220','000013','000012','.EXE.','5','NIDSALDO := 220','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NIDDSRSAL := 1399','000014','000000','.EXE.','5','nIdDSRSal := 1399','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','AINCRES[15] == "N" .AND. LSABDOM .AND. DOW( DDATADEM1 ) == 6','000015','000000','.CON.','5','','','5','aIncRes[15] == "N" .and. lSabDom .and. ( Dow( dDataDem1 ) == 6 .Or. Dow( dDataDem1 ) == 7 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','LALTINCRES := .T.','000016','000015','.EXE.','5','lAltIncRes := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','AINCRES[15] := "S"','000017','000015','.EXE.','5','aIncRes[15] := "S"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','DIASTRAB := 2','000018','000015','.EXE.','5','Diastrab := 2','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SE O AVISO FOR TRABALHADO E NAO QUER O PAGAMENTO DE SALDO DE','000019','000000','.MSG.','5','SE O AVISO FOR TRABALHADO E NAO QUER O PAGAMENTO DE SALDO DE SALARIO, SABADO E DOMINGO IRAO PARA A VERBA DE AVISO TRABALHADO.','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','AINCRES[2] == "T" .AND. LALTINCRES   .END.','000020','000000','.CON.','5','','','5','AINCRES[2] == "T" .AND. LALTINCRES','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','DIASTRAB := NDIASTORIG     .CNT.','000021','000020','.EXE.','5','DIASTRAB := NDIASTORIG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','LRET := .F.     .END.','000022','000020','.EXE.','5','LRET := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','!EMPTY(ACODFOL[NIDSALDO,1]) .AND. AINCRES[15] == "S" .AND. G','000023','000000','.CON.','5','','','5','!Empty(aCodfol[NIDSALDO,1]) .And. aIncRes[15] == "S" .And. GETMVRH("MV_CALCINF") # "S" .and. aScan(aPd,{ |X| X[1] = aCodfol[NIDSALDO,1] .and. X[9] # "D"}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','!EMPTY(ACODFOL[430,1]) .AND. LSABDOM','000024','000023','.CON.','5','','','5','!Empty(aCodfol[430,1]) .and. lSabDom','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NDIASIND := IF( DDATADEM <> DDATADEM1,1,0 )','000025','000024','.EXE.','5','nDiasInd := If( dDataDem <> dDataDem1,1,0 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_TIPOPGT == "S"','000026','000023','.CON.','5','','','5','SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_CATFUNC == "S"','000027','000026','.CON.','5','','','5','SRA->RA_CATFUNC == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := ROUND( (SALARIO / NDIASC) * ( DIASTRAB + DIAS','000028','000027','.EXE.','5','nSaldoSal := Round( (Salario / nDIasC) * ( Diastrab + DiasDsr ),MsDecimais(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSLDDSRIND:= ROUND( ((SALARIO + NADTSERV + NPERIC + NINSALUB','000029','000027','.EXE.','5','nSldDSRInd:= Round( ((Salario + nAdtServ + nPeric + nInsalub + nAdcConf + nAdcTrf ) / nDIasC) * nDiasInd,MsDecimais(1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_CATFUNC # "S"','000030','000026','.CON.','5','','','5','SRA->RA_CATFUNC # "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := ROUND( (SALARIO / NDIASC) * ( DIASTRAB ),MSDECI','000031','000030','.EXE.','5','nSaldoSal := Round( (Salario / nDiasC) * ( Diastrab ),MsDecimais(1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_TIPOPGT # "S" .AND. SRA->RA_CATFUNC == "H"','000032','000023','.CON.','5','','','5','SRA->RA_TIPOPGT # "S" .and. SRA->RA_CATFUNC == "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','!P_LDSRSALD .OR. EMPTY(ACODFOL[NIDDSRSAL,1])','000033','000032','.CON.','5','','','5','!P_LDSRSALD .or. Empty(aCodFol[nIdDsrSal,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := ROUND( SALDOR * (DIASTRAB - NDIASIND) ,MSDECIMA','000034','000033','.EXE.','5','nSaldoSal := Round( SalDor * (DIASTRAB - NDIASIND) ,MsDecimais(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','P_LDSRHRSP   .END.','000035','000033','.CON.','5','','','5','P_LDSRHRSP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FHTRABCALEN(MAX(SRA->RA_ADMISSA, FIRSTDAY(DDATADEM)), DDATAD','000036','000035','.EXE.','5','fHTrabCalen(Max(SRA->RA_ADMISSA, FirstDay(dDataDem)), dDataDem, .T., .T.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := ROUND( SALHOR * FCONVHR(__TIMESUM(FCONVHR(NPONT','000037','000035','.EXE.','5','nSaldoSal := Round( SalHor * fConvHr(__TimeSum(fConvHr(nPonTrab, "H") ,  fConvHr(nPonDesc, "H")), "D" ), MsDecimais(1) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','P_LDSRSALD .AND. !EMPTY(ACODFOL[NIDDSRSAL,1])','000038','000032','.CON.','5','','','5','P_LDSRSALD .and. !Empty(aCodFol[NIDDSRSAL,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := ROUND( SALHOR * ROUND( ( NORMAL   /  NDIASC ) *','000039','000038','.EXE.','5','nSaldoSal := Round( SalHor * Round( ( Normal   /  NDIASC ) * ( Diastrab - nDiasInd), 2) ,MsDecimais(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NDSRSALDOSAL := ROUND( SALHOR * ROUND( ( DESCANSO /  NDIASC','000040','000038','.EXE.','5','nDSRSaldoSal := Round( SalHor * Round( ( Descanso /  NDIASC ) * ( Diastrab - nDiasInd), 2) ,MsDecimais(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','P_LDSRHRSP   .END.','000041','000038','.CON.','5','','','5','P_LDSRHRSP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FHTRABCALEN(MAX(SRA->RA_ADMISSA, FIRSTDAY(DDATADEM)), DDATAD','000042','000041','.EXE.','5','fHTrabCalen(Max(SRA->RA_ADMISSA, FirstDay(dDataDem)), dDataDem, .T., .T.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := ROUND( SALHOR * NPONTRAB, MSDECIMAIS(1))','000043','000041','.EXE.','5','nSaldoSal := Round( SalHor * nPonTrab, MsDecimais(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NDSRSALDOSAL := ROUND( SALHOR * NPONDESC,MSDECIMAIS(1))','000044','000041','.EXE.','5','nDSRSaldoSal := Round( SalHor * nPonDesc,MsDecimais(1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSLDDSRIND:= ROUND( SALDIA * NDIASIND ,MSDECIMAIS(1))','000045','000032','.EXE.','5','nSldDSRInd:= Round( SalDia * nDiasInd ,MsDecimais(1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_TIPOPGT # "S" .AND. SRA->RA_CATFUNC # "H"','000046','000023','.CON.','5','','','5','SRA->RA_TIPOPGT # "S" .and. SRA->RA_CATFUNC # "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := ROUND( (SALARIO / NDIASC) * (DIASTRAB - NDIASIN','000047','000046','.EXE.','5','nSaldoSal := Round( (Salario / nDIasC) * (DIASTRAB - NDIASIND),MsDecimais(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSLDDSRIND:= ROUND( ((SALARIO + NADTSERV + NPERIC + NINSALUB','000048','000046','.EXE.','5','nSldDSRInd:= Round( ((Salario + nAdtServ + nPeric + nInsalub + nAdcConf + nAdcTrf ) / nDiasC) * nDiasInd,MsDecimais(1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_CATFUNC == "H" .and. LHOJORVA   .END.','000049','000023','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .and. LHOJORVA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','Findfunction("fSdSalHoVa")   .END.','000050','000049','.CON.','5','','','5','Findfunction("fSdSalHoVa")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','fSdSalHoVa(@APD, @APDV)     .END.','000051','000050','.EXE.','5','fSdSalHoVa(@APD, @APDV)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_TPCONTR == "3"','000052','000023','.CON.','5','','','5','SRA->RA_TPCONTR == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','P_LDSRSALD .AND. EMPTY(ACODFOL[NIDDSRSAL,1])','000053','000052','.CON.','5','','','5','P_LDSRSALD .AND. EMPTY(ACODFOL[NIDDSRSAL,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','ADDLOGEXECROT( "O MNEMONICO '+"'"+'P_LDSRSALD'+"'"+' ESTÁ COMO '+"'"+'.T.'+"'"+', PO','000054','000053','.EXE.','5','ADDLOGEXECROT( "O MNEMONICO '+"'"+'P_LDSRSALD'+"'"+' ESTÁ COMO .T., POREM NAO EXISTE CADASTRO DE VERBA PARA O ID 1399 PARA GERAR DSR SOBRE O SALDO DE SALARIO, CRIE A VERBA COM ID 1399 OU UTILIZE O MNEMONICO '+"'"+'P_LDSRSALD'+"'"+' = .F." )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','ADDLOGEXECROT( "OBS.: O CÁLCULO NÃO SERÁ REALIZADO ATÉ QUE S','000055','000053','.EXE.','5','ADDLOGEXECROT( "OBS.: O CÁLCULO NÃO SERÁ REALIZADO ATÉ QUE SEJA EFETUADO O CADASTRO DA VERBA DE ID 1399." )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FINALCALC()     .END.','000056','000053','.EXE.','5','FINALCALC()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','CALCCONVOC(@NSALDOSAL, @DIASTRAB, @NDSRSALDOSAL, @NHRSDSR, N','000057','000052','.EXE.','5','CalcConvoc(@nSaldoSal, @DiasTrab, @nDSRSaldoSal, @nHrsDSR, Nil, .F.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','!P_LDSRSALD','000058','000052','.CON.','5','','','5','!P_LDSRSALD','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL += NDSRSALDOSAL','000059','000058','.EXE.','5','nSaldoSal += nDSRSaldoSal','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','DIASTRAB += NHRSDSR','000060','000058','.EXE.','5','DiasTrab += nHrsDSR','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NDSRSALDOSAL := 0','000061','000058','.EXE.','5','nDSRSaldoSal := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','LRET .AND.(!LHOJORVA .OR. ASCAN(APD, { |X| X[1] = ACODFOL[NI','000062','000023','.CON.','5','','','5','LRET .AND.(!LHOJORVA .OR. ASCAN(APD, { |X| X[1] = ACODFOL[NIDSALDO,1] .AND. X[9] # "D"}) == 0 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSALDOSAL := MAX((NSALDOSAL-NSALPGTO),0.00)','000063','000062','.EXE.','5','nSaldoSal := Max((nSalDoSal-nSalPgto),0.00)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','(SRA->RA_CATFUNC == "S" .AND. SRA->RA_TIPOPGT == "S" )','000064','000062','.CON.','5','','','5','(SRA->RA_CATFUNC == "S" .And. SRA->RA_TIPOPGT == "S" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDSALDO,1],NSALDOSAL,( DIASTRAB + DIASDS','000065','000064','.EXE.','5','fGeraVerba(aCodfol[NIDSALDO,1],nSaldoSal,( DiasTrab + DiasDsr ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','!(SRA->RA_CATFUNC == "S" .AND. SRA->RA_TIPOPGT == "S" )','000066','000062','.CON.','5','','','5','!(SRA->RA_CATFUNC == "S" .And. SRA->RA_TIPOPGT == "S" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','AINCRES[15] := "S"     .CNT.','000067','000066','.EXE.','5','AINCRES[15] := "S"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NDSRSALDOSAL > 0','000068','000066','.CON.','5','','','5','nDSRSaldoSal > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','P_LDSRHRSP   .END.','000069','000068','.CON.','5','','','5','P_LDSRHRSP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDSALDO,1],NSALDOSAL, NPONTRAB)','000070','000069','.EXE.','5','fGeraVerba(aCodfol[NIDSALDO,1],nSaldoSal, nPonTrab)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDDSRSAL,1],NDSRSALDOSAL, NPONDESC)','000071','000069','.EXE.','5','fGeraVerba(aCodfol[NIDDSRSAL,1],nDSRSaldoSal, nPonDesc)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','!P_LDSRHRSP .AND. SRA->RA_TPCONTR != "3"','000072','000068','.CON.','5','','','5','!P_LDSRHRSP .And. SRA->RA_TPCONTR != "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NREFAUX := ROUND( ( NORMAL   /  NDIASC ) * ( DIASTRAB - NDIA','000073','000072','.EXE.','5','NREFAUX := Round( ( NORMAL   /  nDiasC ) * ( DIASTRAB - NDIASIND), 2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NREFDSR := ROUND( ( DESCANSO /  NDIASC ) * ( DIASTRAB - NDIA','000074','000072','.EXE.','5','NREFDSR := Round( ( DESCANSO /  nDiasC ) * ( DIASTRAB - NDIASIND), 2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_CATFUNC == "H" .AND. SRA->RA_CATEG == "07" .AND. LMA','000075','000072','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .AND. SRA->RA_CATEG == "07" .AND. LMAPRENDIZ','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NREFAUX := ( ( ( NORMAL + DESCANSO) / NDIASC ) * ( DIASTRAB','000076','000075','.EXE.','5','NREFAUX := ( ( ( NORMAL + DESCANSO) / NDIASC ) * ( DIASTRAB - NDIASIND) ) / 7 * 6','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NREFDSR := ( ( ( NORMAL + DESCANSO) / NDIASC ) * ( DIASTRAB','000077','000075','.EXE.','5','NREFDSR := ( ( ( NORMAL + DESCANSO) / NDIASC ) * ( DIASTRAB - NDIASIND) ) / 7','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDSALDO,1],NSALDOSAL, NREFAUX)','000078','000072','.EXE.','5','fGeraVerba(aCodfol[NIDSALDO,1],nSaldoSal, NREFAUX)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDDSRSAL,1],NDSRSALDOSAL, NREFDSR)','000079','000072','.EXE.','5','fGeraVerba(aCodfol[NIDDSRSAL,1],nDSRSaldoSal, NREFDSR)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','!P_LDSRHRSP .AND. SRA->RA_TPCONTR == "3"','000080','000068','.CON.','5','','','5','!P_LDSRHRSP .And. SRA->RA_TPCONTR == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDSALDO,1],NSALDOSAL, DIASTRAB)','000081','000080','.EXE.','5','fGeraVerba(aCodfol[NIDSALDO,1],nSaldoSal, DiasTrab)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDDSRSAL,1],NDSRSALDOSAL, NHRSDSR)','000082','000080','.EXE.','5','fGeraVerba(aCodfol[NIDDSRSAL,1],nDSRSaldoSal, nHrsDSR)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NDSRSALDOSAL <= 0','000083','000066','.CON.','5','','','5','nDSRSaldoSal <= 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_TPCONTR != "3" .OR. P_LDSRHRSP','000084','000083','.CON.','5','','','5','SRA->RA_TPCONTR != "3" .OR. P_LDSRHRSP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDSALDO,1],NSALDOSAL, (DIASTRAB - NDIASI','000085','000084','.EXE.','5','fGeraVerba(aCodfol[NIDSALDO,1],nSaldoSal, (DIASTRAB - NDIASIND) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','SRA->RA_TPCONTR == "3" .AND. !P_LDSRHRSP','000086','000083','.CON.','5','','','5','SRA->RA_TPCONTR == "3" .AND. !P_LDSRHRSP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[NIDSALDO,1],NSALDOSAL, DIASTRAB )','000087','000086','.EXE.','5','fGeraVerba(aCodfol[NIDSALDO,1],nSaldoSal, DiasTrab )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','NSLDDSRIND > 0','000088','000023','.CON.','5','','','5','nSldDSRInd > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','FGERAVERBA(ACODFOL[430,1],NSLDDSRIND,NDIASIND)','000089','000088','.EXE.','5','fGeraVerba(aCodfol[430,1],nSldDSRInd,nDiasInd)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','LALTINCRES .AND. LRET','000090','000000','.CON.','5','','','5','lAltIncRes .AND. LRET','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','AINCRES[15] := "N"','000091','000090','.EXE.','5','aIncRes[15] := "N"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','DIASTRAB := NDIASTORIG','000092','000090','.EXE.','5','Diastrab := nDiasTOrig','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','lAltIncRes .AND. !LRET   .END.','000093','000000','.CON.','5','','','5','lAltIncRes .AND. !LRET','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDOSAL','AINCRES[15] := "N"     .END.','000094','000093','.EXE.','5','AINCRES[15] := "N"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0348    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0348( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALFER','SALARIO BASE FERIAS','','','029','2','1',} )

aAdd(aRc3Cols, { '','S_','SALFER','LFERPART := MESANO(GETMEMVAR("RH_DATAINI")) <> MESANO(GETMEM','000001','000000','.EXE.','5','lFerPart := MesAno(GetMemVar("RH_DATAINI")) <> MesAno(GetMemVar("RH_DATAFIM") + GETMEMVAR("RH_DABONPE"))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','LDIASPER  := GETMVRH("MV_DIASPER",,"1") == "1"','000002','000000','.EXE.','5','lDiasPer  := GETMVRH("MV_DIASPER",,"1") == "1"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSAL := SALARIO','000003','000000','.EXE.','5','nSal := Salario','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "H*T*G"','000004','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*T*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSAL := SALHOR','000005','000004','.EXE.','5','NSAL := SALHOR','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC == "D"','000006','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSAL := SALDIA','000007','000006','.EXE.','5','NSAL := SALDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','POSSRV(ACODFOL[72,1], SRA->RA_FILIAL, "RV_BASCAL") == "2"','000008','000000','.CON.','5','','','5','PosSrv(aCodFol[72,1], SRA->RA_FILIAL, "RV_BASCAL") == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSAL := SALMES','000009','000008','.EXE.','5','nSal := SalMes','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "H*T*G"','000010','000008','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*T*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSAL := SALHORA','000011','000010','.EXE.','5','NSAL := SALHORA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC == "D"','000012','000008','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSAL := SALDIA','000013','000012','.EXE.','5','NSAL := SALDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','!( SRA->RA_CATFUNC $ "H*T*G" )','000014','000014','.CON.','5','','','5','!( SRA->RA_CATFUNC $ "H*T*G" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSAL := SALMES','000015','000014','.EXE.','5','nSal := SALMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC == "D"','000016','000014','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSAL := SALDIA','000017','000016','.EXE.','5','NSAL := SALDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','!LDIASPER','000018','000000','.CON.','5','','','5','!lDiasPer','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_TIPOPGT == "M"','000019','000018','.CON.','5','','','5','SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "M*C*P*A*E"','000020','000019','.CON.','5','','','5','SRA->RA_CATFUNC $ "M*C*P*A*E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSALM2 := NSAL','000021','000020','.EXE.','5','nSalM1 := nSalM2 := nSal','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1  := NSAL / NDIASC','000022','000020','.EXE.','5','nSalD1 := NSAL / NDIASC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD2 := NSAL / NDIASPERF2','000023','000020','.EXE.','5','nSalD2 := NSAL / nDiasPerF2','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := NSALH2 := NSAL/ SRA->RA_HRSMES','000024','000020','.EXE.','5','nSalH1 := nSalH2 := NSAL / SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "H*T*G"','000025','000019','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*T*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','!LHOJORVA   .END.','000026','000025','.CON.','5','','','5','!LHOJORVA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSALM2 := NSAL * SRA->RA_HRSMES','000027','000026','.EXE.','5','nSalM1 := nSalM2 :=NSAL * SRA->RA_HRSMES','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSALD2 := NSAL *  (SRA->RA_HRSMES / 30)','000028','000026','.EXE.','5','nSalD1 := nSalD2 := NSAL *  (SRA->RA_HRSMES / 30)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC == "H" .AND. LHOJORVA   .END.','000029','000025','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .AND. LHOJORVA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSALM2 :=NSAL * NORMAL     .CNT.','000030','000029','.EXE.','5','NSALM1 := NSALM2 :=NSAL * NORMAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSALD2 := NSAL * (NORMAL/NDIASC)     .END.','000031','000029','.EXE.','5','NSALD1 := NSALD2 := NSAL * (NORMAL/NDIASC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','nSalH1 := nSalH2 := NSAL     .END.','000032','000025','.EXE.','5','nSalH1 := nSalH2 := NSAL','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC =="D"','000033','000019','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSALM2 := NSAL * NDIASC','000034','000033','.EXE.','5','nSalM1 := nSalM2 := NSAL * NDIASC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSALD2 := NSAL','000035','000033','.EXE.','5','nSalD1 := nSalD2 := NSAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := NSALH2 := ( NSAL * NDIASC ) / SRA->RA_HRSMES','000036','000033','.EXE.','5','nSalH1 := nSalH2 := ( NSAL * NDIASC ) / SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_TIPOPGT == "S"','000037','000018','.CON.','5','','','5','SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "S*T"','000038','000037','.CON.','5','','','5','SRA->RA_CATFUNC $ "S*T"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSALM2 := (NSAL / 7 ) * NDIASC','000039','000038','.EXE.','5','nSalM1 := nSalM2 := (NSAL / 7 ) * NDIASC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSALD2 := NSAL / 7','000040','000038','.EXE.','5','nSalD1 := nSalD2 := NSAL / 7','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := NSALH2 := ( ( NSAL / 7 ) * NDIASC  ) / SRA->RA_HRS','000041','000038','.EXE.','5','nSalH1 := nSalH2 := ( ( NSAL / 7 ) * NDIASC  ) / SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','LDIASPER','000042','000000','.CON.','5','','','5','lDiasPer','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','LFERPART','000043','000042','.CON.','5','','','5','lFerPart','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_TIPOPGT == "M"','000044','000043','.CON.','5','','','5','SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "M*C*P*A*E"','000045','000044','.CON.','5','','','5','SRA->RA_CATFUNC $ "M*C*P*A*E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1:= NSALM2:= NSAL','000046','000045','.EXE.','5','nSalM1:= nSalM2:= NSAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSAL / NDIASPERF1','000047','000045','.EXE.','5','nSalD1 := NSAL / nDiasPerF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD2 := NSAL / NDIASPERF2','000048','000045','.EXE.','5','nSalD2 := NSAL / nDiasPerF2','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := NSAL / (SRA->RA_HRSDIA * NDIASPERF1)','000049','000045','.EXE.','5','nSalH1 := NSAL / (SRA->RA_HRSDIA * nDiasPerF1)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH2 := NSAL / ( SRA->RA_HRSDIA * NDIASPERF2)','000050','000045','.EXE.','5','nSalH2 := NSAL / ( SRA->RA_HRSDIA * nDiasPerF2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "H*T*G"   .END.','000051','000044','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*T*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC == "H" .AND. LHOJORVA   .END.','000052','000051','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .AND. LHOJORVA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM2:= NSAL * (NORMAL/NDIASC) * NDIASPERF2     .CNT.','000053','000052','.EXE.','5','NSALM2:= NSAL * (NORMAL/NDIASC) * NDIASPERF2','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSAL * (NORMAL/NDIASC) * NDIASPERF1     .CNT.','000054','000052','.EXE.','5','NSALM1 := NSAL * (NORMAL/NDIASC) * NDIASPERF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1  := NSALD2 := NSAL   * (NORMAL/NDIASC)     .CNT.','000055','000052','.EXE.','5','NSALD1  := NSALD2 := NSAL   * (NORMAL/NDIASC)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1  := NSALH2 := NSAL','000056','000052','.EXE.','5','nSalH1  := nSalH2 :=NSAL','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','!LHOJORVA   .END.','000057','000051','.CON.','5','','','5','!LHOJORVA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1:= NSAL * SRA->RA_HRSDIA * NDIASPERF1','000058','000057','.EXE.','5','nSalM1:= NSAL * SRA->RA_HRSDIA * nDiasPerF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM2:= NSAL * SRA->RA_HRSDIA * NDIASPERF2','000059','000057','.EXE.','5','nSalM2:= NSAL * SRA->RA_HRSDIA * nDiasPerF2','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSALD2 := NSAL *  (SRA->RA_HRSMES / 30)','000060','000057','.EXE.','5','nSalD1 := nSalD2 := NSAL *  (SRA->RA_HRSMES / 30)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1  := NSALH2 := NSAL','000061','000057','.EXE.','5','nSalH1  := nSalH2 :=NSAL','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC == "D"','000062','000044','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSAL * NDIASPERF1','000063','000062','.EXE.','5','nSalM1 := NSAL * nDiasPerF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM2 := NSAL * NDIASPERF2','000064','000062','.EXE.','5','nSalM2 := NSAL * nDiasPerF2','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1  := NSALD2 := NSAL','000065','000062','.EXE.','5','nSalD1  := nSalD2 := NSAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1  := NSALH2 :=  NSAL /  SRA->RA_HRSDIA','000066','000062','.EXE.','5','nSalH1  := nSalH2 :=  NSAL /  SRA->RA_HRSDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_TIPOPGT == "S"','000067','000043','.CON.','5','','','5','SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "S*T"','000068','000067','.CON.','5','','','5','SRA->RA_CATFUNC $ "S*T"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1  := ( NSAL / 7 ) * NDIASPERF1','000069','000068','.EXE.','5','nSalM1  := ( NSAL / 7 ) * nDiasPerF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSAL   * SRA->RA_HRSDIA','000070','000069','.EXE.','5','nSalD1 := NSAL   * SRA->RA_HRSDIA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1    :=  NSAL','000071','000069','.EXE.','5','nSalH1    :=  NSAL','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM2  := ( NSAL / 7 ) * NDIASPERF2','000072','000068','.EXE.','5','nSalM2  := ( NSAL / 7 ) * nDiasPerF2','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1  := NSALD2 := NSAL / 7','000073','000068','.EXE.','5','nSalD1  := nSalD2 := NSAL / 7','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := NSALH2 := ( NSAL / 7) /  SRA->RA_HRSDIA','000074','000068','.EXE.','5','nSalH1 := nSalH2 := (NSAL / 7) /  SRA->RA_HRSDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','!LFERPART','000075','000042','.CON.','5','','','5','!lFerPart','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_TIPOPGT == "M"','000076','000075','.CON.','5','','','5','SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "M*C*P*A*E"','000077','000076','.CON.','5','','','5','SRA->RA_CATFUNC $ "M*C*P*A*E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1:= NSAL','000078','000077','.EXE.','5','nSalM1:= NSAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSAL / NDIASPERF1','000079','000077','.EXE.','5','nSalD1 := NSAL / nDiasPerF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := NSAL / (SRA->RA_HRSDIA * NDIASPERF1)','000080','000077','.EXE.','5','nSalH1 :=NSAL / (SRA->RA_HRSDIA * nDiasPerF1)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "H*T*G"','000081','000076','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*T*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC == "H" .AND. LHOJORVA   .END.','000082','000081','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .AND. LHOJORVA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSAL * (NORMAL/NDIASC) * NDIASPERF1     .CNT.','000083','000082','.EXE.','5','NSALM1 := NSAL * (NORMAL/NDIASC) * NDIASPERF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSAL   *  (NORMAL/NDIASC)     .CNT.','000084','000082','.EXE.','5','NSALD1 := NSAL   *  (NORMAL/NDIASC)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1    :=  NSAL     .END.','000085','000082','.EXE.','5','NSALH1    :=  NSAL','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','!LHOJORVA   .END.','000086','000081','.CON.','5','','','5','!LHOJORVA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1:= NSAL * SRA->RA_HRSDIA * NDIASPERF1','000087','000086','.EXE.','5','nSalM1:= NSAL * SRA->RA_HRSDIA * nDiasPerF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSAL   *   (SRA->RA_HRSMES / 30)','000088','000086','.EXE.','5','nSalD1 := NSAL   *   (SRA->RA_HRSMES / 30)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','nSalH1    :=  NSAL     .END.','000089','000086','.EXE.','5','nSalH1    :=  NSAL','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC == "D"','000090','000076','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSAL * NDIASPERF1','000091','000090','.EXE.','5','nSalM1 := NSAL * nDiasPerF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1  := NSAL','000092','000090','.EXE.','5','nSalD1  := NSAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := NSAL / SRA->RA_HRSDIA','000093','000090','.EXE.','5','nSalH1 := NSAL / SRA->RA_HRSDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_TIPOPGT == "S"','000094','000075','.CON.','5','','','5','SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "S*T"','000095','000094','.CON.','5','','','5','SRA->RA_CATFUNC $ "S*T"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := ( NSAL / 7 ) * NDIASPERF1','000096','000095','.EXE.','5','nSalM1 := ( NSAL / 7 ) * nDiasPerF1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSAL / 7','000097','000095','.EXE.','5','nSalD1 := NSAL / 7','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := ( NSAL / 7 ) /  SRA->RA_HRSDIA','000098','000095','.EXE.','5','nSalH1 := ( NSAL / 7 ) /  SRA->RA_HRSDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','!LDISSIDIO','000099','000000','.CON.','5','','','5','!LDISSIDIO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','SRA->RA_CATFUNC $ "I*J"','000100','000099','.CON.','5','','','5','SRA->RA_CATFUNC $ "I*J"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALM1 := NSALM2 := SALARIO := SALMES','000101','000100','.EXE.','5','NSALM1 := NSALM2 := SALARIO := SALMES','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := NSALD2 := SALDIA','000102','000100','.EXE.','5','NSALD1 := NSALD2 := SALDIA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALH1 := NSALH2 := SALHORA','000103','000100','.EXE.','5','NSALH1 := NSALH2 := SALHORA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SALHORA := NSALH1','000104','000103','.EXE.','5','SALHORA := SALHOR :=NSALH1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','SALDIA := NSALD1','000105','000103','.EXE.','5','SALDIA := SALDOR := NSALD1','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALFER','NSALD1 := SALDIA','000106','000100','.EXE.','5','NSALD1 := SALDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0349    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0349( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALHOR13','SALARIO HORA PARA O 13O. - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SALHOR13','NREG := LEN(AADIC13)     .CNT.','000001','000000','.EXE.','5','NREG := LEN(AADIC13)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','CTIPOROT == "6" .AND.  NREG > 0   .END.','000002','000000','.CON.','5','','','5','CTIPOROT == "6" .AND.  NREG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','ASORT( AADIC13 ,,, { |X,Y| X[1] < Y[1] } )     .END.','000003','000002','.EXE.','5','ASORT( AADIC13 ,,, { |X,Y| X[1] < Y[1] } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','NCONT := 1     .CNT.','000004','000002','.EXE.','5','NCONT := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','NINCORP := 0     .CNT.','000005','000002','.EXE.','5','NINCORP := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','CTIPO := ""     .CNT.','000006','000002','.EXE.','5','CTIPO := ""','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','NCONT <= NREG   .END.','000007','000002','.ENQ.','5','','','5','NCONT <= NREG','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','POSSRV(AADIC13[NCONT,1], SRA->RA_FILIAL, "RV_INCORP") == "','000008','000007','.CON.','5','','','5','POSSRV(AADIC13[NCONT,1], SRA->RA_FILIAL, "RV_INCORP") == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','NINCORP += AADIC13[NCONT,2]     .END.','000009','000008','.EXE.','5','NINCORP += AADIC13[NCONT,2]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','NCONT++     .END.','000010','000007','.EXE.','5','NCONT++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','NINCORP > 0   .END.','000011','000002','.CON.','5','','','5','NINCORP > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','NINCORP += SALARIO     .CNT.','000012','000011','.EXE.','5','NINCORP += SALARIO','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHOR13','SALHORA := NINCORP/SRA->RA_HRSMES     .END.','000013','000011','.EXE.','5','SALHORA := NINCORP/SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0350    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0350( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALHORA','SALARIO HORA DOS FUNCIONARIOS','','','033','2','1',} )

aAdd(aRc3Cols, { '','S_','SALHORA','LDIFINCORP := FDIFINCORP()','000001','000000','.EXE.','5','lDifIncorp := fDifIncorp()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_TIPOPGT == "M"','000002','000000','.CON.','5','','','5','SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_CATFUNC $ "M*C*P*A*E"','000003','000002','.CON.','5','','','5','SRA->RA_CATFUNC $ "M*C*P*A*E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHORA := IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) /  (ND','000004','000003','.EXE.','5','SALHORA := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / ROUND((nDiasC * SRA->RA_HRSDIA),2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHORA30 := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) /  (','000005','000003','.EXE.','5','SALHORA30 := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / ROUND((30 * SRA->RA_HRSDIA),2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_CATFUNC $ "H*T*G"','000006','000002','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*T*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHORA:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO)     .CN','000007','000006','.EXE.','5','SALHORA:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_CATFUNC == "H" .AND. SRA->RA_CATEG == "07" .AND. LMA','000008','000006','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .AND. SRA->RA_CATEG == "07" .AND. LMAPRENDIZ','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHOR := SALHORA','000009','000008','.EXE.','5','SALHOR := SALHORA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_CATFUNC == "D"','000010','000002','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHORA:= IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) /  SRA-','000011','000010','.EXE.','5','SALHORA:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) /  SRA->RA_HRSDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_TIPOPGT == "S"','000012','000000','.CON.','5','','','5','SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_CATFUNC == "H"','000013','000012','.CON.','5','','','5','SRA->RA_CATFUNC == "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHORA:= IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO)','000014','000013','.EXE.','5','SALHORA:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_CATEG == "07" .AND. LMAPRENDIZ','000015','000013','.CON.','5','','','5','SRA->RA_CATEG == "07" .AND. LMAPRENDIZ','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHOR := SALHORA := SALMES / ROUND((SRA->RA_HRSDIA * NDIASC','000016','000015','.EXE.','5','SALHOR := SALHORA := SALMES / ROUND((SRA->RA_HRSDIA * NDIASC),2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_CATFUNC $ "S*T*C*P*A*E"','000017','000012','.CON.','5','','','5','SRA->RA_CATFUNC $ "S*T*C*P*A*E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHORA:= (IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) / P_NT','000018','000017','.EXE.','5','SALHORA:= (IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / P_NTOTDIAS)  /  SRA->RA_HRSDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_TPCONTR == "3"','000019','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHORA:= ACONVOCACAO[4]','000020','000019','.EXE.','5','SALHORA:= ACONVOCACAO[4]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','000021','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORA','MEDSALINTE()','000022','000021','.EXE.','5','MEDSALINTE()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORA','SALHORA := ACONVOCACAO[4] / DIASTRAB','000023','000021','.EXE.','5','SALHORA := ACONVOCACAO[4] / DiasTrab','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0351    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0351( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALHORAC','SALARIO HORA CONTR. INDIVIDUAL','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','SALHORAC','SRA->RA_CATFUNC $ "P*A"  .AND. SRA->RA_TIPOPGT == "S"','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "P*A"  .and. SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORAC','SALHORA := (SRA->RA_SALARIO / 7)  /  SRA->RA_HRSDIA','000002','000001','.EXE.','5','SALHORA := (SRA->RA_SALARIO / 7)  /  SRA->RA_HRSDIA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALHORAC','SRA->RA_CATFUNC $ "P*A"  .AND. SRA->RA_TIPOPGT == "M"','000003','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "P*A"  .and. SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALHORAC','SALHORA := SRA->RA_SALARIO / NHRSCAL','000004','000003','.EXE.','5','SALHORA := SRA->RA_SALARIO / nHrsCal','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0352    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0352( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALINSAL','SALARIO BASE DE INSALUBRIDADE','','','011','2','1',} )

aAdd(aRc3Cols, { '','S_','SALINSAL','LUSASMIN .AND. ( SRA->RA_INSMIN == 999.99 .OR. SRA->RA_INSME','000001','000000','.CON.','5','','','5','lUsaSMin .And. ( SRA->RA_INSMIN == 999.99 .OR. SRA->RA_INSMED == 999.99 .OR. SRA->RA_INSMAX == 999.99 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALINSAL','LPGINSVB := .T.  .CNT.','000002','000001','.EXE.','5','lPgInsVb := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINSAL','VAL_BINSAL := VAL_SALMIN .END.','000003','000001','.EXE.','5','VAL_BINSAL := VAL_SALMIN','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINSAL','LUSASMIN  .END.','000004','000000','.CON.','5','','','5','lUsaSMin','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALINSAL','VAL_BINSAL := VAL_SALMIN .END.','000005','000004','.EXE.','5','VAL_BINSAL := VAL_SALMIN','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINSAL','!LUSASMIN  .END.','000006','000000','.CON.','5','','','5','!lUsaSMin','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALINSAL','VAL_BINSAL := SALMES .END.','000007','000006','.EXE.','5','VAL_BINSAL := SALMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINSAL','CCODINS := SPACE(3)','000008','000000','.EXE.','5','cCodIns := Space(3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINSAL','NINSAL := 0.00','000009','000000','.EXE.','5','nInSal := 0.00','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0353    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0353( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALMED','SALARIO COMPOSTO PARA MEDIA - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','SALMED','( CTIPOROT $ "1*3*7" ) .AND. ( P_NINCMED > 0 )   .END.','000001','000000','.CON.','5','','','5','( CTIPOROT $ "1*3*7" ) .AND. ( P_NINCMED > 0 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMED','SALHORA := ( NSALBASE + P_NINCMED ) / SRA->RA_HRSMES     .EN','000002','000001','.EXE.','5','SALHORA := ( NSALBASE + P_NINCMED ) / SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0354    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0354( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALMES','SALARIO MENSAL DOS FUNCIONARIOS','','','038','2','1',} )

aAdd(aRc3Cols, { '','S_','SALMES','P_ADIHOR := Type("P_ADIHOR") # "U" .And. P_ADIHOR     .CNT.','000001','000000','.EXE.','5','P_ADIHOR := Type("P_ADIHOR") # "U" .And. P_ADIHOR','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','LDIFINCORP := FDIFINCORP()','000002','000000','.EXE.','5','lDifIncorp := fDifIncorp()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_CATFUNC == "M"','000003','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES := IIF(LDIFINCORP .AND. !(LDISSIDIO .AND. CTIPOROT $','000004','000003','.EXE.','5','SALMES := IIf(lDifIncorp .AND. !(lDissidio .And. cTipoRot $ "3") ,nSalMesInc,SRA->RA_SALARIO)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_CATFUNC $ "C*P*A*E"','000005','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "C*P*A*E"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_TIPOPGT == "S"','000006','000005','.CON.','5','','','5','SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES := ( IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) / P_N','000007','000006','.EXE.','5','SALMES := ( IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / P_NTOTDIAS ) * nDiasC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_TIPOPGT == "M"','000008','000005','.CON.','5','','','5','SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES := IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO)','000009','000008','.EXE.','5','SALMES := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_CATFUNC $ "H*G*T"','000010','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "H*G*T"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','P_LDSRHRSP := TYPE("P_LDSRHRSP") # "U" .AND. P_LDSRHRSP','000011','000010','.EXE.','5','P_LDSRHRSP := TYPE("P_LDSRHRSP") # "U" .AND. P_LDSRHRSP','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_CATFUNC == "H" .AND. LHOJORVA','000012','000010','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .And. lHojorva','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES := IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) * NORMA','000013','000012','.EXE.','5','SALMES := IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * NORMAL','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','!LHOJORVA .AND. !(CTIPOROT $ "5*6")','000014','000010','.CON.','5','','','5','!lHojorva .And. !(cTipoRot $ "5*6")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES:= IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) * NHRSCA','000015','000014','.EXE.','5','SALMES:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * nHrsCal','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','P_LDSRHRSP   .END.','000016','000014','.CON.','5','','','5','P_LDSRHRSP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES:= IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) * (NPONT','000017','000016','.EXE.','5','SALMES:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * (NPONTRAB + NPONDESC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','!LHOJORVA .AND. (CTIPOROT $ "5*6" .OR. CTIPOROT == "2" .AND.','000018','000010','.CON.','5','','','5','!lHojorva .And. (cTipoRot $ "5*6" .Or. cTipoRot == "2" .And. P_ADIHOR)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES:= IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) * SRA->R','000019','000018','.EXE.','5','SALMES:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_CATFUNC == "D"','000020','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES:= IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) * NDIASC','000021','000020','.EXE.','5','SALMES:= IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) * nDiasC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_CATFUNC == "S"','000022','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES:= ( IIF(LDIFINCORP,NSALMESINC,SRA->RA_SALARIO) / P_NT','000023','000022','.EXE.','5','SALMES:= ( IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO) / P_NTOTDIAS ) * nDiasC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_CATEG == "07" .AND. LMAPRENDIZ','000024','000000','.CON.','5','','','5','SRA->RA_CATEG == "07" .and. lMAprendiz','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_CATFUNC == "H"','000025','000024','.CON.','5','','','5','SRA->RA_CATFUNC == "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','NVALOR  :=  SRA->RA_HRSMES / 5','000026','000025','.EXE.','5','nValor := SRA->RA_HRSMES / 5','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','NVALOR :=   (NVALOR * NNUMSEMANA) * IIF(LDIFINCORP,NSALMESIN','000027','000025','.EXE.','5','nValor :=   (nValor * nNumSemana) * IIf(lDifIncorp,nSalMesInc,SRA->RA_SALARIO)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES := (NVALOR * P_NTOTDIAS ) / 6','000028','000025','.EXE.','5','SALMES := (nValor * P_NTOTDIAS ) / 6','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_TPCONTR == "3"   .END.','000029','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES:= ACONVOCACAO[4] * NHRSCAL','000030','000029','.EXE.','5','SALMES:= ACONVOCACAO[4] * NHRSCAL','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','000031','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMES','MEDSALINTE()','000032','000031','.EXE.','5','MEDSALINTE()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMES','SALMES:= ACONVOCACAO[4]','000033','000031','.EXE.','5','SALMES:= ACONVOCACAO[4]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0355    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0355( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALMESCI','SALARIO MENSAL CONTR. INDIVIDUAL','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SALMESCI','SRA->RA_CATFUNC $ "P*A"  .AND. SRA->RA_TIPOPGT == "S"','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "P*A"  .and. SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMESCI','SALMES := ( SRA->RA_SALARIO / 7 ) * NDIASC','000002','000001','.EXE.','5','SALMES := ( SRA->RA_SALARIO / 7 ) * nDiasC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMESCI','SRA->RA_CATFUNC $ "P*A"  .AND. SRA->RA_TIPOPGT == "M"','000003','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "P*A"  .and. SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMESCI','SALMES :=  SRA->RA_SALARIO','000004','000003','.EXE.','5','SALMES :=  SRA->RA_SALARIO','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0356    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0356( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALMIN','SALARIO MINIMO - GFP','VAL_SALMIN','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SALMIN','LTABELAS := .T.     .CNT.','000001','000000','.EXE.','5','LTABELAS := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMIN','CFILCALC <> SRA->RA_FILIAL   .END.','000002','000000','.CON.','5','','','5','CFILCALC <> SRA->RA_FILIAL','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMIN','CFILCALC := SRA->RA_FILIAL     .CNT.','000003','000002','.EXE.','5','CFILCALC := SRA->RA_FILIAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMIN','LTABELAS := .F.     .CNT.','000004','000002','.EXE.','5','LTABELAS := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMIN','SAL_MIN(@VAL_SALMIN,CANOMES) .AND. FP_CODFOL(@ACODFOL,SRA-','000005','000002','.CON.','5','','','5','SAL_MIN(@VAL_SALMIN,CANOMES) .AND. FP_CODFOL(@ACODFOL,SRA->RA_FILIAL)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMIN','LTABELAS := .T.     .END.','000006','000005','.EXE.','5','LTABELAS := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMIN','!LTABELAS   .END.','000007','000002','.CON.','5','','','5','!LTABELAS','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMIN','FINALCALC()     .END.','000008','000007','.EXE.','5','FINALCALC()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0357    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0357( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALPROF','Composicao Sal. Professor','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','SALPROF','(SRA->RA_CATFUNC $ "I*J")','000001','000000','.CON.','','','','6','(SRA->RA_CATFUNC $ "I*J")','','','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALPROF','FSALPROF(@SALARIO,@SALHORA,@SALDIA,@SALMES,ATAREFAS,@ASALPRO','000002','000001','.EXE.','6','FSalProf(@Salario,@SalHora,@SalDia,@SalMes,aTarefas,@aSalProf)','','','','','','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0358    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0358( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALTARE','Salario Tarefeiro','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','SALTARE','SRA->RA_CATFUNC == "T" .And. Len(aTarefas) > 0','000001','000000','.CON.','','','','6','SRA->RA_CATFUNC == "T" .And. Len(aTarefas) > 0','','','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALTARE','SALMES := 0','000002','000001','.EXE.','5','SALMES := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALTARE','AEVAL(ATAREFAS, { |X| SALMES += X[2] })','000003','000001','.EXE.','6','Aeval(aTarefas, { |X| SalMes += X[2] })','','','','','','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALTARE','SALARIO := SALMES','000004','000001','.EXE.','5','SALARIO := SALMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0359    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0359( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SCONTAUT','CALC.SALARIO CONTRIBUICAO CONTR. INDIVID','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SCONTAUT','SRA->RA_CATFUNC $ "A*P"','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "A*P"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SCONTAUT','FCSALC(ACODFOL,ATSALC)','000002','000001','.EXE.','5','fCSalC(aCodfol,aTSalC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0360    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0360( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SEGVIDA','CALCULO SEGURO VIDA','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SEGVIDA','SRA->RA_SEGUROV # SPACE(02)','000001','000000','.CON.','5','','','5','SRA->RA_SEGUROV # Space(02)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGVIDA','CALSEGURO(ACODFOL,@NSEGURO,@NSEGEMP,@SEGURO_B, ASEGURO)','000002','000001','.EXE.','5','CalSeguro(aCodFol,@nSeguro,@nSegEmp,@Seguro_B, aSeguro)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0361    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0361( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SINDICFP','CONTRIBUICAO SINDICAL - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SINDICFP','!(SRA->RA_CATFUNC $ "4*7*8*9*A")   .END.','000001','000000','.CON.','5','','','5','!(SRA->RA_CATFUNC $ "4*7*8*9*A")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICFP','EMPTY(CVERBAROT)   .END.','000002','000001','.CON.','5','','','5','EMPTY(CVERBAROT)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICFP','CVERBAROT := FGETCODFOL("0068")     .END.','000003','000002','.EXE.','5','CVERBAROT := FGETCODFOL("0068")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICFP','SINDICAL(ACODFOL,@NCONTRI,"S",,NBASESIND,CVERBAROT)     .END','000004','000001','.EXE.','5','SINDICAL(ACODFOL,@NCONTRI,"S",,NBASESIND,CVERBAROT)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0362    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0362( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SIND_ANT','CARGA DA TAB. DE ADICIONAL TEMPO SERVICO','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','SIND_ANT','LFILADTS .OR. SIND_ANT <> SRA->RA_SINDICA  .END.','000001','000000','.CON.','5','','','5','LFILADTS .OR. SIND_ANT <> SRA->RA_SINDICA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SIND_ANT','CARR_ADTS(aCodfol)     .CNT.','000002','000001','.EXE.','5','CARR_ADTS(aCodfol)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SIND_ANT','LFILADTS := .F.     .CNT.','000003','000001','.EXE.','5','LFILADTS := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SIND_ANT','SIND_ANT := SRA->RA_SINDICA     .END.','000004','000001','.EXE.','5','SIND_ANT := SRA->RA_SINDICA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0363    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0363( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SLDSALFP','SALDO DE SALARIO - RESCISAO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','SLDSALFP','cVrbSaldo := aCodFol[48,1]     .CNT.','000001','000000','.EXE.','5','cVrbSaldo := aCodFol[48,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','cVrbInde := aCodFol[430,1]     .CNT.','000002','000000','.EXE.','5','cVrbInde := aCodFol[430,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','SubStr(cSuplem,1,1)=="2" .And. cVrbSaldo # SPACE(3) .And.','000003','000000','.CON.','5','','','5','SubStr(cSuplem,1,1)=="2" .And. cVrbSaldo # SPACE(3) .And. aIncRes[15]=="S" .And. !(P_CALCINF=="S")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nSaldoSal := 0.00     .CNT.','000004','000003','.EXE.','5','nSaldoSal := 0.00','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nSldDSRInd:= 0.00     .CNT.','000005','000003','.EXE.','5','nSldDSRInd:= 0.00','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nDiasInd := 0     .CNT.','000006','000003','.EXE.','5','nDiasInd := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','MesAno(dDataDem) = MesAno(DADMISSAO)   .END.','000007','000003','.CON.','5','','','5','MesAno(dDataDem) = MesAno(DADMISSAO)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nDiasSd := (Day(DADMISSAO) - 1)     .END.','000008','000007','.EXE.','5','nDiasSd := (Day(DADMISSAO) - 1)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','! lModDataDem .and. cVrbInde <> space(3) .and. P_SABDOM ==','000009','000003','.CON.','5','','','5','! lModDataDem .and. cVrbInde <> space(3) .and. LSABDOM','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','NDIASIND := IF( DDATADEM <> DDATADEM1,1,0 )     .END.','000010','000009','.EXE.','5','NDIASIND := IF( DDATADEM <> DDATADEM1,1,0 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','cPaisLoc <> "DOM"   .END.','000011','000003','.CON.','5','','','5','cPaisLoc <> "DOM"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','SRA->RA_TIPOPGT = "S"   .END.','000012','000011','.CON.','5','','','5','SRA->RA_TIPOPGT = "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nSaldoSal := Round( (NSALBASE / 30) * Diastrab,MsDecimais(1)','000013','000012','.EXE.','5','nSaldoSal := Round( (NSALBASE / 30) * Diastrab,MsDecimais(1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','SRA->RA_TIPOPGT <> "S"   .END.','000014','000011','.CON.','5','','','5','SRA->RA_TIPOPGT <> "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','DiasTrab -= ( nDiasSd + nDiasInd )     .CNT.','000015','000014','.EXE.','5','DiasTrab -= ( nDiasSd + nDiasInd )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nSaldoSal := Round( ( NSALBASE / 30) * Diastrab,MsDecimais(1','000016','000014','.EXE.','5','nSaldoSal := Round( ( NSALBASE / 30) * Diastrab,MsDecimais(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nSldDSRInd:= Round( (NSALBASE / 30) * nDiasInd,MsDecimais(1)','000017','000014','.EXE.','5','nSldDSRInd:= Round( (NSALBASE / 30) * nDiasInd,MsDecimais(1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nSaldoSal := IF (nSalDoSal-nSalPgto > 0.00,nSaldoSal-nSalPgt','000018','000011','.EXE.','5','nSaldoSal := IF (nSalDoSal-nSalPgto > 0.00,nSaldoSal-nSalPgto,0.00)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nSaldoSal > 0 .AND. aScan(aPd,{|X| x[1] == cVrbSaldo .AND.','000019','000003','.CON.','5','','','5','nSaldoSal > 0 .AND. aScan(aPd,{|X| x[1] == cVrbSaldo .AND. x[7] == "I" .AND. x[9] <> "D"}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','FGeraVerba(cVrbSaldo,nSaldoSal,DiasTrab)     .END.','000020','000019','.EXE.','5','FGeraVerba(cVrbSaldo,nSaldoSal,DiasTrab)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','nSldDSRInd > 0 .and. aScan(aPd,{|X| x[1] == cVrbInde .AND.','000021','000003','.CON.','5','','','5','nSldDSRInd > 0 .and. aScan(aPd,{|X| x[1] == cVrbInde .AND. x[7] =="I" .AND. x[9] <> "D"}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SLDSALFP','FGeraVerba(cVrbInde,nSldDsrInd,nDiasInd)     .END.','000022','000021','.EXE.','5','FGeraVerba(cVrbInde,nSldDsrInd,nDiasInd)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0364    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0364( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMAADT','Soma Codigos Adiant','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMAADT','FSOMAADIANT()','000001','000000','.EXE.','6','FSomaAdiant()','','','','','','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0365    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0365( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMACONV','SOMA CONVENCAO COLETIVA','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMACONV','nBaseCalc :=  nAdtServ  + nPeric  + nInsalub + nAdcConf + nA','000001','000000','.EXE.','5','nBaseCalc :=  nAdtServ  + nPeric  + nInsalub + nAdcConf + nAdcTrf','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0366    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0366( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMADESC','SOMA DESCONTOS','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMADESC','AEVAL( APD, { |X| SOMAINC(X,2,@NVALDESC,,,,,,,ACODFOL)})','000001','000000','.EXE.','5','aEval( aPd, { |x| Somainc(X,2,@nValDesc,,,,,,,aCodFol)})','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0367    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0367( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMAPROV','SOMA PROVENTOS','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMAPROV','AEVAL( APD, { |X| SOMAINC(X,1,@NVALPROV,,,,,,,ACODFOL)})','000001','000000','.EXE.','5','aEval( aPd, { |X| SomaInc(X,1,@nValProv,,,,,,,aCodFol)})','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0368    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0368( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMASEM','SOMA VALOR INSS SEMANA ANTERIORES','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMASEM','SRA->RA_CATFUNC $ "P*A"  .AND. SRA->RA_TIPOPGT == "S"','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "P*A"  .and. SRA->RA_TIPOPGT == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SOMASEM','NVINSSDESC := 0','000002','000001','.EXE.','5','nVInssDesc := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMASEM','AEVAL(APD,{|X| NVINSSDESC += IF(X[1] == ACODFOL[064,1] .AND.','000003','000001','.EXE.','5','Aeval(aPd,{|X| nVInssDesc += If(X[1] == aCodFol[064,1] .And. X[3] < cSemana .And. X[9] <> "D",X[5],0)})','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0369    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0369( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMDESCF','SOMA DESCONTO DE FERIAS - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMDESCF','NCOUNT := 1     .CNT.','000001','000000','.EXE.','5','NCOUNT := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMDESCF','NVALDESC := 0     .CNT.','000002','000000','.EXE.','5','NVALDESC := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMDESCF','NCOUNT <= LEN(APD)   .END.','000003','000000','.ENQ.','5','','','5','NCOUNT <= LEN(APD)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SOMDESCF','!(APD[NCOUNT,9] == "D") .AND. POSICIONE("SRV",1,XFILIAL("S','000004','000003','.CON.','5','','','5','!(APD[NCOUNT,9] == "D") .AND. POSICIONE("SRV",1,XFILIAL("SRV")+APD[NCOUNT][1],"RV_TIPOCOD") == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SOMDESCF','NVALDESC +=  APD[NCOUNT][5]     .END.','000005','000004','.EXE.','5','NVALDESC +=  APD[NCOUNT][5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMDESCF','NCOUNT++     .END.','000006','000003','.EXE.','5','NCOUNT++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0370    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0370( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMPROFE','SOMA PROVENTOS DE FERIAS','','','025','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMPROFE','CPDABONO1 := ACODFOL[74,1] + "|" + ACODFOL[79,1] + "|" + ACO','000001','000000','.EXE.','5','cPDAbono1 := aCodFol[74,1] + "|" + aCodFol[79,1] + "|" + aCodFol[94,1] + "|" + aCodFol[95,1] + "|" + aCodFol[205,1] + "|" + aCodFol[206,1] + "|" + aCodFol[207,1] + "|" + aCodFol[208,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','CPDABONO2 := ACODFOL[617,1] + "|" + ACODFOL[622,1] + "|" + A','000002','000000','.EXE.','5','cPDAbono2 := aCodFol[617,1] + "|" + aCodFol[622,1] + "|" + aCodFol[623,1] + "|" +  aCodFol[632,1] + "|" + aCodFol[633,1] + "|" + aCodFol[634,1] + "|" + aCodFol[635,1] + "|" + aCodFol[1312,1] + "|" + aCodFol[1313,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','CPDABONO3 := ACODFOL[1314,1] + "|" + ACODFOL[1315,1] + "|" +','000003','000000','.EXE.','5','cPDAbono3 := aCodFol[1314,1] + "|" + aCodFol[1315,1] + "|" + aCodFol[1316,1] + "|" + aCodFol[1317,1] + "|" + aCodFol[1318,1] + "|" + aCodFol[1319,1] + "|" + aCodFol[1320,1] + "|" + aCodFol[1321,1] + "|" + aCodFol[1322,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','CPDABONO4 := ACODFOL[1323,1] + "|" + ACODFOL[1324,1] + "|" +','000004','000000','.EXE.','5','cPdAbono4 := aCodFol[1323,1] + "|" + aCodFol[1324,1] + "|" + aCodFol[1325,1] + "|" + aCodFol[1326,1] + "|" + aCodFol[1327,1] + "|" + aCodFol[1330,1] + "|" + aCodFol[1331,1] + "|" + aCodFol[1372,1] + "|" + aCodFol[1381,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','CPDABONO5 := ACODFOL[224,1] + "|" + ACODFOL[226,1]','000005','000000','.EXE.','5','cPdAbono5 := aCodFol[224,1] + "|" + aCodFol[226,1] + "|" + aCodFol[1407,1] + "|" + aCodFol[1408,1] + "|" + aCodFol[1409,1] + "|" + aCodFol[1410,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','CPDABTOT  := CPDABONO1 + "|" + CPDABONO2 + "|" + CPDABONO3 +','000006','000000','.EXE.','5','cPdAbTot  := cPDAbono1 + "|" + cPDAbono2 + "|" + cPDAbono3 + "|" + cPdAbono4 + "|" + cPdAbono5','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','Aeval(aPd,{ |X| If(!(x[1] = aCodFol[77,1]) .And. !(x[1] = aC','000007','000000','.EXE.','5','Aeval(aPd,{ |X| If(!(x[1] = aCodFol[77,1]) .And. !(x[1] = aCodFol[78,1]) .And. !(x[1] $ cPdAbTot), SOMAINC(X,11,@NVALPROV, , , , , , ,ACODFOL),nValProv)  })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','FCODABON(@NVALPROV, 1)','000008','000000','.EXE.','5','fCodAbon(@NVALPROV, 1)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','NVALPROV > 0   .END.','000009','000000','.CON.','5','','','5','NVALPROV > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','FINDFUNCTION('+"'"+'FPENSAOAPD'+"'"+')   .END.','000010','000009','.CON.','5','','','5','FINDFUNCTION('+"'"+'FPENSAOAPD'+"'"+')','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','NVALDESC := FPENSAOAPD()     .CNT.','000011','000010','.EXE.','5','NVALDESC := FPENSAOAPD()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROFE','NVALPROV += NVALDESC     .END.','000012','000010','.EXE.','5','NVALPROV += NVALDESC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0371    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0371( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMPROVF','SOMA PROVENTOS DE FERIAS - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMPROVF','NVALPROV := 0     .CNT.','000001','000000','.EXE.','5','NVALPROV := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROVF','NCOUNT := 1     .CNT.','000002','000000','.EXE.','5','NCOUNT := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROVF','NCOUNT <= LEN(APD)   .END.','000003','000000','.ENQ.','5','','','5','NCOUNT <= LEN(APD)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SOMPROVF','!(APD[NCOUNT,9] == "D") .AND. POSICIONE("SRV",1,XFILIAL("S','000004','000003','.CON.','5','','','5','!(APD[NCOUNT,9] == "D") .AND. POSICIONE("SRV",1,XFILIAL("SRV")+APD[NCOUNT][1],"RV_TIPOCOD") == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SOMPROVF','NVALPROV +=  APD[NCOUNT][5]     .END.','000005','000004','.EXE.','5','NVALPROV +=  APD[NCOUNT][5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SOMPROVF','NCOUNT++     .END.','000006','000003','.EXE.','5','NCOUNT++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0372    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0372( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SUBPENFP','SUBTRAI PENSAO - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SUBPENFP','nLinha := 0     .CNT.','000001','000000','.EXE.','5','nLinha := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBPENFP','fBusCadBenef( @aCodBenef )     .CNT.','000002','000000','.EXE.','5','fBusCadBenef( @aCodBenef )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBPENFP','nRegs := Len(aCodBenef)     .CNT.','000003','000000','.EXE.','5','nRegs := Len(aCodBenef)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBPENFP','nLinha < nRegs   .END.','000004','000000','.ENQ.','5','','','5','nLinha < nRegs','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SUBPENFP','nLinha++     .CNT.','000005','000004','.EXE.','5','nLinha++','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBPENFP','NPOS := ASCAN(APD, {|X| X[1] == ACODBENEF[NLINHA,1] })     .','000006','000004','.EXE.','5','NPOS := ASCAN(APD, {|X| X[1] == ACODBENEF[NLINHA,1] })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBPENFP','NPOS > 0 .AND. APD[NPOS][9] <> "D"   .END.','000007','000004','.CON.','5','','','5','NPOS > 0 .AND. APD[NPOS][9] <> "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBPENFP','PosSrv(aCodBenef[nLinha,1],SRA->RA_FILIAL,"RV_TIPOCOD") $','000008','000007','.CON.','5','','','5','PosSrv(aCodBenef[nLinha,1],SRA->RA_FILIAL,"RV_TIPOCOD") $ "1*2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBPENFP','N13SAL -= APD[NPOS][5]     .END.','000009','000008','.EXE.','5','N13SAL -= APD[NPOS][5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0373    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0373( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SUBSTITU','CALCULO DE SUBSTITUICOES - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SUBSTITU','NSALSUBTO := NSALCOMIS   /* SUBSIDIO DO SUBSTITUTO */','000001','000000','.EXE.','5','NSALSUBTO := NSALCOMIS   /* SUBSIDIO DO SUBSTITUTO */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','CCATEG := SRA->RA_CATFUNC','000002','000000','.EXE.','5','CCATEG := SRA->RA_CATFUNC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NPERC := SUPERGETMV("MV_VDFDCOM" , ,15 ) / 100','000003','000000','.EXE.','5','NPERC := SUPERGETMV("MV_VDFDCOM" , ,15 ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NVLPG1 := NVLPG2 := NVLTOT := 0','000004','000000','.EXE.','5','NVLPG1 := NVLPG2 := NVLTOT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','RI8->(DBSETORDER(2))   /* UTILIZA INDICE 2 - REFERENTE AO SU','000005','000000','.EXE.','5','RI8->(DbSetOrder(2))   /* UTILIZA INDICE 2 - REFERENTE AO SUBSTITUTO */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','RI8->(DBSEEK(SRA->RA_FILIAL + SRA->RA_MAT))','000006','000000','.CON.','5','','','5','RI8->(DbSeek(SRA->RA_FILIAL + SRA->RA_MAT))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','( RI8->(!EOF()) .AND. ( SRA->(RA_FILIAL+RA_MAT) == RI8->(RI8','000007','000006','.ENQ.','5','','','5','( RI8->(!EOF()) .AND. ( SRA->(RA_FILIAL+RA_MAT) == RI8->(RI8_FILIAL+RI8_MATSUB) ) )','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','( CANOMES >= MESANO(RI8->RI8_DATADE) .AND. CANOMES <= MESANO','000008','000007','.CON.','5','','','5','( CANOMES >= MESANO(RI8->RI8_DATADE) .AND. CANOMES <= MESANO(RI8->RI8_DATATE)  )  .AND. RI8->RI8_FATGER $ "1*2" .AND. RI8->RI8_DIAS >= RI8->RI8_DIASDI','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NVLPG1 := NVLPG2 := 0','000009','000008','.EXE.','5','NVLPG1 := NVLPG2 := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','DINI := IF( RI8->RI8_DATADE < DDATADE , DDATADE , RI8->RI8_D','000010','000008','.EXE.','5','DINI := IF( RI8->RI8_DATADE < DDATADE , DDATADE , RI8->RI8_DATADE )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','DFIM := IF( RI8->RI8_DATATE > DDATAATE , DDATAATE , RI8->RI8','000011','000008','.EXE.','5','DFIM := IF( RI8->RI8_DATATE > DDATAATE , DDATAATE , RI8->RI8_DATATE )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NDDIR := (DFIM - DINI) + 1','000012','000008','.EXE.','5','NDDIR := (DFIM - DINI) + 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','AAREASRA := SRA->(GETAREA())','000013','000008','.EXE.','5','AAREASRA := SRA->(GETAREA())','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NSALSUBDO := FBUSCASAL1(DINI, RI8->RI8_FILIAL, RI8->RI8_MAT,','000014','000008','.EXE.','5','NSALSUBDO := FBUSCASAL1(DINI, RI8->RI8_FILIAL, RI8->RI8_MAT, .T., NSALSUBTO )   /* SUBSIDIO DO SUBSTITUIDO NA EPOCA DA SUBSTITUICAO */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','RESTAREA(AAREASRA)','000015','000008','.EXE.','5','RESTAREA(AAREASRA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NVLPG1 := NSALSUBDO - NSALSUBTO','000016','000008','.EXE.','5','NVLPG1 := NSALSUBDO - NSALSUBTO','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','SE O SUBSTITUTO FOR SERVIDOR EFETIVO, EFETUA O 2O CALCULO','000017','000008','.MSG.','5','SE O SUBSTITUTO FOR SERVIDOR EFETIVO, EFETUA O 2O CALCULO','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','CCATEG == "2"','000018','000008','.CON.','5','','','5','CCATEG == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NVLPG2 := NSALSUBDO * NPERC','000019','000018','.EXE.','5','NVLPG2 := NSALSUBDO * NPERC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NVLTOT += ( ( IF(NVLPG1 > NVLPG2 , NVLPG1 , NVLPG2 ) ) / 30','000020','000008','.EXE.','5','NVLTOT += ( ( IF(NVLPG1 > NVLPG2 , NVLPG1 , NVLPG2 ) ) / 30 ) * NDDIR','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','RI8->(DBSKIP())','000021','000007','.EXE.','5','RI8->(DbSkip())','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NPOS := ASCAN(APD,{ |X| X[1] == ACODFOL[1373,1] } )','000022','000000','.EXE.','5','NPOS := ASCAN(APD,{ |X| X[1] == ACODFOL[1373,1] } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','NVLTOT > 0 .AND. ( NPOS == 0 .OR. ( NPOS > 0 .AND. !(APD[NPO','000023','000000','.CON.','5','','','5','NVLTOT > 0 .AND. ( NPOS == 0 .OR. ( NPOS > 0 .AND. !(aPD[NPOS,7] == "I") ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBSTITU','FGERAVERBA(ACODFOL[1373,1],ROUND(NVLTOT, MSDECIMAIS(1)))','000024','000023','.EXE.','5','fGeraVerba(ACODFOL[1373,1],Round(NVLTOT, MSDECIMAIS(1)))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0374    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0374( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SUMALL01','SOMA VRB FALTAS TODOS ROTEIROS - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','SUMALL01','n1Parc13 := 0     .CNT.','000001','000000','.EXE.','5','n1Parc13 := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','nAPDCount := 0     .CNT.','000002','000000','.EXE.','5','nAPDCount := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','!(CTIPOROT == "4") .OR. (CTIPOROT == "4" .AND. SUBSTR(CSUP','000003','000000','.CON.','5','','','5','!(CTIPOROT == "4") .OR. (CTIPOROT == "4" .AND. SUBSTR(CSUPLEM,1,1) == "2")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','cVrbsFalt := "0054*0242*0203*1364*1365*0244*1363*1366*1367"','000004','000003','.EXE.','5','cVrbsFalt := "0054*0242*0203*1364*1365*0244*1363*1366*1367"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','cVrbs13 := "0022*0028"     .CNT.','000005','000003','.EXE.','5','cVrbs13 := "0022*0028"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','CROTEIROS := FCROTEIROS(CTIPOROT)     .CNT.','000006','000003','.EXE.','5','CROTEIROS := FCROTEIROS(CTIPOROT)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','NVLBSTETO := NVLINSSPAG := NBSINSSTOT := NIRVLPGANT := NIRBA','000007','000003','.EXE.','5','NVLBSTETO := NVLINSSPAG := NBSINSSTOT := NIRVLPGANT := NIRBASEANT := NIRVLDEPEN := NVLINATANT := NVLINACANT := NDIASAUX := NDIASFAL := NDIASFALDE := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','nPos := 1     .CNT.','000008','000003','.EXE.','5','nPos := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','aSRCFaltas := {}     .CNT.','000009','000003','.EXE.','5','aSRCFaltas := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','cVrbsAll := cVrbsFalt + "*" + cVrbs13     .CNT.','000010','000003','.EXE.','5','cVrbsAll := cVrbsFalt + "*" + cVrbs13','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','fFaltaSRC (@aSRCFaltas, CPERIODO, CROTEIROS, cVrbsAll )','000011','000003','.EXE.','5','fFaltaSRC (@aSRCFaltas, CPERIODO, CROTEIROS, cVrbsAll )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','nPos <= LEN(aSRCFaltas)   .END.','000012','000003','.ENQ.','5','','','5','nPos <= LEN(aSRCFaltas)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','CCMT := "SE O ROTEIRO, PERIODO E NR PAGAMENTO QUE ESTA SENDO','000013','000012','.EXE.','5','CCMT := "SE O ROTEIRO, PERIODO E NR PAGAMENTO QUE ESTA SENDO CALCULADO NESSE MOMENTO, FOR O MESMO QUE JÁ EXISTE NO ARRAY, E TAMBEM O ROTEIRO NAO ESTIVER NO CROTEIROS, DESCONSIDERA"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','!(ASRCFALTAS[NPOS, 1] == C__ROTEIRO .AND. ASRCFALTAS[NPOS,','000014','000012','.CON.','5','','','5','!(ASRCFALTAS[NPOS, 1] == C__ROTEIRO .AND. ASRCFALTAS[NPOS, 8] == CNUMPAG) .AND. aSRCFaltas[nPos, 1] $ CROTEIROS','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','CCMT := "FALTAS E DEVOLUCOES DE FALTAS"     .CNT.','000015','000014','.EXE.','5','CCMT := "FALTAS E DEVOLUCOES DE FALTAS"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','aSRCFaltas[nPos,7] $ ("0054*0242*0203*1364*1365"  +  "0244','000016','000014','.CON.','5','','','5','aSRCFaltas[nPos,7] $ ("0054*0242*0203*1364*1365"  +  "0244*1363*1366*1367") /* FALTAS E DEVOLUCAO DE FALTAS */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','aSrcFaltas[nPos,2] $ "D*V"   .END.','000017','000016','.CON.','5','','','5','aSrcFaltas[nPos,2] $ "D*V"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','NDIASAUX := aSRCFaltas[nPos,3]     .END.','000018','000017','.EXE.','5','NDIASAUX := aSRCFaltas[nPos,3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','aSrcFaltas[nPos,2] == "H"   .END.','000019','000016','.CON.','5','','','5','aSrcFaltas[nPos,2] == "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','NDIAINT := (aSrcFaltas[nPos,3]  / (SRA->RA_HRSMES / 30)) - I','000020','000019','.EXE.','5','NDIAINT := (aSrcFaltas[nPos,3]  / (SRA->RA_HRSMES / 30)) - INT( aSrcFaltas[nPos,3] / (SRA->RA_HRSMES / 30))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','LIF:= ( NDIAINT < 0.5 )   .END.','000021','000019','.CON.','5','','','5','LIF:= ( NDIAINT < 0.5 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','NDIASAUX := INT( aSrcFaltas[nPos,3] / ( SRA->RA_HRSMES / 30)','000022','000021','.EXE.','5','NDIASAUX := INT( aSrcFaltas[nPos,3] / ( SRA->RA_HRSMES / 30))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','!lIf   .END.','000023','000019','.CON.','5','','','5','!lIf','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','NDIASAUX := ( INT( ASRCFaltas[nPos,3] / ( SRA->RA_HRSMES / 3','000024','000023','.EXE.','5','NDIASAUX := ( INT( ASRCFaltas[nPos,3] / ( SRA->RA_HRSMES / 30)) + 1 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','ASRCFaltas[nPos, 6] $ "2*4"   .END.','000025','000016','.CON.','5','','','5','ASRCFaltas[nPos, 6] $ "2*4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','NDIASFAL += NDIASAUX     .END.','000026','000025','.EXE.','5','NDIASFAL += NDIASAUX','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','aSRCFaltas[nPos, 6] $ "1*3"   .END.','000027','000016','.CON.','5','','','5','aSRCFaltas[nPos, 6] $ "1*3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','NDIASFALDE += NDIASAUX     .END.','000028','000027','.EXE.','5','NDIASFALDE += NDIASAUX','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','LSUM01 := .T.     .END.','000029','000016','.EXE.','5','LSUM01 := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','CTIPOROT == "4" .And. aSRCFaltas[nPos,7] $ cVrbs13 /* 1a.P','000030','000012','.CON.','5','','','5','CTIPOROT == "4" .And. aSRCFaltas[nPos,7] $ cVrbs13 /* 1a.Parc.13o.Salario */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','n1Parc13 += aSRCFaltas[nPos, 5]     .CNT.','000031','000030','.EXE.','5','n1Parc13 += aSRCFaltas[nPos, 5]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','nPosAPD := aScan(aPD { |x| x[1] == aSRCFaltas[nPos, 4] .An','000032','000030','.CON.','5','','','5','(nPosAPD := aScan(aPD, { |x| x[1] == aSRCFaltas[nPos, 4] .And. x[9] # '+"'"+'D'+"'"+'})) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','aPD[nPosAPD,9] := "D"     .END.','000033','000032','.EXE.','5','aPD[nPosAPD,9] := "D"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','nPos++     .END.','000034','000012','.EXE.','5','nPos++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','n1Parc13 > 0   .END.','000035','000003','.CON.','5','','','5','n1Parc13 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','CVB0116 := FGETCODFOL("00116")     .CNT.','000036','000035','.EXE.','5','CVB0116 := FGETCODFOL("00116")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','Ascan(aPd, { |X| X[1] = CVB0116 .And. X[7] == '+"'"+'I'+"'"+' .And. X[','000037','000035','.CON.','5','','','5','Ascan(aPd, { |X| X[1] = CVB0116 .And. X[7] == '+"'"+'I'+"'"+' .And. X[9] # '+"'"+'D'+"'"+' } ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','AEval(aPD, { | x | IIf( x[1] == CVB0116 .AND. x[9] <> "D", n','000038','000037','.EXE.','5','AEval(aPD, { | x | IIf( x[1] == CVB0116 .AND. x[9] <> "D", nApdCount++, )})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','NSEQ := iif(nApdCount > 0, STR(nApdCount)," ")     .CNT.','000039','000037','.EXE.','5','NSEQ := iif(nApdCount > 0, STR(nApdCount)," ")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALL01','FGeraVerba(CVB0116,ROUND(n1Parc13, MSDECIMAIS(1)),0,,,,,,,,,','000040','000037','.EXE.','5','FGeraVerba(CVB0116,ROUND(n1Parc13, MSDECIMAIS(1)),0,,,,,,,,,,,nSeq)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0375    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0375( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SUMALLRT','SOMA VERBAS TODOS ROTEIROS - GFP','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','SUMALLRT','CROTEIROS := FCROTEIROS(CTIPOROT)     .CNT.','000001','000000','.EXE.','5','CROTEIROS := FCROTEIROS(CTIPOROT)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','5 OU 6 = 13o , DEMAIS = INSS FOLHA E FERIAS, QUE TEM QUE SER','000002','000000','.MSG.','5','5 OU 6 = 13o DEMAIS = INSS FOLHA E FERIAS, QUE TEM QUE SER A MESMA BASE','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','cRotINSS := fcRoteiros( If( cTipoRot $ "5/6" , cTipoRot , "1','000003','000000','.EXE.','5','cRotINSS := fcRoteiros( If( cTipoRot $ "5/6" , cTipoRot , "1/2/3/7" ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','cRotAll := cRoteiros + "/"  + cRotINSS     .END.','000004','000000','.EXE.','5','cRotAll := cRoteiros + "/"  + cRotINSS','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NVLBSTETO := NVLINSSPAG := NBSINSSTOT := NIRVLPGANT := NIRBA','000005','000000','.EXE.','5','NVLBSTETO := NVLINSSPAG := NBSINSSTOT := NIRVLPGANT := NIRBASEANT := NIRVLDEPEN := NVLINATANT := NVLINACANT := NDIASAUX := NDIASFAL := NDIASFALDE := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','nPos := 1     .CNT.','000006','000000','.EXE.','5','nPos := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas := {}     .CNT.','000007','000000','.EXE.','5','aSRCFaltas := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','CVRBSALL := "0054*0242*0203*1364*1365*0244*1363*1366*1367*00','000008','000000','.EXE.','5','CVRBSALL := "0054*0242*0203*1364*1365*0244*1363*1366*1367*0015*0016*0027*0066*0067*0071*0059*0060*0062*0013*0014*0019*0020*0064*0065*0070*1374*1382*1662*1663*1664*1665"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ASRCFALTAS -> [1]RC_ROTEIR, [2]RC_TIPO1,[3] RC_HORAS,[4] RC_','000009','000000','.MSG.','5','ASRCFALTAS -> [1]RC_ROTEIR, [2]RC_TIPO1,[3] RC_HORAS,[4] RC_PD,[5] RC_VALOR, [6] RV_TIPOCOD,  [7] RV_CODFOL, [8] RC_SEMANA, [9] RV_ACUMAUX','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','fFaltaSRC(@aSRCFaltas, CPERIODO, CROTEIROS, CVRBSALL )     .','000010','000000','.EXE.','5','fFaltaSRC(@aSRCFaltas, CPERIODO, CROTEIROS, CVRBSALL )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','nPos <= LEN(aSRCFaltas)   .END.','000011','000000','.ENQ.','5','','','5','nPos <= LEN(aSRCFaltas)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','CCMT := "SE O ROTEIRO, PERIODO E NR PAGAMENTO QUE ESTA SENDO','000012','000011','.EXE.','5','CCMT := "SE O ROTEIRO, PERIODO E NR PAGAMENTO QUE ESTA SENDO CALCULADO NESSE MOMENTO, FOR O MESMO QUE JÁ EXISTE NO ARRAY, E TAMBEM O ROTEIRO NAO ESTIVER NO CROTEIROS, DESCONSIDERA"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','!(aSRCFaltas[nPos, 1] == C__ROTEIRO .AND. aSRCFaltas[nPos,','000013','000011','.CON.','5','','','5','!(aSRCFaltas[nPos, 1] == C__ROTEIRO .AND. aSRCFaltas[nPos, 8] == CNUMPAG) .AND. aSRCFaltas[nPos, 1] $ CROTEIROS','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','CCMT := "BASE PARA O REDUTOR DE TETO"     .CNT.','000014','000013','.EXE.','5','CCMT := "BASE PARA O REDUTOR DE TETO"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 1] == C__ROTEIRO .AND. "001S" $ aSRCFalta','000015','000013','.CON.','5','','','5','aSRCFaltas[nPos, 1] == C__ROTEIRO .AND. "001S" $ aSRCFaltas[nPos, 9]  .OR. aSRCFaltas[nPos, 7] == "1370"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NVLBSTETO := IF( aSRCFaltas[nPos, 6] $ "1*3", NVLBSTETO + aS','000016','000015','.EXE.','5','NVLBSTETO := IF( aSRCFaltas[nPos, 6] $ "1*3", NVLBSTETO + aSRCFaltas[nPos, 5] , NVLBSTETO - aSRCFaltas[nPos, 5] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','FALTAS E DEVOLUCAO DE FALTAS     .CNT.','000017','000013','.MSG.','5','FALTAS E DEVOLUCAO DE FALTAS','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','CCMT := "FALTAS E DEVOLUCOES DE FALTAS"     .CNT.','000018','000013','.EXE.','5','CCMT := "FALTAS E DEVOLUCOES DE FALTAS"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','!LSUM01 .AND. aSRCFaltas[nPos, 7] $ ("0054*0242*0203*1364*','000019','000013','.CON.','5','','','5','!LSUM01 .AND. aSRCFaltas[nPos, 7] $ ("0054*0242*0203*1364*1365" + "0244*1363*1366*1367")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 2] $ "D*V"   .END.','000020','000019','.CON.','5','','','5','aSRCFaltas[nPos, 2] $ "D*V"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NDIASAUX := aSRCFaltas[nPos, 3]     .END.','000021','000020','.EXE.','5','NDIASAUX := aSRCFaltas[nPos, 3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 2] $ "D*V"  == "H"   .END.','000022','000019','.CON.','5','','','5','aSRCFaltas[nPos, 2] $ "D*V"  == "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NDIAINT := ( aSRCFaltas[nPos, 3] / (SRA->RA_HRSMES / 30)) -','000023','000022','.EXE.','5','NDIAINT := ( aSRCFaltas[nPos, 3] / (SRA->RA_HRSMES / 30)) - INT( aSRCFaltas[nPos, 3] / (SRA->RA_HRSMES / 30))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','LIF:= ( NDIAINT < 0.5 )   .END.','000024','000022','.CON.','5','','','5','LIF:= ( NDIAINT < 0.5 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NDIASAUX := INT( aSRCFaltas[nPos, 3] / ( SRA->RA_HRSMES / 30','000025','000024','.EXE.','5','NDIASAUX := INT( aSRCFaltas[nPos, 3] / ( SRA->RA_HRSMES / 30))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','!lIf   .END.','000026','000022','.CON.','5','','','5','!lIf','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NDIASAUX := ( INT( aSRCFaltas[nPos, 3] / ( SRA->RA_HRSMES /','000027','000026','.EXE.','5','NDIASAUX := ( INT( aSRCFaltas[nPos, 3] / ( SRA->RA_HRSMES / 30)) + 1 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 6] $ "1*3"   .END.','000028','000019','.CON.','5','','','5','aSRCFaltas[nPos, 6] $ "1*3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NDIASFAL += NDIASAUX     .END.','000029','000028','.EXE.','5','NDIASFAL += NDIASAUX','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 6] $ "2*4"   .END.','000030','000019','.CON.','5','','','5','aSRCFaltas[nPos, 6] $ "2*4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NDIASFALDE += NDIASAUX     .END.','000031','000030','.EXE.','5','NDIASFALDE += NDIASAUX','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','SOMA A BASE DO IRRF / BASE IR FERIAS / BASE IR 13     .CNT.','000032','000013','.MSG.','5','SOMA A BASE DO IRRF / BASE IR FERIAS / BASE IR 13','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','CCMT := "SOMA A BASE DO IRRF"     .CNT.','000033','000013','.EXE.','5','CCMT := "SOMA A BASE DO IRRF"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 7] $ "0015*0016*0027" /* SOMA A BASE DO I','000034','000013','.CON.','5','','','5','aSRCFaltas[nPos, 7] $ "0015*0016*0027"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NIRBASEANT += aSRCFaltas[nPos, 5]     .END.','000035','000034','.EXE.','5','NIRBASEANT += aSRCFaltas[nPos, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ARMAZENA O IRRF JA PAGO / IR FERIAS / IR 13     .CNT.','000036','000013','.MSG.','5','ARMAZENA O IRRF JA PAGO / IR FERIAS / IR 13','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 7] $ "0066*0067*0071" /* ARMAZENA O IRRF','000037','000013','.CON.','5','','','5','aSRCFaltas[nPos, 7] $ "0066*0067*0071"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NIRVLPGANT += aSRCFaltas[nPos, 5]     .END.','000038','000037','.EXE.','5','NIRVLPGANT += aSRCFaltas[nPos, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ARMAZENA VALOR DEPENDENTES ANTERIOR / FERIAS / 13     .CNT.','000039','000013','.MSG.','5','ARMAZENA VALOR DEPENDENTES ANTERIOR / FERIAS / 13','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 7]  $ "0059*0060*0062" /* ARMAZENA VALOR','000040','000013','.CON.','5','','','5','aSRCFaltas[nPos, 7]  $ "0059*0060*0062"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NIRVLDEPEN += aSRCFaltas[nPos, 5]     .END.','000041','000040','.EXE.','5','NIRVLDEPEN += aSRCFaltas[nPos, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','CTXT := "TRATAMENTO EH ESPECIFICO PARA INSS PRECISA CONSIDER','000042','000011','.EXE.','5','CTXT := "TRATAMENTO EH ESPECIFICO PARA INSS PRECISA CONSIDERAR BASES ROTEIROS DE FOLHA E  FERIAS COMO SENDO O MESMO"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','(!( aSRCFaltas[nPos, 1] == C__ROTEIRO .AND. aSRCFaltas[nPo','000043','000011','.CON.','5','','','5','(!( aSRCFaltas[nPos, 1] == C__ROTEIRO .AND. aSRCFaltas[nPos, 8] == CNUMPAG) .AND. ( aSRCFaltas[nPos, 1] $ CROTINSS))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','CCMT := "SOMA A BASE DO INSS"     .CNT.','000044','000043','.EXE.','5','CCMT := "SOMA A BASE DO INSS"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','SOMA A BASE DO INSS / INSS 13     .CNT.','000045','000043','.MSG.','5','SOMA A BASE DO INSS / INSS 13','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ASRCFALTAS[NPOS, 7] $ "0013*0014*0019*0020*1662*1663*1664"','000046','000043','.CON.','5','','','5','ASRCFALTAS[NPOS, 7] $ "0013*0014*0019*0020*1662*1663*1664"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NBSINSSTOT += aSRCFaltas[nPos, 5]     .END.','000047','000046','.EXE.','5','NBSINSSTOT += aSRCFaltas[nPos, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ARMAZENA O INSS JA PAGO - INSS FERIAS - INSS 13 / INSS REGIM','000048','000043','.MSG.','5','ARMAZENA O INSS JA PAGO - INSS FERIAS - INSS 13 / INSS REGIME PROPRIO','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ASRCFALTAS[NPOS, 7] $ "0064*0065*0070*1374*1382*1665"','000049','000043','.CON.','5','','','5','ASRCFALTAS[NPOS, 7] $ "0064*0065*0070*1374*1382*1665"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NVLINSSPAG += aSRCFaltas[nPos, 5]     .END.','000050','000049','.EXE.','5','NVLINSSPAG += aSRCFaltas[nPos, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ARMAZENA O INSS ATE LIMITE ANTERIOR / ATE LIMITE 13     .CNT','000051','000043','.MSG.','5','ARMAZENA O INSS ATE LIMITE ANTERIOR / ATE LIMITE 13','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ASRCFALTAS[NPOS, 7]  $ "0013*0019*1663"','000052','000043','.CON.','5','','','5','ASRCFALTAS[NPOS, 7]  $ "0013*0019*1663"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NVLINATANT += aSRCFaltas[nPos, 5]     .END.','000053','000052','.EXE.','5','NVLINATANT += aSRCFaltas[nPos, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','ARMAZENA O INSS ACIMA LIMITE ANTERIOR / ACIMA LIMITE 13','000054','000043','.MSG.','5','ARMAZENA O INSS ACIMA LIMITE ANTERIOR / ACIMA LIMITE 13','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','aSRCFaltas[nPos, 7] $ "0014*0020" /* ARMAZENA O INSS ACIMA','000055','000043','.CON.','5','','','5','aSRCFaltas[nPos, 7] $ "0014*0020"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','NVLINACANT += aSRCFaltas[nPos, 5]     .END.','000056','000055','.EXE.','5','NVLINACANT += aSRCFaltas[nPos, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMALLRT','nPos++     .END.','000057','000011','.EXE.','5','nPos++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0376    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0376( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SUMLICPR','SOMA VERBAS DE LICENCA PREMIO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','SUMLICPR','LGRV := .F.','000001','000000','.EXE.','5','LGRV := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NHORAS := 0','000002','000000','.EXE.','5','NHORAS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NVALOR := 0','000003','000000','.EXE.','5','NVALOR := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NHR1333 := 0','000004','000000','.EXE.','5','NHR1333 := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','CVRB1333 := ACODFOL[1333,1]','000005','000000','.EXE.','5','CVRB1333 := aCodFol[1333,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NPOS := ASCAN(APD, {|X| X[1] == CVRB1333})','000006','000000','.EXE.','5','nPos := aScan(aPD, {|x| x[1] == cVrb1333})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NPOS == 0 .OR. APD[NPOS,9] == "D"   /* NÃO POSSUI A VERBA OU','000007','000000','.CON.','5','','','5','nPos == 0 .OR. aPD[nPos,9] == "D"   /* nao possui a verba ou esta deletada */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','LDELETA := .T.','000008','000007','.EXE.','5','LDELETA := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','ASCAN(APD,{|X| X[1] == CVRB1333 .AND. !(X[9] == "D")},NPOS+1','000009','000007','.CON.','5','','','5','aScan(aPD,{|x| x[1] == cVrb1333 .AND. !(x[9] == "D")},nPos+1) > 0   /* caso tenha outro lancamento da verba cvrb1333 e que nao esteja deletado no array */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','LDELETA := .F.','000010','000009','.EXE.','5','LDELETA := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','LDELETA','000011','000007','.CON.','5','','','5','LDELETA','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','AEVAL( APD , { |X| X[9] := "D"})   /* DELETA TODAS AS VERBAS','000012','000011','.EXE.','5','aEval( aPD , { |x| x[9] := "D"})   /* deleta todas as verbas do aPD */','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NPOS > 0 .AND. !(APD[NPOS,9] == "D")   /* TEM A VERBA E NÃO','000013','000000','.CON.','5','','','5','nPos > 0 .AND. !(aPD[nPos,9] == "D")   /* tem a verba e nao esta deletada */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NHR1333 := APD[NPOS,4]','000014','000013','.EXE.','5','NHR1333 := aPD[nPos,4]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NPOS := 1','000015','000013','.EXE.','5','nPos := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NLENAPD := LEN(APD)','000016','000013','.EXE.','5','nLenApd := Len(aPD)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NPOS <= NLENAPD','000017','000013','.ENQ.','5','','','5','nPos <= nLenApd','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','!(APD[NPOS,9] == "D") .AND. ("004S" $ POSSRV(aPD[nPos,1], SR','000018','000017','.CON.','5','','','5','!(aPD[nPos,9] == "D") .AND. ("004S" $ POSSRV(aPD[nPos,1], SRA->RA_FILIAL, "RV_ACUMAUX"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','APD[NPOS,1] == CVRB1333','000019','000018','.CON.','5','','','5','aPD[nPos,1] == CVRB1333','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NHORAS := NHR1333','000020','000019','.EXE.','5','NHORAS := NHR1333','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NVALOR := NVALOR + APD[NPOS,5]','000021','000019','.EXE.','5','NVALOR := NVALOR + aPD[nPos,5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','!(APD[NPOS,1] == CVRB1333)','000022','000018','.CON.','5','','','5','!(aPD[nPos,1] == CVRB1333)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NHR1333 > 0','000023','000022','.CON.','5','','','5','NHR1333 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','APD[NPOS,4] > 0','000024','000023','.CON.','5','','','5','aPD[nPos,4] > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','SRV->RV_TIPOCOD $ "1*3"','000025','000024','.CON.','5','','','5','SRV->RV_TIPOCOD $ "1*3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NVALOR := NVALOR + ROUND((APD[NPOS,5]/APD[NPOS,4])*NHR1333,2','000026','000025','.EXE.','5','NVALOR := NVALOR + ROUND((aPD[nPos,5]/aPD[nPos,4])*NHR1333,2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','!(SRV->RV_TIPOCOD $ "1*3")','000027','000024','.CON.','5','','','5','!(SRV->RV_TIPOCOD $ "1*3")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NVALOR := NVALOR - ROUND((APD[NPOS,5]/APD[NPOS,4])*NHR1333,2','000028','000027','.EXE.','5','NVALOR := NVALOR - ROUND((aPD[nPos,5]/aPD[nPos,4])*NHR1333,2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','APD[NPOS,4] == 0','000029','000023','.CON.','5','','','5','aPD[nPos,4] == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NVALOR := IIF( SRV->RV_TIPOCOD $ "1*3", (NVALOR + APD[NPOS,5','000030','000029','.EXE.','5','NVALOR := IIF( SRV->RV_TIPOCOD $ "1*3", (NVALOR + aPD[nPos,5]) , (NVALOR - aPD[nPos,5]) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','!(APD[NPOS,1] == CVRB1333 .AND. APD[NPOS,7] == "I")','000031','000018','.CON.','5','','','5','!(aPD[nPos,1] == CVRB1333 .AND. aPD[nPos,7] == "I")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','APD[NPOS,9] := "D"','000032','000031','.EXE.','5','aPD[nPos,9] := "D"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','LGRV := .T.','000033','000018','.EXE.','5','LGRV := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','NPOS++','000034','000017','.EXE.','5','nPos++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','LGRV .AND. NVALOR > 0','000035','000000','.CON.','5','','','5','LGRV .AND. NVALOR > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','ASCAN(APD, {|X| X[1] == CVRB1333 .AND. (X[7] == "I")}) == 0','000036','000035','.CON.','5','','','5','aScan(aPD, {|x| x[1] == CVRB1333 .AND. (x[7] == "I")}) == 0   /* Gera verba se nao houver verba informada */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMLICPR','FGERAVERBA(CVRB1333, ROUND(NVALOR,2), NHORAS,,,"V","K")','000037','000036','.EXE.','5','FGERAVERBA(CVRB1333, ROUND(NVALOR,2), NHORAS,,,"V","K")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0377    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0377( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SUMVBFER','SOMA VERBAS DE BASE DE FERIAS - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SUMVBFER','NSALBSFER := NSALBASE /* NSALBASE ou NSALCOMIS */     .CNT.','000001','000000','.EXE.','5','NSALBSFER := NSALBASE /* NSALBASE ou NSALCOMIS */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','nPosAPD := 1     .CNT.','000002','000000','.EXE.','5','nPosAPD := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','nPosAPD <= LEN(aPD)   .END.','000003','000000','.ENQ.','5','','','5','nPosAPD <= LEN(aPD)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','("005S" $ POSICIONE("SRV",1,XFILIAL("SRV") + aPD[nPosAPD,1','000004','000003','.CON.','5','','','5','("005S" $ POSICIONE("SRV",1,XFILIAL("SRV") + aPD[nPosAPD,1] , "RV_ACUMAUX" )) .AND. aPD[nPosAPD,9] <> "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','NSALBSFER := IIF( SRV->RV_TIPOCOD $ "1*3", (NSALBSFER + aPD[','000005','000004','.EXE.','5','NSALBSFER := IIF( SRV->RV_TIPOCOD $ "1*3", (NSALBSFER + aPD[nPosAPD,5]), (NSALBSFER - aPD[nPosAPD,5]) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','!( APD[NPOSAPD,1] == ACODFOL[318,1] )   .END.','000006','000004','.CON.','5','','','5','!( APD[NPOSAPD,1] == ACODFOL[318,1] )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','aPD[nPosAPD,9] := "D"     .CNT.','000007','000006','.EXE.','5','aPD[nPosAPD,9] := "D"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','lGrv := .T.     .END.','000008','000004','.EXE.','5','lGrv := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','nPosAPD++     .END.','000009','000003','.EXE.','5','nPosAPD++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUMVBFER','NSALBSFER += NDIFCNEFER','000010','000000','.EXE.','5','NSALBSFER += NDIFCNEFER','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0378    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0378( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TCMARGC','CALCULA MARGEM CONSIGNAVEL','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','TCMARGC','P_CSMARG','000001','000000','.CON.','5','','','5','P_CSMARG','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TCMARGC','FMARGCS()','000002','000001','.EXE.','5','FMARGCS()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0379    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0379( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TERFEDO','GERA 1/3 DE FERIAS EM DOBRO','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','TERFEDO','nVFerDob > 0   .END.','000001','000000','.CON.','5','','','5','nVFerDob > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TERFEDO','NPERC  :=  POSSRV(ACODFOL[226,1],SRA->RA_FILIAL,"RV_PERC")','000002','000001','.EXE.','5','nPerc  :=  PosSrv(aCodFol[226,1],SRA->RA_FILIAL,"RV_PERC")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TERFEDO','FGERAVERBA(ACODFOL[226,1], NVFERDOB * IF(NPERC = 0.00 .OR. N','000003','000001','.EXE.','5','fGeraVerba(aCodFol[226,1], nVFerDob * If(nPerc = 0.00 .Or. nPerc=100.00, 1/3, nPerc/100),nDdobro)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0380    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0380( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TESTADM','Testa Admissao','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','TESTADM','SRA->RA_ADMISSA > APERIODO[NPOSSEM,4] .OR.( APERIODO[NPOSSEM','000001','000000','.CON.','','','','5','SRA->RA_ADMISSA > aPeriodo[nPosSem,4] .or. ( aPeriodo[nPosSem,4] - ( SRA->RA_ADMISSA + 1 ) ) < 15','','','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TESTADM','Calcule := "N"','000002','000001','.EXE.','6','Calcule := "N"','','','','','','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0381    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0381( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TESTESIT','TESTA SITUACAO DO FUNCIONARIO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','TESTESIT','CSITFOLH == "O"','000001','000000','.CON.','5','','','5','cSitFolh == "O"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TESTESIT','NOPRCREG()','000002','000001','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0382    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0382( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TOTDEFER','SOMA DESCONTOS','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','TOTDEFER','nValDesc := 0     .CNT.','000001','000000','.EXE.','5','nValDesc := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TOTDEFER','AEVAL( APD ,{ |X|  SOMAINC(X,2,@NVALDESC, , , , , , ,ACODFOL','000002','000000','.EXE.','5','Aeval( aPd ,{ |X|  SomaInc(X,2,@nValDesc, , , , , , ,aCodFol) })','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0383    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0383( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TOTFERIA','CALCULA TOTAL DE FERIAS - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','TOTFERIA','AEVAL( APD ,{ |X| SOMAINC(X,1,@NTOTFERIAS, , , , , , ,ACODFO','000001','000000','.EXE.','5','Aeval( aPd ,{ |X| SomaInc(X,1,@NTOTFERIAS, , , , , , ,aCodFol) })   /* SOMA APENAS PROVENTOS */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TOTFERIA','NPOS := ASCAN(APD, {|X| X[1] == ACODFOL[0022,1] .AND. !(X[9]','000002','000000','.EXE.','5','NPOS := ASCAN(APD, {|X| X[1] == ACODFOL[0022,1] .AND. !(X[9] == "D")})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TOTFERIA','NPOS > 0','000003','000000','.CON.','5','','','5','NPOS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TOTFERIA','NTOTFERIAS -= APD[NPOS,5]','000004','000003','.EXE.','5','NTOTFERIAS -= APD[NPOS,5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0384    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0384( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TOTPRFER','SOMA DE PROVENTOS','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','TOTPRFER','nValProv := 0     .CNT.','000001','000000','.EXE.','5','nValProv := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TOTPRFER','AEVAL( APD ,{ |X|  SOMAINC(X,1,@NVALPROV, , , , , , ,ACODFOL','000002','000000','.EXE.','5','Aeval( aPd ,{ |X|  SomaInc(X,1,@nValProv, , , , , , ,aCodFol) })','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0385    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0385( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TRLIQFER','TROCA LIQUIDO FERIAS - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','TRLIQFER','(ASCAN(APD, {|X| X[1] == FGETCODFOL("0102") .AND. X[7] ==','000001','000000','.CON.','5','','','5','(ASCAN(APD, {|X| X[1] == FGETCODFOL("0102") .AND. X[7] == "I"}) == 0 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TRLIQFER','NPOS := ASCAN(APD, {|X| X[1] == FGETCODFOL("0102")})     .CN','000002','000001','.EXE.','5','NPOS := ASCAN(APD, {|X| X[1] == FGETCODFOL("0102")})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TRLIQFER','NPOS > 0   .END.','000003','000001','.CON.','5','','','5','NPOS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TRLIQFER','NVALLIQ := APD[NPOS][5]     .CNT.','000004','000003','.EXE.','5','NVALLIQ := APD[NPOS][5]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TRLIQFER','APD[NPOS][9] := "D"     .CNT.','000005','000003','.EXE.','5','APD[NPOS][9] := "D"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TRLIQFER','FGeraVerba(FGETCODFOL("0047"),ROUND(NVALLIQ, MSDECIMAIS(1)),','000006','000003','.EXE.','5','FGeraVerba(FGETCODFOL("0047"),ROUND(NVALLIQ, MSDECIMAIS(1)),,,,,,,,,,,,,,,,,,,, )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0386    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0386( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','TROCVERB','TROCA AS VERBAS DE IR E SEM  IR - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','TROCVERB','aTabS113 := aInc := aDel := {}     .CNT.','000001','000000','.EXE.','5','aTabS113 := aInc := aDel := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','fCarrTab(@aTabS113 , "S113", DDATAATE , .T. )     .CNT.','000002','000000','.EXE.','5','fCarrTab(@aTabS113 , "S113", DDATAATE , .T. )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','NCOUNT := 1     .CNT.','000003','000000','.EXE.','5','NCOUNT := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','( NCOUNT <= LEN(APD) )   .END.','000004','000000','.ENQ.','5','','','5','( NCOUNT <= LEN(APD) )','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','APD[NCOUNT][9] <> "D"   .END.','000005','000004','.CON.','5','','','5','APD[NCOUNT][9] <> "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','X := 1     .CNT.','000006','000005','.EXE.','5','X := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','CVBSRC := APD[NCOUNT][1]     .CNT.','000007','000005','.EXE.','5','CVBSRC := APD[NCOUNT][1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','CVLSRC := APD[NCOUNT][5]     .CNT.','000008','000005','.EXE.','5','CVLSRC := APD[NCOUNT][5]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','CTP1SRC := APD[NCOUNT][6]     .CNT.','000009','000005','.EXE.','5','CTP1SRC := APD[NCOUNT][6]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','NHRSRC := APD[NCOUNT][4]     .CNT.','000010','000005','.EXE.','5','NHRSRC := APD[NCOUNT][4]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','CORIG := APD[NCOUNT][7]     .CNT.','000011','000005','.EXE.','5','CORIG := APD[NCOUNT][7]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','cIdSRC := Posicione("SRV",1,XFILIAL("SRV") + cVbSRC,"RV_CODF','000012','000005','.EXE.','5','cIdSRC := Posicione("SRV",1,XFILIAL("SRV") + cVbSRC,"RV_CODFOL")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','lAchou := .F.     .CNT.','000013','000005','.EXE.','5','lAchou := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','X <= Len(aTabS113) .AND. !(lAchou)   .END.','000014','000005','.ENQ.','5','','','5','X <= Len(aTabS113) .AND. !(lAchou)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','aTabS113[x][1] == "S113"   .END.','000015','000014','.CON.','5','','','5','aTabS113[x][1] == "S113"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','(SRA->RA_CATFUNC $ aTabS113[x][5]) .AND. ( cVbSRC == aTabS','000016','000015','.CON.','5','','','5','(SRA->RA_CATFUNC $ aTabS113[x][5]) .AND. ( cVbSRC == aTabS113[x][6])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','CVERBA := If( !LIRISENCAO , aTabS113[x][7] , aTabS113[x][8])','000017','000016','.EXE.','5','CVERBA := If( !LIRISENCAO , aTabS113[x][7] , aTabS113[x][8])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','!( (CVERBA == CVBSRC) .AND. ( aScan(APD, {|x| x[1] == CVER','000018','000016','.CON.','5','','','5','!( (CVERBA == CVBSRC) .AND. ( aScan(APD, {|x| x[1] == CVERBA .AND. X[7] == "I"}) > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','AADD(aInc,{CVERBA , cVlSRC , cTp1SRC , nHrSRC })     .CNT.','000019','000018','.EXE.','5','AADD(aInc,{CVERBA , cVlSRC , cTp1SRC , nHrSRC })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','aTabS113[x][9] == "1" .AND. Empty(cIdSRC) /* APAGAR A VERB','000020','000018','.CON.','5','','','5','aTabS113[x][9] == "1" .AND. Empty(cIdSRC) /* APAGAR A VERBA PRINCIPAL SE ESTIVER INDICADO NA S113 E SE NAO TIVER ID */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','NPOS := aScan(APD, {|x| x[1] == CVBSRC})     .CNT.','000021','000020','.EXE.','5','NPOS := aScan(APD, {|x| x[1] == CVBSRC})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','NPOS > 0   .END.','000022','000020','.CON.','5','','','5','NPOS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','APD[NPOS][9] := "D"   //Marca verba como deletada     .END.','000023','000022','.EXE.','5','APD[NPOS][9] := "D"   //Marca verba como deletada','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','lAchou := .T.     .END.','000024','000016','.EXE.','5','lAchou := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','X++     .END.','000025','000014','.EXE.','5','X++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','NCOUNT++     .END.','000026','000004','.EXE.','5','NCOUNT++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','y := 1     .CNT.','000027','000000','.EXE.','5','y := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','y <= Len(aInc)   .END.','000028','000000','.ENQ.','5','','','5','y <= Len(aInc)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','aInc[y][2] > 0 .And. aScan(APD, {|x| x[1] == AINC[Y][1] .A','000029','000028','.CON.','5','','','5','aInc[y][2] > 0 .And. aScan(APD, {|x| x[1] == AINC[Y][1] .AND. X[7] == "I"}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','FGeraVerba(AINC[Y][1],ROUND(AINC[Y][2], MSDECIMAIS(1)),AINC[','000030','000029','.EXE.','5','FGeraVerba(AINC[Y][1],ROUND(AINC[Y][2], MSDECIMAIS(1)),AINC[Y][4],,,AINC[Y][3],,,,,,,,,,,,,,,,)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','TROCVERB','y++     .END.','000031','000028','.EXE.','5','y++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0387    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0387( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VAL13SAL','CALCULA 13. INTEGRAL','','','011','2','1',} )

aAdd(aRc3Cols, { '','S_','VAL13SAL','CMEDDIREN := P_MEDDIREN','000001','000000','.EXE.','5','cMedDiren := P_MEDDIREN','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VAL13SAL','CMEDDIREN == "M"','000002','000000','.CON.','5','','','5','CMEDDIREN == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VAL13SAL','CMEDDIREN := IF(SRA->RA_TPCONTR == "2" .AND. DATEDIFFYEAR( S','000003','000002','.EXE.','5','CMEDDIREN := If(SRA->RA_TPCONTR == "2" .and. DateDiffYear( SRA->RA_DTFIMCT , SRA->RA_ADMISSA ) < 1, "S", "N")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VAL13SAL','SRA->RA_CATFUNC == "C" .AND. SRA->RA_SALARIO == 0.00 .AND. S','000004','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "C" .And. SRA->RA_SALARIO == 0.00 .And. SuperGetMvRH("MV_MED1OP") == "S" .And. nMedia13s == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VAL13SAL','NMEDIA13S := NVLGCOMIS','000005','000004','.EXE.','5','nMedia13s := nVlGComis','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VAL13SAL','NAVOS >  0','000006','000000','.CON.','5','','','5','nAvos >  0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VAL13SAL','N13SAL := ( ( ( ( NSALM1 + FSOMAADIC() )/ 12 * NAVOS) + IF(C','000007','000006','.EXE.','5','n13Sal := ( ( ( ( nSalM1 + fSomaAdic() )/ 12 * nAvos) + If(CMEDDIREN=="N", Round(nMedia13s * nAvos / 12, 2), Round(nMedia13s, 2)) ) * ( GetMemVar("RH_PERC13S") / 100) ) - nAntec13o','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0388    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0388( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VALODISS','REAJUSTA VERBA EM VALOR NO DISSIDIO','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','VALODISS','lDissidio   .END.','000001','000000','.CON.','5','','','5','lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VALODISS','fVlDiss()     .END.','000002','000001','.EXE.','5','fVlDiss()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0389    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0389( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VAL_BINS','SALARIO BASE DE INSALUBRIDADE','','','024','2','1',} )

aAdd(aRc3Cols, { '','S_','VAL_BINS','SRA->RA_ADCINS <> "1" .OR. LDISSIDIO','000001','000000','.CON.','5','','','5','SRA->RA_ADCINS <> "1" .or. lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VAL_BINS','AINSALUB := GPCRGPERINS("2")','000002','000001','.EXE.','5','aInsalub := GpCrgPerIns("2")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VAL_BINS','NHRSINSAL := SRA->RA_INSMAX','000003','000001','.EXE.','5','nHrsInsal := SRA->RA_INSMAX','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VAL_BINS','CTIPOINS == "2"','000004','000004','.CON.','5','','','5','cTipoIns == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VAL_BINS','NPERC_INS  := RCE->RCE_PINSMI','000005','000004','.EXE.','5','nPerc_Ins  := RCE->RCE_PINSMI','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VAL_BINS','CTIPOINS == "3"','000006','000004','.CON.','5','','','5','cTipoIns == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VAL_BINS','NPERC_INS  := RCE->RCE_PINSME','000007','000006','.EXE.','5','nPerc_Ins  := RCE->RCE_PINSME','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VAL_BINS','CTIPOINS == "4"','000008','000004','.CON.','5','','','5','cTipoIns == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VAL_BINS','NPERC_INS  := RCE->RCE_PINSMA','000009','000008','.EXE.','5','nPerc_Ins  := RCE->RCE_PINSMA','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0390    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0390( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VARMUV','CARREGA VARIAVEIS DO MULTIPLO VINCULO','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','VARMUV','FCONFMUV(@APD,@APDV)','000001','000000','.EXE.','5','fConfMUV(@aPd,@aPdv)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0391    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0391( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VERAVAFA','VERIF. AVOS DO AFASTAMENTO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','VERAVAFA','fRetAfas(dDtPesq1,CTOD("31/12/"+StrZero(Year( dDtPesq1),4),"','000001','000000','.EXE.','5','fRetAfas(dDtPesq1,CTOD("31/12/"+StrZero(Year( dDtPesq1),4),"DDMMYY"),"13",@nAvosAf,,,@aAfast)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0392    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0392( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VERIFDIS','VERIFICA DISSIDIO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','VERIFDIS','CROT := IF(EMPTY(CROT),GETROTEXEC(),CROT)     .CNT.','000001','000000','.EXE.','5','CROT := IF(EMPTY(CROT),GETROTEXEC(),CROT)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFDIS','LDISSIDIO .AND. !VerDissSRD()   .END.','000002','000000','.CON.','5','','','5','LDISSIDIO .AND. !VerDissSRD()','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VERIFDIS','FINALFUN()     .END.','000003','000002','.EXE.','5','FINALFUN()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0393    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0393( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VERIFID','VERIFICA IDS OBRIGATORIOS - GFP','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','VERIFID','CFILCALC <> SRA->RA_FILIAL   .END.','000001','000000','.CON.','5','','','5','CFILCALC <> SRA->RA_FILIAL','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VERIFID','CFILCALC := SRA->RA_FILIAL     .CNT.','000002','000001','.EXE.','5','CFILCALC := SRA->RA_FILIAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFID','VERIFICAID({"13","14","19","20","21","22","24","25", "26","3','000003','000001','.EXE.','5','VERIFICAID({"13","14","19","20","21","22","24","25", "26","30","31","40","43","45","46","47","48","54","64","65","70","71","72","73","74","77","79","86","87", "102","104","111","114","115","116","123","124", "125", "126","167","168","169","181"})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFID','VERIFICAID({"182","183","183","203","232","242", "244","250"','000004','000001','.EXE.','5','VERIFICAID({"182","183","183","203","232","242", "244","250","251","253","288","289","290","291", "303","430","611","612","613","614","615","616", "624","625","653","654","655","656","657","658", "660","661","662","663","664","665","678","721"})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFID','VERIFICAID({ "1332","1337","1363","1364","1365", "1366","136','000005','000001','.EXE.','5','VERIFICAID({ "1332","1337","1363","1364","1365", "1366","1367","1370","1371","1372","1373","1374", "1375","1379", "1380","1381","1382","644","1662","1663","1664","1665"} )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0394    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0394( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VERIFPEN','VERIFICA PENSIONISTAS - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','VERIFPEN','(SRA->RA_CATFUNC == "9") .AND. !(SRA->RA_TIPOPEN  == "1")','000001','000000','.CON.','5','','','5','(SRA->RA_CATFUNC == "9") .AND. !(SRA->RA_TIPOPEN  == "1")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','aRetIdade := HS_DifData( SRA->RA_NASC , dDataAte )     .CNT.','000002','000001','.EXE.','5','aRetIdade := HS_DifData( SRA->RA_NASC , dDataAte )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','nAnos := aRetIdade[1]     .CNT.','000003','000001','.EXE.','5','nAnos := aRetIdade[1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','nMeses := aRetIdade[2]     .CNT.','000004','000001','.EXE.','5','nMeses := aRetIdade[2]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','nDias := aRetIdade[3]     .CNT.','000005','000001','.EXE.','5','nDias := aRetIdade[3]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','cTp := SRA->RA_TIPOPEN     .CNT.','000006','000001','.EXE.','5','cTp := SRA->RA_TIPOPEN','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','lCont := ( (nAnos >= 21 .and. cTp == "2") .OR. (nAnos >= 2','000007','000001','.CON.','5','','','5','lCont := ( (nAnos >= 21 .and. cTp == "2") .OR. (nAnos >= 24 .AND. cTp == "3") ) .AND. nMeses >= 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','FINALFUN()     .END.','000008','000007','.EXE.','5','FINALFUN()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','( (nAnos == 21 .AND. cTp == "2") .OR. (nAnos == 24 .AND. c','000009','000001','.CON.','5','','','5','( (nAnos == 21 .AND. cTp == "2") .OR. (nAnos == 24 .AND. cTp == "3" ) ) .AND. !lCont','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','nDias := (stod(anomes(dDataDe) + cvaltochar(DAY(SRA->RA_NASC','000010','000009','.EXE.','5','nDias := (stod(anomes(dDataDe) + cvaltochar(DAY(SRA->RA_NASC)) ) - dDataDe) + 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','nDAf := 30 - DiasTrab     .CNT.','000011','000009','.EXE.','5','nDAf := 30 - DiasTrab','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VERIFPEN','DiasTrab := nDias - nDAf     .END.','000012','000009','.EXE.','5','DiasTrab := nDias - nDAf','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0395    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0395( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLDADMPL','TESTA ADMISSAO E DEMISSAO','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','VLDADMPL','LPLRDEM := GETMVRH("MV_PLRDEM",,"N") == "S"','000001','000000','.EXE.','5','lPLRDem := GetMVRH("MV_PLRDEM",,"N") == "S"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLDADMPL','YEAR(SRA->RA_ADMISSA) > VAL(ASIND[1,8])','000002','000000','.CON.','5','','','5','YEAR(SRA->RA_ADMISSA) > Val(aSind[1,8])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLDADMPL','NOPRCREG()','000003','000002','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLDADMPL','!EMPTY(SRA->RA_DEMISSA) .AND. ( ( !LPLRDEM .AND. ANOMES(SRA-','000004','000000','.CON.','5','','','5','!Empty(SRA->RA_DEMISSA) .AND. ( ( !lPlrDem .and. AnoMes(SRA->RA_DEMISSA) <= cPeriodo) .or. (lPlrDem .and. SRA->RA_DEMISSA < CtoD("01/01/"+aSind[1,8])))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLDADMPL','NOPRCREG()','000005','000004','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0396    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0396( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLDCOMPL','VALIDA RESCISAO COMPLEMENTAR','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','VLDCOMPL','LCALCCOMPL','000001','000000','.CON.','5','','','5','lCalcCompl','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLDCOMPL','SRA->RA_TIPOPGT <> "M" .OR. SRA->RA_CATFUNC = '+"'"+'D'+"'"+' .OR. !FVLD','000002','000001','.CON.','5','','','5','SRA->RA_TIPOPGT <> "M" .or. SRA->RA_CATFUNC = '+"'"+'D'+"'"+' .or. !fVldCompl()','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLDCOMPL','NOPRCREG()','000003','000002','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0397    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0397( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLDEMMS','VALIDA DEMITIDO MES SEGUINTE','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','VLDEMMS','FVLDEMMS()','000001','000000','.EXE.','5','FVLDEMMS()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0398    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0398( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLDFUNC','VALIDA FUNCIONÁRIO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','VLDFUNC','LDISSIDIO','000001','000000','.CON.','5','','','5','lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLDFUNC','!fTem132Per()   .END.','000002','000001','.CON.','5','','','5','!fTem132Per()','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLDFUNC','NOPRCREG()','000003','000002','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLDFUNC','FTEM132()','000004','000000','.CON.','5','','','5','fTem132()','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLDFUNC','NOPRCREG()','000005','000004','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0399    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0399( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLDPDRTF','VALIDAÇÃO CADASTRO VERBAS RETIFICADORA','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','VLDPDRTF','EMPTY(ACODFOL[1658, 1]) .OR. EMPTY(ACODFOL[1659, 1]) .OR. EM','000001','000000','.CON.','5','','','5','Empty(aCodFol[1658, 1]) .Or. Empty(aCodFol[1659, 1]) .Or. Empty(aCodFol[1660, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLDPDRTF','FINALCALC()','000002','000001','.EXE.','5','FinalCalc()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0400    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0400( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLSADM','TESTA ADMISSAO/DEMISSAO P/ BENEFICIOS','','','022','2','1',} )

aAdd(aRc3Cols, { '','S_','VLSADM','CALCULE := "S"','000001','000000','.EXE.','5','CALCULE := "S"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSADM','APERATUAL := {}','000002','000000','.EXE.','5','APERATUAL := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSADM','FPERATUAL( @APERATUAL, IF(SRA->RA_CATFUNC $ "P*A", FGETCALCR','000003','000000','.EXE.','5','FPERATUAL( @APERATUAL, If(SRA->RA_CATFUNC $ "P*A", fGetCalcRot("9"),fGetCalcRot("1")))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSADM','MESANO(IIF( EMPTY(SRA->RA_FECREI), SRA->RA_ADMISSA, SRA->RA_','000004','000000','.CON.','5','','','5','MesAno(IIF( Empty(SRA->RA_FECREI), SRA->RA_ADMISSA, SRA->RA_FECREI )) > cAnoMes','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSADM','CALCULE := "N"','000005','000004','.EXE.','5','CALCULE := "N"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSADM','!EMPTY(SRA->RA_DEMISSA) .AND. (EMPTY(APERATUAL) .OR. MESANO(','000006','000000','.CON.','5','','','5','!Empty(SRA->RA_DEMISSA) .AND. (Empty(aPerAtual) .or. MesAno(SRA->RA_DEMISSA) < aPerAtual[1, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSADM','CALCULE := "N"','000007','000006','.EXE.','5','CALCULE := "N"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSADM','CALCULE == "S" .AND. CTIPOROT == "8" .AND. !FCHKSM7()','000008','000000','.CON.','5','','','5','CALCULE == "S" .AND. CTIPOROT == "8" .AND. !FCHKSM7()','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSADM','CALCULE := "N"','000009','000008','.EXE.','5','CALCULE := "N"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSADM','CALCULE == "N"','000010','000000','.CON.','5','','','5','CALCULE == "N"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSADM','NOPRCREG()','000011','000010','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0401    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0401( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLSAUS','VERIFICA AUSENCIAS PAG. DE BENEFICIOS','','','013','2','1',} )

aAdd(aRc3Cols, { '','S_','VLSAUS','DINICIAL := APERIODO[NPOSSEM,3]','000001','000000','.EXE.','5','DINICIAL := APERIODO[NPOSSEM,3]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','DFINAL := APERIODO[NPOSSEM,4]','000002','000000','.EXE.','5','DFINAL := APERIODO[NPOSSEM,4]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','CTIPOROT == "8" .AND. APERGUNTE[1,3]== 3','000003','000000','.CON.','5','','','5','CTIPOROT == "8" .AND. APERGUNTE[1,3]== 3','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','DINICIAL := APERGUNTE[12,3]','000004','000003','.EXE.','5','DINICIAL := APERGUNTE[12,3]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','DFINAL := APERGUNTE[13,3]','000005','000003','.EXE.','5','DFINAL := APERGUNTE[13,3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','CTIPOROT <> "8" .AND. APERGUNTE[6,3]== 1','000006','000000','.CON.','5','','','5','CTIPOROT <> "8" .AND. APERGUNTE[6,3]== 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','DINICIAL := APERGUNTE[8,3]','000007','000006','.EXE.','5','DINICIAL := APERGUNTE[8,3]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','DFINAL := APERGUNTE[9,3]','000008','000006','.EXE.','5','DFINAL := APERGUNTE[9,3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','!P_NVAFABEN .AND. ( ( CTIPOROT == "8" .AND. APERGUNTE[3,3] <','000009','000000','.CON.','5','','','5','!P_NVAFABEN .and. ( ( cTipoRot == "8" .and. aPergunte[3,3] <> 2 ) .or. ( cTipoRot <> "8" .and. aPergunte[2,3] <> 2 ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSAUS','FVLSAUS(DINICIAL,DFINAL , @AAFAST, @ADIASMES)','000010','000009','.EXE.','5','FVLSAUS(DINICIAL,DFINAL , @AAFAST, @ADIASMES)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0402    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0402( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLSRGB','VERIFICA FALTAS DO FUNCIONARIO','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','VLSRGB','!P_NVAFABEN .AND. ( ( CTIPOROT == "8" .AND. APERGUNTE[5,3] =','000001','000000','.CON.','5','','','5','!P_NVAFABEN .AND. ( ( cTipoRot == "8" .And. aPergunte[5,3] == 1 ) .Or. ( !(cTipoRot $ "8/I") .And. aPergunte[4,3] == 1 ) .Or. ( cTipoRot == "I" .And. P_BENMAXFA > 0 ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSRGB','FVLSRGB()','000002','000001','.EXE.','5','fVlsRGB()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0403    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0403( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLSSRF','VERIFICA FERIAS PROGRAMADAS','','','010','2','1',} )

aAdd(aRc3Cols, { '','S_','VLSSRF','DINICIAL := APERIODO[NPOSSEM,3]','000001','000000','.EXE.','5','DINICIAL := APERIODO[NPOSSEM,3]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','DFINAL := APERIODO[NPOSSEM,4]','000002','000000','.EXE.','5','DFINAL := APERIODO[NPOSSEM,4]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','CTIPOROT == "8" .AND. APERGUNTE[1,3] == 3','000003','000000','.CON.','5','','','5','CTIPOROT == "8" .AND. APERGUNTE[1,3] == 3','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','DINICIAL := APERGUNTE[12,3]','000004','000003','.EXE.','5','DINICIAL := APERGUNTE[12,3]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','DFINAL := APERGUNTE[13,3]','000005','000003','.EXE.','5','DFINAL := APERGUNTE[13,3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','CTIPOROT <> "8" .AND. APERGUNTE[6,3] == 1','000006','000000','.CON.','5','','','5','CTIPOROT <> "8" .AND. APERGUNTE[6,3] == 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','DINICIAL := APERGUNTE[8,3]','000007','000006','.EXE.','5','DINICIAL := APERGUNTE[8,3]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','DFINAL := APERGUNTE[9,3]','000008','000006','.EXE.','5','DFINAL := APERGUNTE[9,3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','( CTIPOROT == "8" .AND. APERGUNTE[4,3] == 1 ) .OR. ( CTIPORO','000009','000000','.CON.','5','','','5','( cTipoRot == "8" .and. aPergunte[4,3] == 1 ) .or. ( cTipoRot <> "8" .and. aPergunte[3,3] == 1 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSSRF','FVLSFERPRG(DINICIAL,DFINAL , @ADIASMES)','000010','000009','.EXE.','5','FVLSFERPRG(DINICIAL,DFINAL , @ADIASMES)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0404    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0404( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VLSTAB','CARREGA TABELAS PARA CALCULO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','VLSTAB','LTABELAS := .T.','000001','000000','.EXE.','5','lTabelas := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSTAB','CFILCALC <> SRA->RA_FILIAL','000002','000000','.CON.','5','','','5','CFILCALC <> SRA->RA_FILIAL','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSTAB','CFILCALC := SRA->RA_FILIAL','000003','000002','.EXE.','5','CFILCALC := SRA->RA_FILIAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSTAB','LTABELAS := .F.','000004','000002','.EXE.','5','LTABELAS := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSTAB','SAL_MIN(@VAL_SALMIN,CANOMES) .AND. FP_CODFOL(@ACODFOL,SRA->R','000005','000002','.CON.','5','','','5','SAL_MIN(@VAL_SALMIN,CANOMES) .AND. FP_CODFOL(@ACODFOL,SRA->RA_FILIAL)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSTAB','LTABELAS := .T.','000006','000005','.EXE.','5','LTABELAS := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VLSTAB','!LTABELAS','000007','000002','.CON.','5','','','5','!LTABELAS','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VLSTAB','FINALCALC()','000008','000007','.EXE.','5','FINALCALC()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0405    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0405( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VRDESCI','VALOR DESCONTO INSS CONTRIB. INDIVIDUAL','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','VRDESCI','SRA->RA_CATFUNC$ "P*A"','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC$ "P*A"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VRDESCI','NVLBSOUT > 0','000002','000001','.CON.','5','','','5','NVLBSOUT > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VRDESCI','NDINSSAUT := NVINSSAUT - NVINSSDESC','000003','000002','.EXE.','5','NDINSSAUT := NVINSSAUT - NVINSSDESC','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VRDESCI','NVLBSOUT == 0','000004','000001','.CON.','5','','','5','NVLBSOUT == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VRDESCI','NDINSSAUT := IF (NVINSSAUT + NVINSSOUT + NVINSSDESC <  NOROU','000005','000004','.EXE.','5','NDINSSAUT := IF (NVINSSAUT + NVINSSOUT + NVINSSDESC <  NOROUND(ATINSS[LEN(ATINSS),1]*P_PERCAUTO,2),NVINSSAUT,NOROUND(( ATINSS[LEN(ATINSS),1]) * P_PERCAUTO,2)-NVINSSOUT - NVINSSDESC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0406    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0406( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VTRSAL','SALARIO BASE PARA CALCULO DO VT','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','VTRSAL','!FVTRSAL()','000001','000000','.CON.','5','','','5','!fVTRSal()','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','VTRSAL','NOPRCREG()','000002','000001','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0407    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0407( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','ZERAADIC','Zera Var. para Calc. Adic.','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','ZERAADIC','CCODADT  := SPACE(3)','000001','000000','.EXE.','5','cCodAdt  := Space(3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','ZERAADIC','NADTSERV := 0.00','000002','000000','.EXE.','5','nAdtServ := 0.00','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0408    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0408( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','ZERAAPD','LIMPA O ARRAY APD','','','011','2','1',} )

aAdd(aRc3Cols, { '','S_','ZERAAPD','CTIPOROT == "2"','000001','000000','.CON.','5','','','5','cTipoRot == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','ZERAAPD','FCARPDADIANT()','000002','000001','.EXE.','5','FCarPDAdiant()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','ZERAAPD','CTIPOROT == "5"','000003','000000','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','ZERAAPD','F131CARSRC(APD)','000004','000003','.EXE.','5','F131CARSRC(aPd)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','ZERAAPD','CTIPOROT == "6"','000005','000000','.CON.','5','','','5','cTipoRot == "6"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','ZERAAPD','F132CARSRI(APD)','000006','000005','.EXE.','5','F132CARSRI(aPd)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0409    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0409( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','ZERALIQ','INICIALIZAR VARIAVEL LIQUIDO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','ZERALIQ','NLIQUIDO := 0','000001','000000','.EXE.','5','nLiquido := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

