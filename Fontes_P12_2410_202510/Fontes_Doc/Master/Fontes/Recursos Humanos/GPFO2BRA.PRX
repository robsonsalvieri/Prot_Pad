/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³GpFo2BRA      ³Autor³ Gerado pelo sistema ³ Data ³29/09/2025³
ÃÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄ´
³Descri‡…o ³Programa de Continuacao das formulas                        ³
ÃÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³Sintaxe   ³                                                            ³
ÃÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³Parametros³<Vide Parametros Formais>                                   ³
ÃÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Uso      ³Generico                                                    ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0221    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0221( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRDSRMED','GERA DSR SOBRE MEDIAS','','','013','2','1',} )

aAdd(aRc3Cols, { '','S_','GRDSRMED','CCODMES := ACODFOL[1330,1]','000001','000000','.EXE.','5','cCodMes := aCodFol[1330,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','CCODMS := ACODFOL[1331,1]','000002','000000','.EXE.','5','cCodMs := aCodFol[1331,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','LTEMCODMPA := SRV->(COLUMNPOS( "RV_CODMPA" )) > 0','000003','000000','.EXE.','5','lTemCodMPA := SRV->(ColumnPos( "RV_CODMPA" )) > 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','LTEMCODMPA .AND. !EMPTY(P_DINIADI) .AND. !EMPTY(P_DFIMADI) .','000004','000000','.CON.','5','','','5','lTemCodMPA .And. !Empty(P_DINIADI) .And. !Empty(P_DFIMADI) .And. GetMemVar("RH_DATAINI") >= P_DINIADI .And. GetMemVar("RH_DATAINI") <= P_DFIMADI','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','!EMPTY(RETVALSRV( ACODFOL[1330,1], SRA->RA_FILIAL, "RV_CODMP','000005','000004','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[1330,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','CCODMES := RETVALSRV( ACODFOL[1330,1], SRA->RA_FILIAL, "RV_C','000006','000005','.EXE.','5','cCodMes := RetValSrv( aCodFol[1330,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','!EMPTY(RETVALSRV( ACODFOL[1331,1], SRA->RA_FILIAL, "RV_CODMP','000007','000004','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[1331,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','CCODMS := RETVALSRV( ACODFOL[1331,1], SRA->RA_FILIAL, "RV_CO','000008','000007','.EXE.','5','cCodMs := RetValSrv( aCodFol[1331,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NDIASFM > 0','000009','000000','.CON.','5','','','5','nDiasFM > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NVFERIAS += FGERAVERBA(ACODFOL[80,1],(DSR_HREX / NDIASPERF1)','000010','000009','.EXE.','5','nVFerias += fGeraVerba(aCodfol[80,1],(Dsr_Hrex / nDiasPerF1) * nDiasFM , ( Dsr_Hhex / nDiasPerF1 ) * nDiasFM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NDIASFMS > 0','000011','000000','.CON.','5','','','5','nDiasFMS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NDIASFMS1 > 0','000012','000011','.CON.','5','','','5','nDiasFMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NVFERIASMS += FGERAVERBA(ACODFOL[81,1], (DSR_HREX / NDIASPER','000013','000012','.EXE.','5','nVFeriasMS += fGeraVerba(aCodfol[81,1], (Dsr_Hrex / nDiasPerF2) * nDiasFMS , ( Dsr_Hhex / nDiasPerF2 ) * nDiasFMS,,,,,,,,,,,"1" )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NVFERIASM3 += FGERAVERBA(ACODFOL[81,1], (DSR_HREX / NDIASPER','000014','000012','.EXE.','5','nVFeriasM3 += fGeraVerba(aCodfol[81,1], (Dsr_Hrex / nDiasPerF1) * nDiasFMS1 , ( Dsr_Hhex / nDiasPerF2 ) * nDiasFMS1,,,,,,,,,,,"2" )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NDIASFMS1 == 0','000015','000011','.CON.','5','','','5','nDiasFMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NVFERIASMS += FGERAVERBA(ACODFOL[81,1], (DSR_HREX / NDIASPER','000016','000015','.EXE.','5','nVFeriasMS += fGeraVerba(aCodfol[81,1], (Dsr_Hrex / nDiasPerF2) * nDiasFMS , ( Dsr_Hhex / nDiasPerF2 ) * nDiasFMS )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NDIASABM > 0','000017','000000','.CON.','5','','','5','nDiasAbM > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NVALABONO += FGERAVERBA(CCODMES, (DSR_HREX / NDIASPERF1) * N','000018','000017','.EXE.','5','nValAbono += fGeraVerba(cCodMes, (Dsr_Hrex / nDiasPerF1) * nDiasAbM , ( Dsr_Hhex / nDiasPerF1 ) * nDiasAbM )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NDIASABMS > 0','000019','000000','.CON.','5','','','5','nDiasAbMS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NDIASABMS1 > 0','000020','000019','.CON.','5','','','5','nDiasAbMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NVALABOMS += FGERAVERBA(CCODMS, (DSR_HREX / NDIASPERF2) * ND','000021','000020','.EXE.','5','nValAboMS += fGeraVerba(cCodMs, (Dsr_Hrex / nDiasPerF2) * nDiasAbMS , ( Dsr_Hhex / nDiasPerF2 ) * nDiasAbMS,,,,,,,,,,,"1")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NVALABOM3 += FGERAVERBA(CCODMS, (DSR_HREX / NDIASPERF1) * ND','000022','000020','.EXE.','5','nValAboM3 += fGeraVerba(cCodMs, (Dsr_Hrex / nDiasPerF1) * nDiasAbMS1 , ( Dsr_Hhex / nDiasPerF1 ) * nDiasAbMS1,,,,,,,,,,,"1")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NDIASABMS1 == 0','000023','000019','.CON.','5','','','5','nDiasAbMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRMED','NVALABOMS += FGERAVERBA(CCODMS, (DSR_HREX / NDIASPERF2) * N','000024','000023','.EXE.','5','nValAboMS += fGeraVerba(cCodMs, (Dsr_Hrex / nDiasPerF2) * nDiasAbMS , ( Dsr_Hhex / nDiasPerF2 ) * nDiasAbMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0222    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0222( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRDSRPRO','Calcula DSR Professor','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','GRDSRPRO','EMPTY(CVERBAROT)','000001','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRPRO','CVERBAROT := FGETCODFOL("0033")','000002','000001','.EXE.','5','cVerbaRot := fGetCodFol("0033")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRDSRPRO','(SRA->RA_CATFUNC $ "I*J") .AND. NBSDSRPROF > 0','000003','000000','.CON.','','','','6','(SRA->RA_CATFUNC $ "I*J") .And. nBsDsrProf > 0','','','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRDSRPRO','FGERAVERBA(CVERBAROT,NBSDSRPROF*APARPROF[2],APARPROF[2]*100,','000004','000003','.EXE.','5','fGeraVerba(cVerbaRot,nBsDsrProf*aParProf[2],aParProf[2]*100,,,,,,,,.T.)','','','','','','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0223    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0223( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRFERDOB','GRAVA FERIAS EM DOBRO','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','GRFERDOB','nDDobro > 0   .END.','000001','000000','.CON.','5','','','5','nDDobro > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','NVFERDOB := 0','000002','000001','.EXE.','5','nVFerDob := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','!EMPTY(ACODFOL[1957,1]) .AND. !EMPTY(ACODFOL[1958,1])','000003','000001','.CON.','5','','','5','!Empty(aCodFol[1957,1]) .and. !Empty(aCodFol[1958,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','NMEDHR := ROUND( (NMEDIAHRS / IF(P_MEDFER,GETMEMVAR("RH_DFER','000004','000003','.EXE.','5','nMedHr := Round( (nMediaHrs / If(P_MEDFER,GETMEMVAR("RH_DFERVEN"),30)) * nDDobro, 2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','NMEDVL := ROUND( (NMEDIAOUT / IF(P_MEDFER,GETMEMVAR("RH_DFER','000005','000003','.EXE.','5','nMedVl := Round( (nMediaOut / If(P_MEDFER,GETMEMVAR("RH_DFERVEN"),30)) * nDDobro, 2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','NVFERDOB := ROUND((NVALPROV / GETMEMVAR("RH_DFERIAS")) * NDD','000006','000001','.EXE.','5','nVFerDob := Round((nValProv / GetMemVar("RH_DFERIAS")) * nDDobro,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','FGERAVERBA(ACODFOL[224,1], NVFERDOB-(NMEDHR+NMEDVL),NDDOBRO)','000007','000001','.EXE.','5','fGeraVerba(aCodFol[224,1], nVFerDob-(nMedHr+nMedVl),nDDobro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','NMEDHR > 0','000008','000001','.CON.','5','','','5','nMedHr > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','FGERAVERBA(ACODFOL[1957,1], NMEDHR,NDDOBRO)','000009','000008','.EXE.','5','fGeraVerba(aCodFol[1957,1], nMedHr,nDDobro)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','NMEDVL > 0','000010','000001','.CON.','5','','','5','nMedVl > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRFERDOB','FGERAVERBA(ACODFOL[1958,1], NMEDVL,NDDOBRO)','000011','000010','.EXE.','5','fGeraVerba(aCodFol[1958,1], nMedVl,nDDobro)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0224    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0224( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRHRSATI','Calcula Hrs. Atividade','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','GRHRSATI','EMPTY(CVERBAROT)','000001','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRHRSATI','CVERBAROT := FGETCODFOL("0317")','000002','000001','.EXE.','5','cVerbaRot := fGetCodFol("0317")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRHRSATI','(SRA->RA_CATFUNC $ "I*J") .AND. NBSHRSATIV > 0','000003','000000','.CON.','','','','6','(SRA->RA_CATFUNC $ "I*J") .And. nBsHrsAtiv > 0','','','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRHRSATI','FGERAVERBA(CVERBAROT,NBSHRSATIV*APARPROF[3],APARPROF[3]*100,','000004','000003','.EXE.','5','fGeraVerba(cVerbaRot,nBsHrsAtiv*aParProf[3],aParProf[3]*100,,,,,,,,.T.)','','','','','','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0225    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0225( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRINDPRO','GRAVAR VALOR INDENIZACAO PROFESSOR','','','008','2','1',} )

aAdd(aRc3Cols, { '','S_','GRINDPRO','EMPTY(CVERBAROT)','000001','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRINDPRO','CVERBAROT := FGETCODFOL("0110")','000002','000001','.EXE.','5','cVerbaRot := fGetCodFol("0110")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRINDPRO','SRA->RA_CATFUNC $ "I*J" .AND. !EMPTY(P_CODPGIND) .AND. NDIAS','000003','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "I*J" .and. !Empty(P_CodPgInd) .and. nDiasIndP > 0 .and. !Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRINDPRO','FGERAVERBA(CVERBAROT,((SALARIO+NADTSERV+NPERIC+NINSAL+NADCCO','000004','000003','.EXE.','5','fGeraVerba(cVerbaRot,((Salario + nAdtServ + nPeric + nInsalub + nAdcConf + nAdcTrf + nMedAviso)/nDiasC)*nDiasIndP,nDiasIndP)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0226    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0226( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRINSS13','GRAVACAO DO INSS 13 SALARIO - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','GRINSS13','( ASCAN(APD,{|X| X[1] == ACODFOL[19,1] .AND. X[7] == "I" .AN','000001','000000','.CON.','5','','','5','( ASCAN(APD,{|X| X[1] == ACODFOL[19,1] .AND. X[7] == "I" .AND. X[9] <> "D"}) == 0 ) .AND. ( ASCAN(APD,{|X| X[1] == ACODFOL[1663,1] .AND. X[7] == "I" .AND. X[9] <> "D"}) == 0 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRINSS13','FGERAVERBA(IIF(SRA->RA_TPPREVI $ "1* " , ACODFOL[19,1] , ACO','000002','000001','.EXE.','5','FGERAVERBA(IIF(SRA->RA_TPPREVI $ "1* " , ACODFOL[19,1] , ACODFOL[1663,1]),ROUND(MAX(NBASEAT - NBATLIM, 0), MSDECIMAIS(1)))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRINSS13','( ASCAN(APD,{|X| X[1] == ACODFOL[20,1] .AND. X[7] == "I" .AN','000003','000000','.CON.','5','','','5','( ASCAN(APD,{|X| X[1] == ACODFOL[20,1] .AND. X[7] == "I" .AND. X[9] <> "D"}) == 0 ) .AND. SRA->RA_TPPREVI $ "1* "','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRINSS13','FGeraVerba(aCodFol[20,1],ROUND(Max(nBaseAc - nBAcLim, 0), MS','000004','000003','.EXE.','5','FGeraVerba(aCodFol[20,1],ROUND(Max(nBaseAc - nBAcLim, 0), MSDECIMAIS(1)))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRINSS13','nVlrInss := ROUND(Max(nInss - nInssP, 0), MSDECIMAIS(1))','000005','000000','.EXE.','5','nVlrInss := ROUND(Max(nInss - nInssP, 0), MSDECIMAIS(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRINSS13','ASCAN(APD,{|X| X[1] == IIF(SRA->RA_TPPREVI $ "1* ", ACODFOL[','000006','000000','.CON.','5','','','5','ASCAN(APD,{|X| X[1] == IIF(SRA->RA_TPPREVI $ "1* ", ACODFOL[70,1], ACODFOL[1382,1]) .AND. X[7] == "I" .AND. X[9] <> "D"}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRINSS13','FGERAVERBA(IIF(SRA->RA_TPPREVI $ "1* ", ACODFOL[70,1], ACODF','000007','000006','.EXE.','5','FGERAVERBA(IIF(SRA->RA_TPPREVI $ "1* ", ACODFOL[70,1], ACODFOL[1382,1]),NVLRINSS, NALIQINSS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRINSS13','nInss1 > 0 .and. aScan(aPd,{|X| x[1] == aCodFol[169,1] .an','000008','000000','.CON.','5','','','5','nInss1 > 0 .and. aScan(aPd,{|X| x[1] == aCodFol[169,1] .and. x[7] == "I" .and. x[9] <> "D"}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRINSS13','FGeraVerba(aCodFol[169,1],ROUND(NINSS1, MSDECIMAIS(1)))','000009','000008','.EXE.','5','FGeraVerba(aCodFol[169,1],ROUND(NINSS1, MSDECIMAIS(1)))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0227    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0227( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRLIQPLR','GERACAO DO LIQUIDO DO PLR','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','GRLIQPLR','NVALLIQ := 0','000001','000000','.EXE.','5','nValLiq := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRLIQPLR','EMPTY(CVERBAROT)','000002','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRLIQPLR','CVERBAROT := ACODFOL[836,1]','000003','000002','.EXE.','5','cVerbaRot := aCodFol[836,1]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRLIQPLR','AEVAL( APD ,{ |X| SOMAINC(X,0,@NVALLIQ, , , , , ,.F.,ACODFOL','000004','000000','.EXE.','5','Aeval( aPd ,{ |X| SomaInc(X,0,@nValLiq, , , , , ,.F.,aCodFol) })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRLIQPLR','FMATRIZ(CVERBAROT,NVALLIQ,,,SRA->RA_CC,"V","C",,,DDATA_PGTO,','000005','000000','.EXE.','5','FMatriz(cVerbaRot,nValLiq,,,SRA->RA_CC,"V","C",,,DDATA_PGTO,,,,,,,,,STOD(ASIND[1,8]+"0101") )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0228    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0228( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRMEDFER','GRAVA MEDIA FERIAS','','','037','2','1',} )

aAdd(aRc3Cols, { '','S_','GRMEDFER','Indica se considera o campo Ferias Vencidas ao calcular as m','000001','000000','.MSG.','5','Indica se considera o campo Ferias Vencidas ao calcular as medias.','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("DIAS FERIAS MES :" + trim(str(NDIASFM)),1,1)','000002','000000','.EXE.','5','IIf(!Empty(NDIASFM),FADDMEMLOG("Dias férias mês :" + trim(str(NDIASFM)),1,2),"")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("DIAS FERIAS MES SEGUINTE :" + str(NDIASFMS),1,1)','000003','000000','.EXE.','5','IIf(!Empty(NDIASFMS),FADDMEMLOG("Dias férias mês seguinte :" + str(NDIASFMS),1,2),"")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','LMEDFER := IF(TYPE('+"'"+'P_MEDFER'+"'"+') <> "U", P_MEDFER, .T.)','000004','000000','.EXE.','5','lMedFer := If(Type('+"'"+'P_MEDFER'+"'"+') <> "U", P_MEDFER, .T.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CHRSMES := ACODFOL[622,1]','000005','000000','.EXE.','5','cHrsMes := aCodFol[622,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CHRSMS := ACODFOL[633,1]','000006','000000','.EXE.','5','cHrsMS := aCodFol[633,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CVLRMES := ACODFOL[623,1]','000007','000000','.EXE.','5','cVlrMes := aCodFol[623,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CVLRMS := ACODFOL[634,1]','000008','000000','.EXE.','5','cVlrMS := aCodFol[634,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CPERICMES := ACODFOL[1407,1]','000009','000000','.EXE.','5','cPericMes := aCodFol[1407,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CPERICMS := ACODFOL[1409,1]','000010','000000','.EXE.','5','cPericMS := aCodFol[1409,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CINSALMES := ACODFOL[1408,1]','000011','000000','.EXE.','5','cInsalMes := aCodFol[1408,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CINSALMS := ACODFOL[1410,1]','000012','000000','.EXE.','5','cInsalMS := aCodFol[1410,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','LTEMCODMPA := SRV->(COLUMNPOS( "RV_CODMPA" )) > 0','000013','000000','.EXE.','5','lTemCodMPA := SRV->(ColumnPos( "RV_CODMPA" )) > 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','__NFVEN := GETMEMVAR("RH_DFERVEN")     .CNT.','000014','000000','.EXE.','5','__NFVEN := GETMEMVAR("RH_DFERVEN")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','lMedFer .And. __NFVEN < 30 .And.  FindFunction("fgp030GetD','000015','000000','.CON.','5','','','5','lMedFer .And. __NFVEN < 30 .And.  FindFunction("fgp030GetDVen")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','Quando os dias vencidos sao menores que 30 pode ser que houv','000016','000015','.MSG.','5','Quando os dias vencidos sao menores que 30 pode ser que houve calculos anteriores para o periodo','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','nDFVPer := fgp030GetDVen()     .CNT.','000017','000015','.EXE.','5','nDFVPer := fgp030GetDVen()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','__NFVEN := If ( nDFVPer > __NFVEN, nDFVPer, __NFVEN )     .E','000018','000015','.EXE.','5','__NFVEN := If ( nDFVPer > __NFVEN, nDFVPer, __NFVEN )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("DIAS DE FERIAS VENCIDAS DO PERIODO :" + STR(__NF','000019','000000','.EXE.','5','IIf(!Empty(__NFVEN),FADDMEMLOG("Dias de férias vencidas do período:" + STR(__NFVEN),1,2),"")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','SRA->RA_CATFUNC == "C"','000020','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "C"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CCODPGMED := ACODFOL[343,1]','000021','000020','.EXE.','5','cCodPgMed := aCodFol[343,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CCODMEDFMS := ACODFOL[344,1]','000022','000020','.EXE.','5','cCodMedFMs := aCodFol[344,1]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','SRA->RA_CATFUNC == "T"','000023','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "T"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CCODPGMED := ACODFOL[345,1]','000024','000023','.EXE.','5','cCodPgMed := aCodFol[345,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CCODMEDFMS := ACODFOL[346,1]','000025','000023','.EXE.','5','cCodMedFMs := aCodFol[346,1]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','SRA->RA_CATFUNC $"I*J"','000026','000000','.CON.','5','','','5','SRA->RA_CATFUNC $"I*J"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CCODPGMED := ACODFOL[636,1]','000027','000026','.EXE.','5','cCodPgMed := aCodFol[636,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CCODMEDFMS := ACODFOL[637,1]','000028','000026','.EXE.','5','cCodMedFMs := aCodFol[637,1]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','EMPTY(CCODPGMED)','000029','000000','.CON.','5','','','5','Empty(cCodPgMed)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CCODPGMED := ACODFOL[075,1]','000030','000029','.EXE.','5','cCodPgMed := aCodFol[075,1]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','EMPTY(CCODMEDFMS)','000031','000000','.CON.','5','','','5','Empty(cCodMedFMs)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CCODMEDFMS := ACODFOL[076,1]','000032','000031','.EXE.','5','cCodMedFMs := aCodFol[076,1]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS999:= FLOCALIAPD( CCODPGMED )','000033','000000','.EXE.','5','nPos999:= FLocaliaPd( CCODPGMED )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS999 > 0','000034','000000','.CON.','5','','','5','nPos999 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIAS += FBUSCAPD( CCODPGMED )','000035','000034','.EXE.','5','nVFerias += fBuscaPd( CCODPGMED )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFM > 0 .AND. NPOS999 == 0','000036','000000','.CON.','5','','','5','nDiasFM > 0 .And. nPos999 == 0 .And. ((nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFM) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Verba :" + CCODPGMED + " - MEDIAS FERIAS VALOR M','000037','000036','.EXE.','5','FADDMEMLOG("Verba :"+CCODPGMED+" - "+AllTrim(RetValSRV(CCODPGMED,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(CCODPGMED,SRA->RA_FILIAL,"RV_CODFOL"))," (Id "+RetValSRV(CCODPGMED,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMediaOut / If(lMedFer,GetMemVar("','000038','000036','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFM, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("RESULTADO : " + STR(ROUND( (NMEDIAOUT / IF(LMEDF','000039','000036','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFM, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIAS += FGERAVERBA(CCODPGMED,ROUND( (NMEDIAOUT / IF(LMED','000040','000036','.EXE.','5','nVFerias += FGeraVerba(cCodPgMed,Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFM, 2),nDiasFM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS82:= FLOCALIAPD( ACODFOL[82,1] )','000041','000000','.EXE.','5','nPos82:= FLocaliaPd( aCodFol[82,1] )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS82 > 0','000042','000000','.CON.','5','','','5','nPos82 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIAS += FBUSCAPD( ACODFOL[82,1] )','000043','000042','.EXE.','5','nVFerias += fBuscaPd( aCodFol[82,1] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFM > 0 .AND. NPOS82 == 0','000044','000000','.CON.','5','','','5','nDiasFM > 0 .And. nPos82 == 0 .And. ((nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFM) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Verba :" + aCodfol[82,1] + " - MEDIAS S/ HORAS E','000045','000044','.EXE.','5','FADDMEMLOG("Verba :" + aCodfol[82,1] + " - "+AllTrim(RetValSRV(aCodfol[82,1],SRA->RA_FILIAL,"RV_DESC"))+" (Id 0082)" ,1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMediaHrs / If(lMedFer,GetMemVar("','000046','000044','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFM, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMediaHrs / If(lMedF','000047','000044','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFM, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIAS += FGERAVERBA(ACODFOL[82,1],ROUND( (NMEDIAHRS / IF(','000048','000044','.EXE.','5','nVFerias += FGeraVerba(aCodfol[82,1],Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFM, 2),nDiasFM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS639 := FLOCALIAPD( ACODFOL[639,1] )','000049','000000','.EXE.','5','nPos639 := FLocaliaPd( aCodFol[639,1] )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS639 > 0','000050','000000','.CON.','5','','','5','nPos639 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIAS += FBUSCAPD( ACODFOL[639,1] )','000051','000050','.EXE.','5','nVFerias += fBuscaPd( aCodFol[639,1] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFM > 0 .AND. NPOS639 == 0','000052','000000','.CON.','5','','','5','nDiasFM > 0 .And. nPos639 == 0 .And. ((nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFM) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Verba :" + aCodfol[639,1] + " - PAGTO PERIC. SOB','000053','000052','.EXE.','5','FADDMEMLOG("Verba :" + aCodfol[639,1] + " - "+AllTrim(RetValSRV(aCodfol[639,1],SRA->RA_FILIAL,"RV_DESC"))+" (Id 0639)",1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMedAdcP / If(lMedFer,GetMemVar("R','000054','000052','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFM,2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcP / If(lMedFe','000055','000052','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFM, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIAS += FGERAVERBA(ACODFOL[639,1],ROUND( (NMEDADCP / IF(','000056','000052','.EXE.','5','nVFerias += FGeraVerba(aCodfol[639,1],Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFM, 2),nDiasFM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS640 := FLOCALIAPD( ACODFOL[640,1] )','000057','000000','.EXE.','5','nPos640 := FLocaliaPd( aCodFol[640,1] )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS640 > 0','000058','000000','.CON.','5','','','5','nPos640 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIAS += FBUSCAPD( ACODFOL[640,1] )','000059','000058','.EXE.','5','nVFerias += fBuscaPd( aCodFol[640,1] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFM > 0 .AND. NPOS640 == 0','000060','000000','.CON.','5','','','5','nDiasFM > 0 .And. nPos640 == 0 .And. ((nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFM) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Verba :" + aCodfol[640,1] + " - PAGTO INSALUB. S','000061','000060','.EXE.','5','FADDMEMLOG("Verba :" + aCodfol[640,1] + " - "+AllTrim(RetValSRV(aCodfol[640,1],SRA->RA_FILIAL,"RV_DESC"))+" (Id 0640)",1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMedAdcI / If(lMedFer,GetMemVar("R','000062','000060','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFM, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcI / If(lMedFe','000063','000060','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFM, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIAS += FGERAVERBA(ACODFOL[640,1],ROUND( (NMEDADCI / IF(','000064','000060','.EXE.','5','nVFerias += FGeraVerba(aCodfol[640,1],Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFM, 2),nDiasFM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOSC9991:= FLOCALIAPD(CCODMEDFMS)','000065','000000','.EXE.','5','NPOS9991 := FLocaliaPd(CCODMEDFMS)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS9991 > 0','000066','000000','.CON.','5','','','5','NPOS9991 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','nVFeriasMS += FBUSCAPD( CCODMEDFMS )','000067','000066','.EXE.','5','nVFeriasMS += fBuscaPd( CCODMEDFMS )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS > 0 .AND. NPOS9991 == 0','000068','000000','.CON.','5','','','5','nDiasFMS > 0 .And. NPOS9991 == 0 .And. ((nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFMS) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Verba :" + CCODMEDFMS - " - MEDIA FERIAS VALOR M','000069','000068','.EXE.','5','FADDMEMLOG("Verba :"+CCODMEDFMS+" - "+AllTrim(RetValSRV(CCODMEDFMS,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(CCODMEDFMS, SRA->RA_FILIAL,"RV_CODFOL"))," (Id "+RetValSRV(CCODMEDFMS,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMediaOut / If(lMedFer,GetMemVar("','000070','000068','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + STR(Round( (nMediaOut / If(lMedF','000071','000068','.EXE.','5','FADDMEMLOG("Resultado : " + STR(Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS1 > 0','000072','000068','.CON.','5','','','5','nDiasFMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASMS += FGERAVERBA(CCODMEDFMS,ROUND( (NMEDIAOUT / IF(L','000073','000072','.EXE.','5','nVFeriasMS += FGeraVerba(cCodMedFMS,Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2), nDiasFMS,,,,,,,,,,,"1")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASM3 += FGERAVERBA(CCODMEDFMS,ROUND( (NMEDIAOUT / IF(L','000074','000072','.EXE.','5','nVFeriasM3 += FGeraVerba(cCodMedFMS,Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFMS1, 2), nDiasFMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS1 == 0','000075','000068','.CON.','5','','','5','nDiasFMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASMS += FGERAVERBA(CCODMEDFMS,ROUND( (NMEDIAOUT / IF(L','000076','000075','.EXE.','5','nVFeriasMS += FGeraVerba(cCodMedFMs,Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2), nDiasFMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS83:= FLOCALIAPD( ACODFOL[83,1] )','000077','000000','.EXE.','5','nPos83:= FLocaliaPd( aCodFol[83,1] )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS83 > 0','000078','000000','.CON.','5','','','5','nPos83 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','nVFeriasMS += FBUSCAPD( ACODFOL[83,1] )','000079','000078','.EXE.','5','nVFeriasMS += fBuscaPd( aCodFol[83,1] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS > 0 .AND. NPOS83 == 0','000080','000000','.CON.','5','','','5','nDiasFMS > 0 .And. nPos83 == 0 .And. ((nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFMS) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + ACODFOL[83,1] + " - MEDIAS S/ HORAS M','000081','000080','.EXE.','5','FADDMEMLOG("Verba :"+ACODFOL[83,1]+" - "+AllTrim(RetValSRV(aCodfol[83,1],SRA->RA_FILIAL,"RV_DESC"))+" (Id 0083)",1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMediaHrs / If(lMedFer,GetMemVar("','000082','000080','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMediaHrs / If(lMedF','000083','000080','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS1 > 0','000084','000080','.CON.','5','','','5','nDiasFMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASMS += FGERAVERBA(ACODFOL[83,1],ROUND( (NMEDIAHRS / I','000085','000084','.EXE.','5','nVFeriasMS += FGeraVerba(aCodfol[83,1],Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2), nDiasFMS,,,,,,,,,,,"1" )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASM3 += FGERAVERBA(ACODFOL[83,1],ROUND( (NMEDIAHRS / I','000086','000084','.EXE.','5','nVFeriasM3 += FGeraVerba(aCodfol[83,1],Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFMS1, 2), nDiasFMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS1 == 0','000087','000080','.CON.','5','','','5','nDiasFMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASMS += FGERAVERBA(ACODFOL[83,1],ROUND( (NMEDIAHRS / I','000088','000087','.EXE.','5','nVFeriasMS += FGeraVerba(aCodfol[83,1],Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2), nDiasFMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1405 := FLOCALIAPD( ACODFOL[1405,1] )','000089','000000','.EXE.','5','nPos1405 := FLocaliaPd( aCodFol[1405,1] )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1405 > 0','000090','000000','.CON.','5','','','5','nPos1405 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','nVFeriasMS += FBUSCAPD( ACODFOL[1405,1] )','000091','000090','.EXE.','5','nVFeriasMS += fBuscaPd( aCodFol[1405,1] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS > 0 .AND. NPOS1405 == 0','000092','000000','.CON.','5','','','5','nDiasFMS > 0 .And. nPos1405 == 0 .And. ((nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFMS) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + aCodFol[1405,1] + " - PAGTO PERIC. SO','000093','000092','.EXE.','5','FADDMEMLOG("Verba :" + aCodFol[1405,1] + " - "+AllTrim(RetValSRV(aCodfol[1405,1],SRA->RA_FILIAL,"RV_DESC"))+" (Id 1405)",1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMedAdcP / If(lMedFer,GetMemVar("R','000094','000092','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcP / If(lMedFe','000095','000092','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS1 > 0','000096','000092','.CON.','5','','','5','nDiasFMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASMS += FGERAVERBA(ACODFOL[1405,1],ROUND( (NMEDADCP /','000097','000096','.EXE.','5','nVFeriasMS += FGeraVerba(aCodfol[1405,1],Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2), nDiasFMS,,,,,,,,,,,"1" )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASM3 += FGERAVERBA(ACODFOL[1405,1],ROUND( (NMEDADCP /','000098','000096','.EXE.','5','nVFeriasM3 += FGeraVerba(aCodfol[1405,1],Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFMS1, 2), nDiasFMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS1 == 0','000099','000092','.CON.','5','','','5','nDiasFMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASMS += FGERAVERBA(ACODFOL[1405,1],ROUND( (NMEDADCP /','000100','000099','.EXE.','5','nVFeriasMS += FGeraVerba(aCodfol[1405,1],Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2), nDiasFMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1406 := FLOCALIAPD( ACODFOL[1406,1] )','000101','000000','.EXE.','5','nPos1406 := FLocaliaPd( aCodFol[1406,1] )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1406 > 0','000102','000000','.CON.','5','','','5','nPos1406 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','nVFeriasMS += FBUSCAPD( ACODFOL[1406,1] )','000103','000102','.EXE.','5','nVFeriasMS += fBuscaPd( aCodFol[1406,1] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS > 0 .AND. NPOS1406 == 0','000104','000000','.CON.','5','','','5','nDiasFMS > 0 .And. nPos1406 == 0 .And. ((nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFMS) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + aCodFol[1406,1] + " - PAGTO INSALUB.','000105','000104','.EXE.','5','FADDMEMLOG("Verba :" + aCodFol[1406,1] + " - "+AllTrim(RetValSRV(aCodfol[1406,1],SRA->RA_FILIAL,"RV_DESC"))+" (Id 1406)",1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMedAdcI / If(lMedFer,GetMemVar("R','000106','000104','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcI / If(lMedFe','000107','000104','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS1 > 0','000108','000104','.CON.','5','','','5','nDiasFMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASMS += FGERAVERBA(ACODFOL[1406,1],ROUND( (NMEDADCI /','000109','000108','.EXE.','5','nVFeriasMS += FGeraVerba(aCodfol[1406,1],Round( (nMedAdcI /  If(lMedFer,__NFVEN,30)) * nDiasFMS, 2), nDiasFMS,,,,,,,,,,,"1" )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASM3 += FGERAVERBA(ACODFOL[1406,1],ROUND( (NMEDADCI /','000110','000108','.EXE.','5','nVFeriasM3 += FGeraVerba(aCodfol[1406,1],Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFMS1, 2), nDiasFMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASFMS1 == 0','000111','000104','.CON.','5','','','5','nDiasFMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVFERIASMS += FGERAVERBA(ACODFOL[1406,1],ROUND( (NMEDADCI /','000112','000111','.EXE.','5','nVFeriasMS += FGeraVerba(aCodfol[1406,1],Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasFMS, 2), nDiasFMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','LTEMCODMPA .AND. !EMPTY(P_DINIADI) .AND. !EMPTY(P_DFIMADI) .','000113','000000','.CON.','5','','','5','lTemCodMPA .And. !Empty(P_DINIADI) .And. !Empty(P_DFIMADI) .And. GetMemVar("RH_DATAINI") >= P_DINIADI .And. GetMemVar("RH_DATAINI") <= P_DFIMADI','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','!EMPTY(RETVALSRV( ACODFOL[622,1], SRA->RA_FILIAL, "RV_CODMPA','000114','000113','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[622,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CHRSMES := RETVALSRV( ACODFOL[622,1], SRA->RA_FILIAL, "RV_CO','000115','000114','.EXE.','5','cHrsMes := RetValSrv( aCodFol[622,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','!EMPTY(RETVALSRV( ACODFOL[633,1], SRA->RA_FILIAL, "RV_CODMPA','000116','000113','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[633,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CHRSMS := RETVALSRV( ACODFOL[633,1], SRA->RA_FILIAL, "RV_COD','000117','000116','.EXE.','5','cHrsMS := RetValSrv( aCodFol[633,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','!EMPTY(RETVALSRV( ACODFOL[623,1], SRA->RA_FILIAL, "RV_CODMP','000118','000113','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[623,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CVLRMES := RETVALSRV( ACODFOL[623,1], SRA->RA_FILIAL, "RV_CO','000119','000118','.EXE.','5','cVlrMes := RetValSrv( aCodFol[623,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','!EMPTY(RETVALSRV( ACODFOL[634,1], SRA->RA_FILIAL, "RV_CODM','000120','000113','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[634,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CVLRMS := RETVALSRV( ACODFOL[634,1], SRA->RA_FILIAL, "RV_COD','000121','000120','.EXE.','5','cVlrMS := RetValSrv( aCodFol[634,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','!EMPTY(RETVALSRV( ACODFOL[1407,1], SRA->RA_FILIAL, "RV_CODMP','000122','000113','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[1407,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CPERICMES := RETVALSRV( ACODFOL[1407,1], SRA->RA_FILIAL, "RV','000123','000122','.EXE.','5','cPericMes := RetValSrv( aCodFol[1407,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','!EMPTY(RETVALSRV( ACODFOL[1409,1], SRA->RA_FILIAL, "RV_CODM','000124','000113','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[1409,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CPERICMS := RETVALSRV( ACODFOL[1409,1], SRA->RA_FILIAL, "RV_','000125','000124','.EXE.','5','cPericMS := RetValSrv( aCodFol[1409,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','!EMPTY(RETVALSRV( ACODFOL[1408,1], SRA->RA_FILIAL, "RV_CODM','000126','000113','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[1408,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CINSALMES := RETVALSRV( ACODFOL[1408,1], SRA->RA_FILIAL, "RV','000127','000126','.EXE.','5','cInsalMes := RetValSrv( aCodFol[1408,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','!EMPTY(RETVALSRV( ACODFOL[1410,1], SRA->RA_FILIAL, "RV_CODMP','000128','000113','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[1410,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','CINSALMS := RETVALSRV( ACODFOL[1410,1], SRA->RA_FILIAL, "RV_','000129','000128','.EXE.','5','cInsalMS := RetValSrv( aCodFol[1410,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS623 := FLOCALIAPD( CVLRMES )','000130','000000','.EXE.','5','nPos623 := FLocaliaPd( cVlrMes )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS623 > 0','000131','000000','.CON.','5','','','5','nPos623 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABONO += FBUSCAPD( CVLRMES )','000132','000131','.EXE.','5','nValAbono += fBuscaPd( cVlrMes )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABM > 0 .AND. NPOS623 == 0','000133','000000','.CON.','5','','','5','nDiasAbM > 0 .AND. nPos623 == 0 .And. ((nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasAbM) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + CVLRMES + " - MEDIA VALOR SOBRE ABONO','000134','000133','.EXE.','5','FADDMEMLOG("Verba :"+cVlrMes+" - "+AllTrim(RetValSRV(cVlrMes,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(cVlrMes, SRA->RA_FILIAL,"RV_CODFOL"))," (Id "+RetValSRV(cVlrMes,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMediaOut / If(lMedFer,GetMemVar("','000135','000133','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMediaOut / If(lMedF','000136','000133','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABONO += FGERAVERBA(CVLRMES,ROUND( (NMEDIAOUT / IF(LMEDF','000137','000133','.EXE.','5','nValAbono += FGeraVerba(cVlrMes,Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2), nDiasAbM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS622:= FLOCALIAPD( CHRSMES )','000138','000000','.EXE.','5','nPos622 := FLocaliaPd( cHrsMes )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS622 > 0','000139','000000','.CON.','5','','','5','nPos622 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABONO += FBUSCAPD( CHRSMES )','000140','000139','.EXE.','5','nValAbono += fBuscaPd( cHrsMes )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABM > 0 .AND. NPOS622 == 0','000141','000000','.CON.','5','','','5','nDiasAbM > 0 .AND. nPos622 == 0 .And. ((nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbM) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + CHRSMES + " - MEDIA HORAS SOBRE ABONO','000142','000141','.EXE.','5','FADDMEMLOG("Verba :"+cHrsMes+" - "+AllTrim(RetValSRV(cHrsMes,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(cHrsMes,SRA->RA_FILIAL,"RV_CODFOL"))," (Id "+RetValSRV(cHrsMes,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMediaHrs / If(lMedFer,GetMemVar("','000143','000141','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMediaHrs / If(lMedF','000144','000141','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABONO += FGERAVERBA(CHRSMES,ROUND( (NMEDIAHRS / IF(LMEDF','000145','000141','.EXE.','5','nValAbono += FGeraVerba(cHrsMes,Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2), nDiasAbM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1407 := FLOCALIAPD( CPERICMES )','000146','000000','.EXE.','5','nPos1407 := FLocaliaPd( cPericMes )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1407 > 0','000147','000000','.CON.','5','','','5','nPos1407 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABONO += FBUSCAPD( CPERICMES )','000148','000147','.EXE.','5','nValAbono += fBuscaPd( cPericMes )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABM > 0 .AND. NPOS1407 == 0','000149','000000','.CON.','5','','','5','nDiasAbM > 0 .AND. nPos1407 == 0 .And. ((nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbM) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + CPERICMES + " - PAGTO PERIC. SOBRE ME','000150','000149','.EXE.','5','FADDMEMLOG("Verba :"+cPericMes+" - "+AllTrim(RetValSRV(cPericMes,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(cPericMes, SRA->RA_FILIAL, "RV_CODFOL"))," (Id "+RetValSRV(cPericMes,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMedAdcP / If(lMedFer,GetMemVar("R','000151','000149','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcP / If(lMedFe','000152','000149','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABONO += FGERAVERBA(CPERICMES,ROUND( (NMEDADCP / IF(LMED','000153','000149','.EXE.','5','nValAbono += FGeraVerba(cPericMes,Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2), nDiasAbM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1408 := FLOCALIAPD( CINSALMES )','000154','000000','.EXE.','5','nPos1408 := FLocaliaPd( cInsalMes )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1408 > 0','000155','000000','.CON.','5','','','5','nPos1408 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABONO += FBUSCAPD( ACONVALABONO += FBUSCAPD( CINSALMES )','000156','000155','.EXE.','5','nValAbono += fBuscaPd( cInsalMes )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABM > 0 .AND. NPOS1408 == 0','000157','000000','.CON.','5','','','5','nDiasAbM > 0 .AND. nPos1408 == 0 .And. ((nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbM) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + CINSALMES + " - PAGTO INSALUB. SOBRE','000158','000157','.EXE.','5','FADDMEMLOG("Verba :"+cInsalMes+" - "+AllTrim(RetValSRV(cInsalMes,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(cInsalMes,SRA->RA_FILIAL,"RV_CODFOL"))," (Id "+RetValSRV(cInsalMes,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMedAdcI / If(lMedFer,GetMemVar("R','000159','000157','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcI / If(lMedFe','000160','000157','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABONO += FGERAVERBA(CINSALMES,ROUND( (NMEDADCI / IF(LMED','000161','000157','.EXE.','5','nValAbono += FGeraVerba(cInsalMes,Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbM, 2), nDiasAbM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS634 := FLOCALIAPD( CVLRMS )','000162','000000','.EXE.','5','nPos634 := FLocaliaPd( cVlrMS )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS634 > 0','000163','000000','.CON.','5','','','5','nPos634 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FBUSCAPD( CVLRMS )','000164','000163','.EXE.','5','nValAboMS += fBuscaPd( cVlrMS )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS > 0 .AND. NPOS634 == 0','000165','000000','.CON.','5','','','5','nDiasAbMS > 0 .AND. nPos634 == 0 .And. ((nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasAbMS) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + CVLRMS + " - MEDIA VALOR SOBRE ABONO','000166','000165','.EXE.','5','FADDMEMLOG("Verba :"+cVlrMS+" - "+AllTrim(RetValSRV(cVlrMS,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(cVlrMS,SRA->RA_FILIAL,"RV_CODFOL"))," (Id "+RetValSRV(cVlrMS,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMediaOut / If(lMedFer,GetMemVar("','000167','000165','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMediaOut / If(lMedF','000168','000165','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS1 > 0','000169','000165','.CON.','5','','','5','nDiasAbMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FGERAVERBA(CVLRMS,ROUND((NMEDIAOUT/ IF(LMEDFER,','000170','000169','.EXE.','5','nValAboMS += FGeraVerba(cVlrMS,Round((nMediaOut/ If(lMedFer,__NFVEN,30))* nDiasAbMS, 2), nDiasAbMS,,,,,,,,,,,"1")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOM3 += FGERAVERBA(CVLRMS, ROUND((NMEDIAOUT/ IF(LMEDFER','000171','000169','.EXE.','5','nValAboM3 += FGeraVerba(cVlrMS, Round((nMediaOut/ If(lMedFer,__NFVEN,30))* nDiasAbMS1,2), nDiasAbMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS1 == 0','000172','000165','.CON.','5','','','5','nDiasAbMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FGERAVERBA(CVLRMS,ROUND( (NMEDIAOUT / IF(LMEDFE','000173','000172','.EXE.','5','nValAboMS += FGeraVerba(cVlrMS,Round( (nMediaOut / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2), nDiasAbMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS633 := FLOCALIAPD( CHRSMS )','000174','000000','.EXE.','5','nPos633 := FLocaliaPd( cHrsMS )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS633 > 0','000175','000000','.CON.','5','','','5','nPos633 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FBUSCAPD( CHRSMS )','000176','000175','.EXE.','5','nValAboMS += fBuscaPd( cHrsMS )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS > 0 .AND. NPOS633 == 0','000177','000000','.CON.','5','','','5','nDiasAbMS > 0 .AND. nPos633 == 0 .And. ((nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbMS) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + CHRSMS + " - MEDIA HORAS SOBRE ABONO','000178','000177','.EXE.','5','FADDMEMLOG("Verba :"+cHrsMS+" - "+AllTrim(RetValSRV(cHrsMS,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(cHrsMS,SRA->RA_FILIAL,"RV_CODFOL"))," (Id "+RetValSRV(cHrsMS,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMediaHrs / If(lMedFer,GetMemVar("','000179','000177','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMediaHrs / If(lMedF','000180','000177','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS1 > 0','000181','000177','.CON.','5','','','5','nDiasAbMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FGERAVERBA(CHRSMS,ROUND( (NMEDIAHRS / IF(LMEDFE','000182','000181','.EXE.','5','nValAboMS += FGeraVerba(cHrsMS,Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2), nDiasAbMS,,,,,,,,,,,"1")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOM3 += FGERAVERBA(CHRSMS,ROUND( (NMEDIAHRS / IF(LMEDFE','000183','000181','.EXE.','5','nValAboM3 += FGeraVerba(cHrsMS,Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbMS1, 2), nDiasAbMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS1 == 0','000184','000177','.CON.','5','','','5','nDiasAbMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FGERAVERBA(CHRSMS,ROUND( (NMEDIAHRS / IF(LMEDFE','000185','000184','.EXE.','5','nValAboMS += FGeraVerba(cHrsMS,Round( (nMediaHrs / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2), nDiasAbMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1409 := FLOCALIAPD( CPERICMS )','000186','000000','.EXE.','5','nPos1409 := FLocaliaPd( cPericMS )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1409 > 0','000187','000000','.CON.','5','','','5','nPos1409 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FBUSCAPD( CPERICMS )','000188','000187','.EXE.','5','nValAboMS += fBuscaPd( cPericMS )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS > 0 .AND. NPOS1409 == 0','000189','000000','.CON.','5','','','5','nDiasAbMS > 0 .AND. nPos1409 == 0 .And. ((nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbMS) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + CPERICMS + " - PAGTO PERIC. SOBRE MED','000190','000189','.EXE.','5','FADDMEMLOG("Verba :"+cPericMS+" - "+AllTrim(RetValSRV(cPericMS,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(cPericMS,SRA->RA_FILIAL,"RV_CODFOL"))," (Id "+RetValSRV(cPericMS,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMedAdcP / If(lMedFer,GetMemVar("R','000191','000189','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcP / If(lMedFe','000192','000189','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS1 > 0','000193','000189','.CON.','5','','','5','nDiasAbMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FGERAVERBA(CPERICMS,ROUND( (NMEDADCP / IF(LMEDF','000194','000193','.EXE.','5','nValAboMS += FGeraVerba(cPericMS,Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2), nDiasAbMS,,,,,,,,,,,"1")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOM3 += FGERAVERBA(CPERICMS,ROUND( (NMEDADCP / IF(LMEDF','000195','000193','.EXE.','5','nValAboM3 += FGeraVerba(cPericMS,Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbMS1, 2), nDiasAbMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS1 == 0','000196','000189','.CON.','5','','','5','nDiasAbMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FGERAVERBA(CPERICMS,ROUND( (NMEDADCP / IF(LMEDF','000197','000196','.EXE.','5','nValAboMS += FGeraVerba(cPericMS,Round( (nMedAdcP / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2), nDiasAbMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1410 := FLOCALIAPD( CINSALMS )','000198','000000','.EXE.','5','nPos1410 := FLocaliaPd( cInsalMS )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NPOS1410 > 0','000199','000000','.CON.','5','','','5','nPos1410 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FBUSCAPD( CINSALMS )','000200','000199','.EXE.','5','nValAboMS += fBuscaPd( cInsalMS )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS > 0 .AND. NPOS1410 == 0','000201','000000','.CON.','5','','','5','nDiasAbMS > 0 .AND. nPos1410 == 0 .And. ((nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbMS) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("VERBA :" + CINSALMS + " - PAGTO INSALUB. SOBRE M','000202','000201','.EXE.','5','FADDMEMLOG("Verba :"+cInsalMS+" - "+AllTrim(RetValSRV(cInsalMS,SRA->RA_FILIAL,"RV_DESC"))+If(!Empty(RetValSRV(cInsalMS,SRA->RA_FILIAL,"RV_CODFOL")), "(Id "+RetValSRV(cInsalMS,SRA->RA_FILIAL,"RV_CODFOL")+")",""),1,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG('+"'"+'+"'+"'"+'"+'+"'"+'Round( (nMedAdcI / If(lMedFer,GetMemVar("R','000203','000201','.EXE.','5','FADDMEMLOG('+"'"+'Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2)'+"'"+',1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcI / If(lMedFe','000204','000201','.EXE.','5','FADDMEMLOG("Resultado : " + str(Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2)),1,3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS1 > 0','000205','000201','.CON.','5','','','5','nDiasAbMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FGERAVERBA(CINSALMS,ROUND( (NMEDADCI / IF(LMEDF','000206','000205','.EXE.','5','nValAboMS += FGeraVerba(cInsalMS,Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2), nDiasAbMS,,,,,,,,,,,"1")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOM3 += FGERAVERBA(CINSALMS,ROUND( (NMEDADCI / IF(LMEDF','000207','000205','.EXE.','5','nValAboM3 += FGeraVerba(cInsalMS,Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbMS1, 2), nDiasAbMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NDIASABMS1 == 0','000208','000201','.CON.','5','','','5','nDiasAbMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRMEDFER','NVALABOMS += FGERAVERBA(CINSALMS,ROUND( (NMEDADCI / IF(LMEDF','000209','000208','.EXE.','5','nValAboMS += FGeraVerba(cInsalMS,Round( (nMedAdcI / If(lMedFer,__NFVEN,30)) * nDiasAbMS, 2), nDiasAbMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0229    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0229( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRPENPLR','GERACAO DA PENSAO DA PLR','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','GRPENPLR','EMPTY(CVERBAROT)','000001','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRPENPLR','CVERBAROT := ACODFOL[152,1]','000002','000001','.EXE.','5','cVerbaRot := aCodFol[152,1]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRPENPLR','FCALCPENSAO("XXX", CVERBAROT,,0,DDATA_PGTO)     .END.','000003','000000','.EXE.','5','fCalcPensao("XXX", cVerbaRot,,0,dData_Pgto)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0230    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0230( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRTERABO','GERA 1/3 ABONO PECUNIARIO','','','019','2','1',} )

aAdd(aRc3Cols, { '','S_','GRTERABO','CCODMES := ACODFOL[79,1]','000001','000000','.EXE.','5','cCodMes := aCodFol[79,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CCODMS := ACODFOL[206,1]','000002','000000','.EXE.','5','cCodMs := aCodFol[206,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','LTEMCODMPA := SRV->(COLUMNPOS( "RV_CODMPA" )) > 0','000003','000000','.EXE.','5','lTemCodMPA := SRV->(ColumnPos( "RV_CODMPA" )) > 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','lPostUmT := SRH->( ColumnPos( "RH_POSTUMT" ) ) > 0 .And. M->','000004','000000','.EXE.','5','lPostUmT := SRH->( ColumnPos( "RH_POSTUMT" ) ) > 0 .And. M->RH_POSTUMT == "3"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','nPosMS := 0     .CNT.','000005','000000','.EXE.','5','nPosMS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','!EMPTY(P_ADIPINI) .AND. !EMPTY(P_ADIUTAM) .AND. CPERIODO >=','000006','000000','.CON.','5','','','5','!Empty(P_ADIPINI) .And. !Empty(P_ADIUTAM) .And. cPeriodo >= P_ADIPINI .And. cPeriodo <= P_ADIPFIM','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','LDISSIDIO','000007','000006','.CON.','5','','','5','lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','AAREASRR := SRR->( GETAREA() )','000008','000007','.EXE.','5','aAreaSRR := SRR->( GetArea() )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','SRR->( DBSETORDER(1) )','000009','000007','.EXE.','5','SRR->( dbSetOrder(1) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','SRR->( DBSEEK( SRA->RA_FILIAL+SRA->RA_MAT+"F"+DTOS(GETMEMVAR','000010','000007','.CON.','5','','','5','SRR->( dbSeek( SRA->RA_FILIAL+SRA->RA_MAT+"F"+dToS(GETMEMVAR("RH_DATAINI"))+P_ADIUTAM  ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CCODMES := P_ADIUTAM','000011','000010','.EXE.','5','cCodMes := P_ADIUTAM','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CCODMS := P_ADIUTAMS','000012','000010','.EXE.','5','cCodMs := P_ADIUTAMS','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','RESTAREA( AAREASRR )','000013','000007','.EXE.','5','RestArea( aAreaSRR )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','!LDISSIDIO','000014','000006','.CON.','5','','','5','!lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CCODMES := P_ADIUTAM','000015','000014','.EXE.','5','cCodMes := P_ADIUTAM','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CCODMS := P_ADIUTAMS','000016','000014','.EXE.','5','cCodMs := P_ADIUTAMS','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','LTEMCODMPA .AND. !EMPTY(P_DINIADI) .AND. !EMPTY(P_DFIMADI) .','000017','000000','.CON.','5','','','5','lTemCodMPA .And. !Empty(P_DINIADI) .And. !Empty(P_DFIMADI) .And. GetMemVar("RH_DATAINI") >= P_DINIADI .And. GetMemVar("RH_DATAINI") <= P_DFIMADI','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','!EMPTY(RETVALSRV( ACODFOL[79,1], SRA->RA_FILIAL, "RV_CODMPA"','000018','000017','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[79,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CCODMES := RETVALSRV( ACODFOL[79,1], SRA->RA_FILIAL, "RV_COD','000019','000018','.EXE.','5','cCodMes := RetValSrv( aCodFol[79,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','!EMPTY(RETVALSRV( ACODFOL[206,1], SRA->RA_FILIAL, "RV_CODMPA','000020','000017','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[206,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CCODMS := RETVALSRV( ACODFOL[206,1], SRA->RA_FILIAL, "RV_COD','000021','000020','.EXE.','5','cCodMs := RetValSrv( aCodFol[206,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NPOS79 := FLOCALIAPD( CCODMES )','000022','000000','.EXE.','5','nPos79 := FLocaliaPd( cCodMes )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NADCABO := 0','000023','000000','.EXE.','5','nAdcAbo := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NADCABOMS := 0','000024','000000','.EXE.','5','nAdcAboMs := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CADCABO := ACODFOL[1312,1] + "*" + ACODFOL[1314,1] + "*" + A','000025','000000','.EXE.','5','cAdcAbo := aCodFol[1312,1] + "*" + aCodFol[1314,1] + "*" + aCodFol[1316,1] + "*" + aCodFol[1318,1] + "*" + aCodFol[1320,1] + "*" + aCodFol[1322,1] + "*" + aCodFol[1324,1] + "*" + aCodFol[1326,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','CADCABOMS := ACODFOL[1313,1] + "*" + ACODFOL[1315,1] + "*" +','000026','000000','.EXE.','5','cAdcAboMs := aCodFol[1313,1] + "*" + aCodFol[1315,1] + "*" + aCodFol[1317,1] + "*" + aCodFol[1319,1] + "*" + aCodFol[1321,1] + "*" + aCodFol[1323,1] + "*" + aCodFol[1325,1] + "*" + aCodFol[1327,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','AEVAL(APD ,{ |X| IF(X[1] $ CADCABO .AND. X[7] $ "I*G" .AND.','000027','000000','.EXE.','5','Aeval(aPd ,{ |X| If(x[1] $ cAdcAbo .and. x[7] $ "I*G" .and. x[9] <> "D", nAdcAbo += x[5], 0) })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','AEVAL(APD ,{ |X| IF(X[1] $ CADCABOMS .AND. X[7] $ "I*G" .AND','000028','000000','.EXE.','5','Aeval(aPd ,{ |X| If(x[1] $ cAdcAboMs .and. x[7] $ "I*G" .and. x[9] <> "D", nAdcAboMs += x[5], 0) })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NDIASABM > 0 .AND. NPOS79 == 0','000029','000000','.CON.','5','','','5','nDiasAbM > 0 .And. nPos79 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NPERC  :=  POSSRV(CCODMES,SRA->RA_FILIAL,"RV_PERC")','000030','000029','.EXE.','5','nPerc  :=  PosSrv(cCodMes,SRA->RA_FILIAL,"RV_PERC")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','!lPostUmT   .END.','000031','000029','.CON.','5','','','5','!lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','FMATRIZ(CCODMES,ROUND((NVALABONO+NADCABO) * IF (NPERC=0.00 .','000032','000031','.EXE.','5','FMatriz(cCodMes,Round((nValAbono+nAdcAbo) * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','lPostUmT   .END.','000033','000029','.CON.','5','','','5','lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','aAdd( aPDUmT, { cCodMes, Round((nValAbono+nAdcAbo) * If (nPe','000034','000033','.EXE.','5','aAdd( aPDUmT, { cCodMes, Round((nValAbono+nAdcAbo) * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2) } )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NPOS206 := FLOCALIAPD( CCODMS )','000035','000000','.EXE.','5','nPos206 := FLocaliaPd( cCodMs )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NDIASABMS > 0 .AND. NPOS206 == 0','000036','000000','.CON.','5','','','5','nDiasABMS > 0 .And. nPos206 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NPERC  :=  POSSRV(CCODMS,SRA->RA_FILIAL,"RV_PERC")','000037','000036','.EXE.','5','nPerc  :=  PosSrv(cCodMs,SRA->RA_FILIAL,"RV_PERC")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','!lPostUmT   .END.','000038','000036','.CON.','5','','','5','!lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','FMATRIZ(CCODMS,ROUND((NVALABOMS+NADCABOMS) * IF (NPERC=0.00','000039','000038','.EXE.','5','FMatriz(cCodMs,Round((nValAboMS+nAdcAboMs) * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2),,,,,,,,,,"1")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','lPostUmT   .END.','000040','000036','.CON.','5','','','5','lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','aAdd( aPDUmT, { cCodMs, Round((nValAboMS+nAdcAboMs) * If (nP','000041','000040','.EXE.','5','aAdd( aPDUmT, { cCodMs, Round((nValAboMS+nAdcAboMs) * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2) } )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','NDIASABMS1 > 0 .AND. NPOS206 == 0','000042','000000','.CON.','5','','','5','nDiasABMS1 > 0 .And. nPos206 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','!lPostUmT   .END.','000043','000042','.CON.','5','','','5','!lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','FMATRIZ(CCODMS,ROUND(NVALABOM3 * IF (NPERC=0.00 .OR. NPERC=1','000044','000043','.EXE.','5','FMatriz(cCodMs,Round(nValAboM3 * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2),,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','lPostUmT   .END.','000045','000042','.CON.','5','','','5','lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','( nPosMS := aScan( aPDUmT, { |x| x[1] == cCodMs } ) ) > 0','000046','000045','.CON.','5','','','5','( nPosMS := aScan( aPDUmT, { |x| x[1] == cCodMs } ) ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','aPDUmT[nPosMS, 2] += Round(nValAboM3 * If (nPerc=0.00 .Or. n','000047','000046','.EXE.','5','aPDUmT[nPosMS, 2] += Round(nValAboM3 * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','( nPosMS := aScan( aPDUmT, { |x| x[1] == cCodMs } ) ) == 0','000048','000045','.CON.','5','','','5','( nPosMS := aScan( aPDUmT, { |x| x[1] == cCodMs } ) ) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERABO','aAdd( aPDUmT, { cCodMs, Round(nValAboM3 * If (nPerc=0.00 .Or','000049','000048','.EXE.','5','aAdd( aPDUmT, { cCodMs, Round(nValAboM3 * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2) } )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0231    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0231( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRTERFER','GERA 1/3 DE FERIAS','','','026','2','1',} )

aAdd(aRc3Cols, { '','S_','GRTERFER','CCODMES := IF( FCFAPINV() , ACODFOL[125,1] , ACODFOL[77,1])','000001','000000','.EXE.','5','cCodMes := If( fCFApInv() , aCodFol[125,1] , aCodFol[77,1])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','CCODMS := ACODFOL[78,1]','000002','000000','.EXE.','5','cCodMs := aCodFol[78,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','LTEMCODMPA := SRV->(COLUMNPOS( "RV_CODMPA" )) > 0','000003','000000','.EXE.','5','lTemCodMPA := SRV->(ColumnPos( "RV_CODMPA" )) > 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','lPostUmT := SRH->( ColumnPos( "RH_POSTUMT" ) ) > 0 .And. M->','000004','000000','.EXE.','5','lPostUmT := SRH->( ColumnPos( "RH_POSTUMT" ) ) > 0 .And. M->RH_POSTUMT == "3"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','nPosMS := 0     .CNT.','000005','000000','.EXE.','5','nPosMS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','!EMPTY(P_ADIPINI) .AND. !EMPTY(P_ADIUTFM) .AND. CPERIODO >=','000006','000000','.CON.','5','','','5','!Empty(P_ADIPINI) .And. !Empty(P_ADIUTFM) .And. cPeriodo >= P_ADIPINI .And. cPeriodo <= P_ADIPFIM','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','LDISSIDIO','000007','000006','.CON.','5','','','5','lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','AAREASRR := SRR->( GETAREA() )','000008','000007','.EXE.','5','aAreaSRR := SRR->( GetArea() )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','SRR->( DBSETORDER(1) )','000009','000007','.EXE.','5','SRR->( dbSetOrder(1) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','SRR->( DBSEEK( SRA->RA_FILIAL+SRA->RA_MAT+"F"+DTOS(GETMEMVAR','000010','000007','.CON.','5','','','5','SRR->( dbSeek( SRA->RA_FILIAL+SRA->RA_MAT+"F"+dtoS(GetMemVar("RH_DATAINI"))+P_ADIUTFM ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','CCODMES := P_ADIUTFM','000011','000010','.EXE.','5','cCodMes := P_ADIUTFM','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','CCODMS := P_ADIUTFMS','000012','000010','.EXE.','5','cCodMs := P_ADIUTFMS','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','RESTAREA( AAREASRR )','000013','000007','.EXE.','5','RestArea( aAreaSRR )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','!LDISSIDIO','000014','000006','.CON.','5','','','5','!lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','CCODMES := P_ADIUTFM','000015','000014','.EXE.','5','cCodMes := P_ADIUTFM','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','CCODMS := P_ADIUTFMS','000016','000014','.EXE.','5','cCodMs := P_ADIUTFMS','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','LTEMCODMPA .AND. !EMPTY(P_DINIADI) .AND. !EMPTY(P_DFIMADI) .','000017','000000','.CON.','5','','','5','lTemCodMPA .And. !Empty(P_DINIADI) .And. !Empty(P_DFIMADI) .And. GetMemVar("RH_DATAINI") >= P_DINIADI .And. GetMemVar("RH_DATAINI") <= P_DFIMADI','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','!EMPTY(RETVALSRV( ACODFOL[77,1], SRA->RA_FILIAL, "RV_CODMPA"','000018','000017','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[77,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','CCODMES := RETVALSRV( ACODFOL[77,1], SRA->RA_FILIAL, "RV_COD','000019','000018','.EXE.','5','cCodMes := RetValSrv( aCodFol[77,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','!EMPTY(RETVALSRV( ACODFOL[78,1], SRA->RA_FILIAL, "RV_CODMPA"','000020','000017','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[78,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','CCODMS := RETVALSRV( ACODFOL[78,1], SRA->RA_FILIAL, "RV_CODM','000021','000020','.EXE.','5','cCodMs := RetValSrv( aCodFol[78,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NPOS77 := FLOCALIAPD( CCODMES )','000022','000000','.EXE.','5','nPos77 := FLocaliaPd( cCodMes )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NADICFER := 0     .CNT.','000023','000000','.EXE.','5','NADICFER := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NADICFERMS := 0     .CNT.','000024','000000','.EXE.','5','NADICFERMS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','CCODFER := aCodFol[1296,1] + "*" + aCodFol[1298,1] + "*" + a','000025','000000','.EXE.','5','CCODFER := aCodFol[1296,1] + "*" + aCodFol[1298,1] + "*" + aCodFol[1300,1] + "*" + aCodFol[1302,1] + "*" + aCodFol[1304,1] + "*" + aCodFol[1306,1] + "*" + aCodFol[1308,1] + "*" + aCodFol[1310,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','cCodFerMs := aCodFol[1297,1] + "*" + aCodFol[1299,1] + "*" +','000026','000000','.EXE.','5','cCodFerMs := aCodFol[1297,1] + "*" + aCodFol[1299,1] + "*" + aCodFol[1301,1] + "*" + aCodFol[1303,1] + "*" + aCodFol[1305,1] + "*" + aCodFol[1307,1] + "*" + aCodFol[1309,1] + "*" + aCodFol[1311,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','Aeval(aPd ,{ |X| If(x[1] $ cCodFer .and. x[7] == "I" .and. x','000027','000000','.EXE.','5','Aeval(aPd ,{ |X| If(x[1] $ cCodFer .and. x[7] == "I" .and. x[9] <> "D", nAdicFer += x[5], 0) })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','Aeval(aPd ,{ |X| If(x[1] $ cCodFerMs .and. x[7] == "I" .and.','000028','000000','.EXE.','5','Aeval(aPd ,{ |X| If(x[1] $ cCodFerMs .and. x[7] == "I" .and. x[9] <> "D", nAdicFerMs += x[5], 0) })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NVALPROV > 0 .AND. NVALPROV > ( NVFERIAS + NVFERIASMS + NVFE','000029','000000','.CON.','5','','','5','NVALPROV > 0 .And. NVALPROV > ( NVFERIAS + NVFERIASMS + NVFERIASM3 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NVFERIAS:= ( (NVALPROV - NADICFER - NADICFERMS) / GETMEMVAR(','000030','000029','.EXE.','5','NVFERIAS:= ( (NVALPROV - NADICFER - NADICFERMS) / GETMEMVAR('+"'"+'RH_DFERIAS'+"'"+') ) * NDIASFM','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NVFERIASMS := ((NVALPROV - NADICFER - NADICFERMS) / GETMEMVA','000031','000029','.EXE.','5','NVFERIASMS := ((NVALPROV - NADICFER - NADICFERMS) / GETMEMVAR('+"'"+'RH_DFERIAS'+"'"+') ) * NDIASFMS','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NVFERIASM3 := ((NVALPROV - NADICFER - NADICFERMS) / GETMEMVA','000032','000029','.EXE.','5','NVFERIASM3 := ((NVALPROV - NADICFER - NADICFERMS) / GETMEMVAR('+"'"+'RH_DFERIAS'+"'"+') ) * NDIASFMS1','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NDIASFM > 0 .AND. NPOS77 == 0','000033','000000','.CON.','5','','','5','nDiasFM > 0 .And. nPos77 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NPERC := POSSRV(CCODMES, SRA->RA_FILIAL,"RV_PERC")','000034','000033','.EXE.','5','nPerc := PosSrv(cCodMes, SRA->RA_FILIAL,"RV_PERC")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NVFERIAS := NVFERIAS + NADICFER     .CNT.','000035','000033','.EXE.','5','NVFERIAS := NVFERIAS + NADICFER','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','!lPostUmT   .END.','000036','000033','.CON.','5','','','5','!lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','FMATRIZ(CCODMES, ROUND(NVFERIAS * IF (NPERC=0.00 .OR. NPERC=','000037','000036','.EXE.','5','FMatriz(cCodMes, Round(nVFerias * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','lPostUmT   .END.','000038','000033','.CON.','5','','','5','lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','aAdd( aPDUmT, { cCodMes, Round(nVFerias * If (nPerc=0.00 .Or','000039','000038','.EXE.','5','aAdd( aPDUmT, { cCodMes, Round(nVFerias * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2) } )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NPOS78 := FLOCALIAPD( CCODMS )','000040','000000','.EXE.','5','nPos78 := FLocaliaPd( cCodMs )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NDIASFMS > 0 .AND. NPOS78 == 0','000041','000000','.CON.','5','','','5','nDIasFMS > 0 .And. nPos78 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NPERC := POSSRV(CCODMS, SRA->RA_FILIAL,"RV_PERC")','000042','000041','.EXE.','5','nPerc := PosSrv(cCodMs, SRA->RA_FILIAL,"RV_PERC")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NVFERIAS := NVFERIAS + NADICFERMS     .CNT.','000043','000041','.EXE.','5','NVFERIASMS := NVFERIASMS + NADICFERMS','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','!lPostUmT   .END.','000044','000041','.CON.','5','','','5','!lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','FMATRIZ(CCODMS, ROUND(NVFERIASMS * IF (NPERC=0.00 .OR. NPERC','000045','000044','.EXE.','5','FMatriz(cCodMs, Round(nVFeriasMs * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2) ,,,,,,,,,,"1")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','lPostUmT   .END.','000046','000041','.CON.','5','','','5','lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','aAdd( aPDUmT, { cCodMs, Round(nVFeriasMs * If (nPerc=0.00 .O','000047','000046','.EXE.','5','aAdd( aPDUmT, { cCodMs, Round(nVFeriasMs * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2) } )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NDIASFMS1 > 0 .AND. NPOS78 == 0','000048','000000','.CON.','5','','','5','nDiasFMS1 > 0 .And. nPos78 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','NFVERIASM3 := NVFERIASM3 + NADICFERMS','000049','000048','.EXE.','5','NFVERIASM3 := NVFERIASM3 + NADICFERMS','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','!lPostUmT   .END.','000050','000048','.CON.','5','','','5','!lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','FMATRIZ(CCODMS, ROUND(NVFERIASM3 * IF (NPERC=0.00 .OR. NPERC','000051','000050','.EXE.','5','FMatriz(cCodMs, Round(nVFeriasM3 * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2),,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','lPostUmT   .END.','000052','000048','.CON.','5','','','5','lPostUmT','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','( nPosMS := aScan( aPDUmT, { |x| x[1] == cCodMs } ) ) > 0','000053','000052','.CON.','5','','','5','( nPosMS := aScan( aPDUmT, { |x| x[1] == cCodMs } ) ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','aPDUmT[nPosMS, 2] += Round(nVFeriasM3 * If (nPerc=0.00 .Or.','000054','000053','.EXE.','5','aPDUmT[nPosMS, 2] += Round(nVFeriasM3 * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','( nPosMS := aScan( aPDUmT, { |x| x[1] == cCodMs } ) ) == 0','000055','000052','.CON.','5','','','5','( nPosMS := aScan( aPDUmT, { |x| x[1] == cCodMs } ) ) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRTERFER','aAdd( aPDUmT, { cCodMs, Round(nVFeriasM3 * If (nPerc=0.00 .O','000056','000055','.EXE.','5','aAdd( aPDUmT, { cCodMs, Round(nVFeriasM3 * If (nPerc=0.00 .Or. nPerc=100.00, 1/3 ,nPerc / 100), 2) } )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0232    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0232( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVABOPE','GERA ABONO PECUNIARIO','','','016','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVABOPE','CCODMES := ACODFOL[74,1]','000001','000000','.EXE.','5','cCodMes := aCodFol[74,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','CCODMS := ACODFOL[205,1]','000002','000000','.EXE.','5','cCodMs := aCodFol[205,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','LTEMCODMPA := SRV->(COLUMNPOS( "RV_CODMPA" )) > 0','000003','000000','.EXE.','5','lTemCodMPA := SRV->(ColumnPos( "RV_CODMPA" )) > 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','LTEMCODMPA .AND. !EMPTY(P_DINIADI) .AND. !EMPTY(P_DFIMADI) .','000004','000000','.CON.','5','','','5','lTemCodMPA .And. !Empty(P_DINIADI) .And. !Empty(P_DFIMADI) .And. GetMemVar("RH_DATAINI") >= P_DINIADI .And. GetMemVar("RH_DATAINI") <= P_DFIMADI','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','!EMPTY(RETVALSRV( ACODFOL[74,1], SRA->RA_FILIAL, "RV_CODMPA"','000005','000004','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[74,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','CCODMES := RETVALSRV( ACODFOL[74,1], SRA->RA_FILIAL, "RV_CO','000006','000005','.EXE.','5','cCodMes := RetValSrv( aCodFol[74,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','!EMPTY(RETVALSRV( ACODFOL[205,1], SRA->RA_FILIAL, "RV_CODMPA','000007','000004','.CON.','5','','','5','!Empty(RetValSrv( aCodFol[205,1], SRA->RA_FILIAL, "RV_CODMPA"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','CCODMS :=  RETVALSRV( ACODFOL[205,1], SRA->RA_FILIAL, "RV_CO','000008','000007','.EXE.','5','cCodMs := RetValSrv( aCodFol[205,1], SRA->RA_FILIAL, "RV_CODMPA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NPOS74 := FLOCALIAPD( CCODMES )','000009','000000','.EXE.','5','nPos74 := FLocaliaPd( cCodMes )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NPOS74 > 0','000010','000000','.CON.','5','','','5','nPos74 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NVALABONO += FBUSCAPD( CCODMES )','000011','000010','.EXE.','5','nValAbono += fBuscaPd( cCodMes )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NDIASABM > 0 .AND. NPOS74 == 0','000012','000000','.CON.','5','','','5','nDiasAbM > 0 .And. nPos74 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NVALABONO += FGERAVERBA(CCODMES, ROUND(NSALD1 * NDIASA','000013','000012','.EXE.','5','nValAbono += FGeraVerba(cCodMes, Round(nSalD1 * nDiasAbM,2), nDiasAbM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','FCODABON(@NVALABONO, 2)','000014','000000','.EXE.','5','fCodAbon(@NVALABONO, 2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NPOS205 := FLOCALIAPD( CCODMS )','000015','000000','.EXE.','5','nPos205 := FLocaliaPd( cCodMs )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NPOS205 > 0','000016','000000','.CON.','5','','','5','nPos205 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NVALABOMS += FBUSCAPD( CCODMS )','000017','000016','.EXE.','5','nValAboMS += fBuscaPd( cCodMs )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NDIASABMS > 0 .AND. NPOS205 == 0','000018','000000','.CON.','5','','','5','nDiasAbMS > 0 .And. nPos205 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NDIASABMS1 > 0','000019','000018','.CON.','5','','','5','nDiasAbMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NVALABOMS += FGERAVERBA(CCODMS, ROUND(NSALD2 * NDIAS','000020','000019','.EXE.','5','nValAboMS += FGeraVerba(cCodMs, Round(nSalD2 * nDiasAbMS,2), nDiasAbMS,,,,,,,,,,,"1")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NVALABOM3 += FGERAVERBA(CCODMS, ROUND(NSALD1 * NDIAS','000021','000019','.EXE.','5','nValAboM3 += FGeraVerba(cCodMs, Round(nSalD1 * nDiasAbMS1,2), nDiasAbMS1,,,,,,,,,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','FCODABON(@NVALABOMS, 3)','000022','000018','.EXE.','5','FCODABON(@NVALABOMS, 3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NDIASABMS1 == 0','000023','000018','.CON.','5','','','5','nDiasAbMS1 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVABOPE','NVALABOMS += FGERAVERBA(CCODMS, ROUND(NSALD2 * NDIAS','000024','000023','.EXE.','5','nValAboMS += FGeraVerba(cCodMs, Round(nSalD2 * nDiasAbMS,2), nDiasAbMS)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0233    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0233( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVACONF','GRAVAR  ADICIONAL CARGO CONFIANCA','','','022','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVACONF','NADCCONF > 0 .AND. CTIPOROT != "2" .AND. DIASTRAB + IF(NDAPA','000001','000000','.CON.','5','','','5','nAdcConf > 0 .And. cTipoRot != "2" .And. DiasTrab + If(nDaPaPg>0,nDaPaPg,nDiasPg) + nDiasFgts - nDiasMat > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','EMPTY(CVERBAROT)','000002','000001','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','CTIPOROT $ "1*2*4"','000003','000002','.CON.','5','','','5','cTipoRot $ "1*2*4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','CVERBAROT := FGETCODFOL("0984")','000004','000003','.EXE.','5','cVerbaRot := fGetCodFol("0984")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','!EMPTY(CVERBAROT)','000005','000001','.CON.','5','','','5','!Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','NPOS := ASCAN(APD,{ |X| X[1] == CVERBAROT .AND. X[9] # '+"'"+'D'+"'"+'','000006','000005','.EXE.','5','nPos := Ascan(aPd,{ |x| x[1] == cVerbaRot .And. x[9] # '+"'"+'D'+"'"+' } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','000007','000005','.CON.','5','','','5','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','NDIASPGCPY:= NDIASPG','000008','000007','.EXE.','5','NDIASPGCPY:= NDIASPG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','NDAPAPG > 0','000009','000007','.CON.','5','','','5','NDAPAPG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','NDIASPG := NDAPAPG','000010','000009','.EXE.','5','NDIASPG := NDAPAPG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','NDAPAPG == 0','000011','000007','.CON.','5','','','5','NDAPAPG == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','NDIASPG := 0','000012','000011','.EXE.','5','NDIASPG := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','!(CTIPOROT == "4" .AND. AINCRES[15] == "N" .AND. !(AINCRES[2','000013','000007','.CON.','5','','','5','!(cTipoRot == "4" .And. aIncRes[15] == "N" .And. !(aIncRes[2] $ "T/I"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','FGERAVERBA(CVERBAROT,NADCCONF,DIASTRAB+NDIASPG,CSEMANA,,,,,,','000014','000013','.EXE.','5','fGeraVerba(cVerbaRot,nAdcConf,DiasTrab+nDiasPg,cSemana,,,,,,,,,,,,If(cTipoRot=="4", If(SRA->RA_TPCONTR == "3", .F., !("5" $ P_ADCINTEG)),.T.))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVACONF','NDIASPG := NDIASPGCPY','000015','000007','.EXE.','5','NDIASPG := NDIASPGCPY','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0234    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0234( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVADI13','GRAVA ADICIONAIS','','','044','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVADI13','CCODATS1 := FGETCODFOL("1630")+"/"+FGETCODFOL("1631")','000001','000000','.EXE.','5','cCodATS1 := fGetCodFol("1630")+"/"+fGetCodFol("1631")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','CCODATS2 := FGETCODFOL("1438")+"/"+FGETCODFOL("1439")+"/"+FG','000002','000000','.EXE.','5','cCodATS2 := fGetCodFol("1438")+"/"+fGetCodFol("1439")+"/"+fGetCodFol("1641")+"/"+fGetCodFol("1642")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','CCODATS3 := FGETCODFOL("1925")+"/"+FGETCODFOL("1926")+"/"+FG','000003','000000','.EXE.','5','cCodATS3 := fGetCodFol("1925")+"/"+fGetCodFol("1926")+"/"+fGetCodFol("1937")+"/"+fGetCodFol("1938")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','CCODINS1 := FGETCODFOL("1634")+"/"+FGETCODFOL("1635")','000004','000000','.EXE.','5','cCodIns1 := fGetCodFol("1634")+"/"+fGetCodFol("1635")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','CCODINS2 := FGETCODFOL("1442")+"/"+FGETCODFOL("1443")+"/"+FG','000005','000000','.EXE.','5','cCodIns2 := fGetCodFol("1442")+"/"+fGetCodFol("1443")+"/"+fGetCodFol("1645")+"/"+fGetCodFol("1646")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','CCODINS3 := FGETCODFOL("1930")+"/"+FGETCODFOL("1931")+"/"+FG','000006','000000','.EXE.','5','cCodIns3 := fGetCodFol("1930")+"/"+fGetCodFol("1931")+"/"+fGetCodFol("1942")+"/"+fGetCodFol("1943")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','CCODPER1 := FGETCODFOL("1632")+"/"+FGETCODFOL("1633")','000007','000000','.EXE.','5','cCodPer1 := fGetCodFol("1632")+"/"+fGetCodFol("1633")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','CCODPER2 := FGETCODFOL("1440")+"/"+FGETCODFOL("1441")+"/"+FG','000008','000000','.EXE.','5','cCodPer2 := fGetCodFol("1440")+"/"+fGetCodFol("1441")+"/"+fGetCodFol("1643")+"/"+fGetCodFol("1644")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','CCODPER3 := FGETCODFOL("1927")+"/"+FGETCODFOL("1928")+"/"+FG','000009','000000','.EXE.','5','cCodPer3 := fGetCodFol("1927")+"/"+fGetCodFol("1928")+"/"+fGetCodFol("1939")+"/"+fGetCodFol("1940")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','LCOMPL13 := CTIPOROT == "5" .AND. IF(SRA->RA_REGIME == "2",','000010','000000','.EXE.','5','lCompl13 := cTipoRot == "5" .And. If(SRA->RA_REGIME == "2", aPergunte[2,3] == 2, aPergunte[5,3] == 2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','LADC131 := LCOMPL13 .AND. !FQUEBAD131()','000011','000000','.EXE.','5','lAdc131 := lCompl13 .And. !fQuebAd131()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NAVOSTOT := NAVOS + NAVOSMAT + NAVOSADO','000012','000000','.EXE.','5','nAvosTot := nAvos + nAvosMat + nAvosAdo','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NDADOCAO  := 0','000013','000000','.EXE.','5','NDADOCAO  := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NDMATERN  := FDIASSM13(SUBSTR(CPERIODO,1,4), NIL, NIL, NIL,','000014','000000','.EXE.','5','NDMATERN  := fDiasSm13(SUBSTR(CPERIODO,1,4), Nil, Nil, Nil, Nil, @NDADOCAO)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NREF := NAVOS','000015','000000','.EXE.','5','nRef := nAvos','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NREFMAT := NAVOSMAT','000016','000000','.EXE.','5','nRefMat := nAvosMat','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NREFADO := NAVOSADO','000017','000000','.EXE.','5','nRefAdo := nAvosAdo','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NAVOSADO == 0 .AND. NDADOCAO > 0','000018','000000','.CON.','5','','','5','NAVOSADO == 0 .AND. NDADOCAO > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NREFADO := INT( NDADOCAO / 30 )','000019','000018','.EXE.','5','NREFADO := INT( NDADOCAO / 30 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NREF := NAVOSTOT - NREFADO','000020','000018','.EXE.','5','NREF := NAVOSTOT - NREFADO','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NAVOSMAT == 0 .AND. NDMATERN > 0','000021','000000','.CON.','5','','','5','nAvosMat == 0 .and. nDMatern > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NREFMAT := INT( NDMATERN / 30 )','000022','000021','.EXE.','5','nRefMat := Int( nDMatern / 30 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NREF := NAVOSTOT - NREFMAT','000023','000021','.EXE.','5','nRef := nAvosTot - nRefMat','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','LADC131','000024','000000','.CON.','5','','','5','lAdc131','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NSOMAADIC := NADTSERV + NPERIC + NINSALUB + NADCCONF + NADCT','000025','000024','.EXE.','5','nSomaAdic := nAdtServ + nPeric + nInsalub + nAdcConf + nAdcTrf','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','( CTIPOROT <> "6" .OR. !FTEM132() ) .AND. !LADC131','000026','000000','.CON.','5','','','5','( cTipoRot <> "6" .OR. !FTEM132() ) .and. !lAdc131','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','nAdcConf > 0   .END.','000027','000026','.CON.','5','','','5','nAdcConf > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot == "5"   .END.','000028','000027','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := 0','000029','000028','.EXE.','5','NVALANT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := 0','000030','000028','.EXE.','5','NVALANTM := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := 0','000031','000028','.EXE.','5','NVALANTA := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRMAT := (((NADCCONF / 12) / 30) * NDMATERN) * NPERC','000032','000028','.EXE.','5','nVlrMat := (((nAdcConf / 12) / 30) * nDMatern) * nPercentua','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := (((NADCCONF / 12) / 30) * NDADOCAO) * NPERCENTUA','000033','000028','.EXE.','5','NVLRADO := (((NADCCONF / 12) / 30) * NDADOCAO) * NPERCENTUA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','LCOMPL13','000034','000028','.CON.','5','','','5','lCompl13','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := FBUSCAACM(CCODCONF, NIL, STOD( STRZERO(YEAR(DDATA','000035','000034','.EXE.','5','NVALANT := fBuscaAcm(CCODCONF, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := FBUSCAACM(CCODCONFM, NIL, STOD( STRZERO(YEAR(DDA','000036','000034','.EXE.','5','NVALANTM := fBuscaAcm(CCODCONFM, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(CCODCONFA, NIL, STOD( STRZERO(YEAR(DDA','000037','000034','.EXE.','5','NVALANTA := FBUSCAACM(CCODCONFA, NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODCONFM, NVLRMAT-NVALANTM, ((NREFMAT))*NPERCENT','000038','000028','.EXE.','5','FGeraVerba(cCodConfM, NVLRMAT-NVALANTM, ((nRefMat))*nPercentua, cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODCONFA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA,','000039','000028','.EXE.','5','FGERAVERBA(CCODCONFA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODCONF, (((NADCCONF / 12) * ((NAVOSTOT)))*NPERC','000040','000028','.EXE.','5','FGeraVerba(cCodConf, (((nAdcConf / 12) * ((nAvosTot)))*nPercentua)-NVALANT-NVLRMAT-nVlrAdo, ((nRef))*nPercentua, cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot <> "5"   .END.','000041','000027','.CON.','5','','','5','cTipoRot <> "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','nVlrMat := ((nAdcConf / 12) / 30) * nDMatern     .CNT.','000042','000041','.EXE.','5','nVlrMat := ((nAdcConf / 12) / 30) * nDMatern','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := ((NADCCONF / 12) / 30) * NDADOCAO','000043','000041','.EXE.','5','NVLRADO := ((NADCCONF / 12) / 30) * NDADOCAO','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(ACODFOL[1933,1], NIL, STOD( STRZERO(YE','000044','000041','.EXE.','5','NVALANTA := FBUSCAACM(aCodFol[1933,1], NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODCONFM, NVLRMAT, ((NAVOSMAT)), CSEMANA)','000045','000041','.EXE.','5','FGeraVerba(cCodConfM, nVlrMat, ((nRefMat)), cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODCONFA, NVLRADO-NVALANTA, NREFADO, CSEMANA)','000046','000041','.EXE.','5','FGERAVERBA(CCODCONFA, NVLRADO-NVALANTA, NREFADO, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODCONF, ((NADCCONF / 12) * ((NAVOSTOT))) - NVLR','000047','000041','.EXE.','5','FGeraVerba(cCodConf, ((nAdcConf / 12) * ((nAvosTot))) - nVlrMat - nVlrAdo, ((nRef)), cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','nAdcTrf > 0   .END.','000048','000026','.CON.','5','','','5','nAdcTrf > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot == "5"   .END.','000049','000048','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := 0','000050','000049','.EXE.','5','NVALANT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := 0','000051','000049','.EXE.','5','NVALANTM := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := 0','000052','000049','.EXE.','5','NVALANTA := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','nVlrMat := (((nAdcTrf / 12) / 30) * nDMatern) * nPerce','000053','000049','.EXE.','5','nVlrMat := (((nAdcTrf / 12) / 30) * nDMatern) * nPercentua','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := (((NADCTRF / 12) / 30) * NDADOCAO) * NPERCENTUA','000054','000049','.EXE.','5','NVLRADO := (((NADCTRF / 12) / 30) * NDADOCAO) * NPERCENTUA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','LCOMPL13','000055','000049','.CON.','5','','','5','lCompl13','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := FBUSCAACM(CCODTRF, NIL, STOD( STRZERO(YEAR(DDATAR','000056','000055','.EXE.','5','NVALANT := fBuscaAcm(CCODTRF, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := FBUSCAACM(CCODTRFM, NIL, STOD( STRZERO(YEAR(DDAT','000057','000055','.EXE.','5','NVALANTM := fBuscaAcm(CCODTRFM, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(CCODTRFA, NIL, STOD( STRZERO(YEAR(DDAT','000058','000055','.EXE.','5','NVALANTA := FBUSCAACM(CCODTRFA, NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODTRF, (((NADCTRF / 12) * ((NAVOSTOT)))*NPERCEN','000059','000049','.EXE.','5','FGeraVerba(cCodTrf, (((nAdcTrf / 12) * ((nAvosTot)))*nPercentua)-NVALANT-nVlrMat-nVlrAdo, ((nRef))*nPercentua, cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODTRFA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, C','000060','000049','.EXE.','5','FGERAVERBA(CCODTRFA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODTRFM, NVLRMAT-NVALANTM, ((NREFMAT))*NPERCENTU','000061','000049','.EXE.','5','FGeraVerba(cCodTrfM, nVlrMat-NVALANTM, ((nRefMat))*nPercentua, cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot <> "5"   .END.','000062','000048','.CON.','5','','','5','cTipoRot <> "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRMAT := ((NADCTRF / 12) / 30) * NDMATERN','000063','000062','.EXE.','5','nVlrMat := ((nAdcTrf / 12) / 30) * nDMatern','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := ((NADCTRF / 12) / 30) * NDADOCAO','000064','000062','.EXE.','5','NVLRADO := ((NADCTRF / 12) / 30) * NDADOCAO','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(ACODFOL[1934,1], NIL, STOD( STRZERO(YE','000065','000062','.EXE.','5','NVALANTA := FBUSCAACM(aCodFol[1934,1], NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODTRFM,NVLRMAT, ((NREFMAT)), CSEMANA)','000066','000062','.EXE.','5','FGeraVerba(cCodTrfM,nVlrMat, ((nRefMat)), cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODTRFA,NVLRADO-NVALANTA, NREFADO, CSEMANA)','000067','000062','.EXE.','5','FGERAVERBA(CCODTRFA,NVLRADO-NVALANTA, NREFADO, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODTRF, ((NADCTRF / 12) * ((NAVOSTOT))) - NVLRMA','000068','000062','.EXE.','5','FGeraVerba(cCodTrf, ((nAdcTrf / 12) * ((nAvosTot))) - nVlrMat - nVlrAdo, ((nRef)), cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','nAdtServ > 0   .END.','000069','000026','.CON.','5','','','5','nAdtServ > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot == "5"   .END.','000070','000069','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := 0','000071','000070','.EXE.','5','NVALANT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := 0','000072','000070','.EXE.','5','NVALANTM := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := 0','000073','000070','.EXE.','5','NVALANTA := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRMAT := (((NADTSERV / 12) / 30) * NDMATERN) * NPERC','000074','000070','.EXE.','5','nVlrMat := (((nAdtServ / 12) / 30) * nDMatern) * nPercentua','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := (((NADTSERV / 12) / 30) * NDADOCAO) * NPERCENTUA','000075','000070','.EXE.','5','NVLRADO := (((NADTSERV / 12) / 30) * NDADOCAO) * NPERCENTUA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','LCOMPL13','000076','000070','.CON.','5','','','5','lCompl13','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := FBUSCAACM(CCODATS1, NIL, STOD( STRZERO(YEAR(DDATA','000077','000076','.EXE.','5','NVALANT := fBuscaAcm(cCodATS1, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := FBUSCAACM(CCODATS2, NIL, STOD( STRZERO(YEAR(DDAT','000078','000076','.EXE.','5','NVALANTM := fBuscaAcm(cCodATS2, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(CCODATS3, NIL, STOD( STRZERO(YEAR(DDAT','000079','000076','.EXE.','5','NVALANTA := FBUSCAACM(cCodATS3, NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODADT,(((NADTSERV/12)*((NAVOSTOT)))*NPERCENTUA)','000080','000070','.EXE.','5','FGeraVerba(cCodAdt,(((nAdtServ/12)*((nAvosTot)))*nPercentua)-NVALANT-nVlrMat-nVlrAdo,((nRef))*nPercentua)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODADTA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, C','000081','000070','.EXE.','5','FGERAVERBA(CCODADTA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODADTM,NVLRMAT-NVALANTM,((NREFMAT))*NPERCENTUA)','000082','000070','.EXE.','5','FGeraVerba(cCodAdtM,nVlrMat-NVALANTM,((nRefMat))*nPercentua)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot <> "5"   .END.','000083','000069','.CON.','5','','','5','cTipoRot <> "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRMAT := ((NADTSERV / 12) / 30) * NDMATERN','000084','000083','.EXE.','5','nVlrMat := ((nAdtServ / 12) / 30) * nDMatern','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := ((NADTSERV / 12) / 30) * NDADOCAO','000085','000083','.EXE.','5','NVLRADO := ((NADTSERV / 12) / 30) * NDADOCAO','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(CCODATS3, NIL, STOD( STRZERO(YEAR(DDAT','000086','000083','.EXE.','5','NVALANTA := FBUSCAACM(cCodATS3, NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODADT,((NADTSERV/12)*((NAVOSTOT))) - NVLRMAT -','000087','000083','.EXE.','5','FGeraVerba(cCodAdt,((nAdtServ/12)*((nAvosTot))) - nVlrMat - nVlrAdo,((nRef)))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODADTA,NVLRADO - NVALANTA,NREFADO)','000088','000083','.EXE.','5','fGeraVerba(cCodAdtA,nVlrAdo - nValAntA,nRefAdo)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODADTM,NVLRMAT,((NREFMAT)))','000089','000083','.EXE.','5','FGeraVerba(cCodAdtM,nVlrMat,((nRefMat)))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','nPeric > 0   .END.','000090','000026','.CON.','5','','','5','nPeric > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot == "5"   .END.','000091','000090','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := 0','000092','000091','.EXE.','5','NVALANT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := 0','000093','000091','.EXE.','5','NVALANTM := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := 0','000094','000091','.EXE.','5','NVALANTA := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRMAT := (((NPERIC / 12) / 30) * NDMATERN) * NPERCEN','000095','000091','.EXE.','5','nVlrMat := (((nPeric / 12) / 30) * nDMatern) * nPercentua','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := (((NPERIC / 12) / 30) * NDADOCAO) * NPERCENTUA','000096','000091','.EXE.','5','NVLRADO := (((NPERIC / 12) / 30) * NDADOCAO) * NPERCENTUA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','LCOMPL13','000097','000091','.CON.','5','','','5','lCompl13','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := FBUSCAACM(CCODPER1, NIL, STOD( STRZERO(YEAR(DDATA','000098','000097','.EXE.','5','NVALANT := fBuscaAcm(cCodPer1, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := FBUSCAACM(CCODPER2, NIL, STOD( STRZERO(YEAR(DDAT','000099','000097','.EXE.','5','NVALANTM := fBuscaAcm(cCodPer2, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(CCODPER3, NIL, STOD( STRZERO(YEAR(DDAT','000100','000097','.EXE.','5','NVALANTA := FBUSCAACM(cCodPer3, NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODPER, (((NPERIC/ 12) * NAVOSTOT) * NPERCENTUA)','000101','000091','.EXE.','5','FGeraVerba(cCodPer, (((nPeric/ 12) * nAvosTot) * nPercentua)-NVALANT-nVlrMat-nVlrAdo, nRef*nPercentua, cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODPERA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, C','000102','000091','.EXE.','5','FGERAVERBA(CCODPERA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODPERM, NVLRMAT-NVALANTM, NREFMAT*NPERCENTUA, C','000103','000091','.EXE.','5','FGeraVerba(cCodPerM, nVlrMat-NVALANTM, nRefMat*nPercentua, cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot <> "5"   .END.','000104','000090','.CON.','5','','','5','cTipoRot <> "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRMAT := ((NADTSERV / NAVOSTOT) / 30) * NDMATERN','000105','000104','.EXE.','5','nVlrMat := ((nPeric / nAvosTot) / 30) * nDMatern','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := ((NPERIC / NAVOSTOT) / 30) * NDADOCAO','000106','000104','.EXE.','5','NVLRADO := ((NPERIC / NAVOSTOT) / 30) * NDADOCAO','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(CCODPER3, NIL, STOD( STRZERO(YEAR(DDAT','000107','000104','.EXE.','5','NVALANTA := FBUSCAACM(cCodPer3, NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODPERM, NVLRMAT, NREFMAT, CSEMANA)','000108','000104','.EXE.','5','FGeraVerba(cCodPerM, nVlrMat, nRefMat, cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODPERA, NVLRADO-NVALANTA, NREFADO, CSEMANA)','000109','000104','.EXE.','5','FGERAVERBA(CCODPERA, NVLRADO-NVALANTA, NREFADO, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODPER, ((NPERIC/ 12) * NAVOSTOT) - NVLRMAT - NV','000110','000104','.EXE.','5','FGeraVerba(cCodPer, ((nPeric/ 12) * nAvosTot) - nVlrMat - nVlrAdo, nRef, cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NINSALUB > 0   .END.','000111','000026','.CON.','5','','','5','NINSALUB > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot == "5"   .END.','000112','000111','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := 0','000113','000112','.EXE.','5','NVALANT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := 0','000114','000112','.EXE.','5','NVALANTM := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := 0','000115','000112','.EXE.','5','NVALANTA := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRMAT := (((NINSALUB / 12) / 30) * NDMATERN) * NPERC','000116','000112','.EXE.','5','nVlrMat := (((nInsalub / 12) / 30) * nDMatern) * nPercentua','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := (((NINSALUB / 12) / 30) * NDADOCAO) * NPERCENTUA','000117','000112','.EXE.','5','NVLRADO := (((NINSALUB / 12) / 30) * NDADOCAO) * NPERCENTUA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','LCOMPL13','000118','000112','.CON.','5','','','5','lCompl13','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANT := FBUSCAACM(CCODINS1, NIL, STOD( STRZERO(YEAR(DDATA','000119','000118','.EXE.','5','NVALANT := fBuscaAcm(cCodIns1, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTM := FBUSCAACM(CCODINS2, NIL, STOD( STRZERO(YEAR(DDAT','000120','000118','.EXE.','5','NVALANTM := fBuscaAcm(cCodIns2, Nil, sToD( StrZero(Year(dDataRef), 4)+"0101" ), sToD( StrZero(Year(dDataRef), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(CCODINS3, NIL, STOD( STRZERO(YEAR(DDAT','000121','000118','.EXE.','5','NVALANTA := FBUSCAACM(cCodIns3, NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODINS, (((NINSALUB/ 12) *  NAVOSTOT) * NPERCENT','000122','000112','.EXE.','5','FGeraVerba(cCodIns, (((NINSALUB/ 12) *  nAvosTot) * nPercentua)-NVALANT-nVlrMat-nVlrAdo,  nRef*nPercentua, cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODINSA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, C','000123','000112','.EXE.','5','FGERAVERBA(CCODINSA, NVLRADO-NVALANTA, NREFADO*NPERCENTUA, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODINSM, NVLRMAT-NVALANTM,  NREFMAT*NPERCENTUA,','000124','000112','.EXE.','5','FGeraVerba(cCodInsM, nVlrMat-NVALANTM,  nRefMat*nPercentua, cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','cTipoRot <> "5"   .END.','000125','000111','.CON.','5','','','5','cTipoRot <> "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRMAT := ((NINSALUB / 12) / 30) * NDMATERN','000126','000125','.EXE.','5','nVlrMat := ((nInsalub / 12) / 30) * nDMatern','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVLRADO := ((NINSALUB / 12) / 30) * NDADOCAO','000127','000125','.EXE.','5','NVLRADO := ((NINSALUB / 12) / 30) * NDADOCAO','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','NVALANTA := FBUSCAACM(CCODINS3, NIL, STOD( STRZERO(YEAR(DDAT','000128','000125','.EXE.','5','NVALANTA := FBUSCAACM(cCodIns3, NIL, STOD( STRZERO(YEAR(DDATAREF), 4)+"0101" ), STOD( STRZERO(YEAR(DDATAREF), 4)+"1231" ), "V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODINSM, NVLRMAT ,  NREFMAT, CSEMANA)','000129','000125','.EXE.','5','FGeraVerba(cCodInsM, nVlrMat ,  nRefMat, cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODINSA, NVLRADO-NVALANTA, NREFADO, CSEMANA)','000130','000125','.EXE.','5','FGERAVERBA(CCODINSA, NVLRADO-NVALANTA, NREFADO, CSEMANA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVADI13','FGERAVERBA(CCODINS, ((NINSALUB/ 12) *  NAVOSTOT) - NVLRMAT -','000131','000125','.EXE.','5','FGeraVerba(cCodIns, ((NINSALUB/ 12) *  nAvosTot) - nVlrMat - nVlrAdo,  nRef, cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0235    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0235( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVATRAN','GRAVAR  ADICIONAL TRANSFERENCIA','','','021','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVATRAN','NADCTRF > 0 .AND. CTIPOROT != "2" .AND. DIASTRAB + IF(NDAPAP','000001','000000','.CON.','5','','','5','nAdcTrf > 0 .And. cTipoRot != "2" .And. DiasTrab + If(nDaPaPg>0,nDaPaPg,nDiasPg) + nDiasFgts  - nDiasMat > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','EMPTY(CVERBAROT)','000002','000001','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','CVERBAROT := FGETCODFOL("0988")','000003','000002','.EXE.','5','cVerbaRot := fGetCodFol("0988")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','!EMPTY(CVERBAROT)','000004','000001','.CON.','5','','','5','!Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','NPOS := ASCAN(APD,{ |X| X[1] == CVERBAROT .AND. X[9] # '+"'"+'D'+"'"+' }','000005','000004','.EXE.','5','nPos := Ascan(aPd,{ |x| x[1] == cVerbaRot .And. x[9] # '+"'"+'D'+"'"+' } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','000006','000004','.CON.','5','','','5','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','NDIASPGCPY:= NDIASPG','000007','000006','.EXE.','5','NDIASPGCPY:= NDIASPG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','NDAPAPG > 0','000008','000006','.CON.','5','','','5','NDAPAPG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','NDIASPG := NDAPAPG','000009','000008','.EXE.','5','NDIASPG := NDAPAPG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','NDAPAPG == 0','000010','000006','.CON.','5','','','5','NDAPAPG == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','NDIASPG := 0','000011','000010','.EXE.','5','NDIASPG := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','!(CTIPOROT == "4" .AND. AINCRES[15] == "N" .AND. !(AINCRES[2','000012','000006','.CON.','5','','','5','!(cTipoRot == "4" .And. aIncRes[15] == "N" .And. !(aIncRes[2] $ "T/I"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','FGERAVERBA(CVERBAROT,NADCTRF,DIASTRAB+NDIASPG,CSEMANA,,,,,,,','000013','000012','.EXE.','5','fGeraVerba(cVerbaRot,nAdcTrf,DiasTrab+nDiasPg,cSemana,,,,,,,,,,,,If(cTipoRot=="4", If(SRA->RA_TPCONTR == "3", .F., !("5" $ P_ADCINTEG)),.T.))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVATRAN','NDIASPG := NDIASPGCPY','000014','000006','.EXE.','5','NDIASPG := NDIASPGCPY','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0236    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0236( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVBCMAT','BASE DE CALCULO SALARIO MATERNIDADE','','','016','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVBCMAT','L1894  := !( EMPTY(ACODFOL[1894, 1]) )','000001','000000','.EXE.','5','L1894  := !( EMPTY(ACODFOL[1894, 1]) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','LATS   := ( NADTSERV > 0 .AND. !EMPTY(ACODFOL[1906, 1]) )','000002','000000','.EXE.','5','LATS   := ( NADTSERV > 0 .AND. !EMPTY(ACODFOL[1906, 1]) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','LINSAL := ( NINTINSAL > 0 .AND. !EMPTY(ACODFOL[1907, 1]) )','000003','000000','.EXE.','5','LINSAL := ( NINTINSAL > 0 .AND. !EMPTY(ACODFOL[1907, 1]) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','LPERIC := ( NPERIC > 0 .AND. !EMPTY(ACODFOL[1908, 1]) )','000004','000000','.EXE.','5','LPERIC := ( NPERIC > 0 .AND. !EMPTY(ACODFOL[1908, 1]) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','LCONF  := ( NADCCONF > 0 .AND. !EMPTY(ACODFOL[1909, 1]) )','000005','000000','.EXE.','5','LCONF  := ( NADCCONF > 0 .AND. !EMPTY(ACODFOL[1909, 1]) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','LTRANSF:= ( NADCTRF > 0 .AND. !EMPTY(ACODFOL[1910, 1]) )','000006','000000','.EXE.','5','LTRANSF:= ( NADCTRF > 0 .AND. !EMPTY(ACODFOL[1910, 1]) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','LINCORP:= ( LATS .OR. LINSAL .OR. LPERIC .OR. LCONF .OR. LTR','000007','000000','.EXE.','5','LINCORP:= ( LATS .OR. LINSAL .OR. LPERIC .OR. LCONF .OR. LTRANSF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','EMPTY(CVERBAROT)','000008','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','CVERBAROT := FGETCODFOL("0238")','000009','000008','.EXE.','5','cVerbaRot := fGetCodFol("0238")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','NDIASENC > 0 .AND. !EMPTY(CVERBAROT)','000010','000000','.CON.','5','','','5','nDiasEnc > 0 .and. !Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','( NPOSPD := ASCAN(APD, {|X| X[1] == ACODFOL[407,1] .AND. X[9','000011','000010','.CON.','5','','','5','( nPosPd := aScan(aPd, {|x| x[1] == aCodFol[407,1] .and. x[9] <> "D" .and. x[7] <> "I" } ) ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','RETVALSRV(ACODFOL[407,1],SRA->RA_FILIAL,"RV_INCORP") <> "S"','000012','000011','.CON.','5','','','5','RetValSRV(aCodFol[407,1],SRA->RA_FILIAL,"RV_INCORP") <> "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','NMED407 := NMEDADOC := APD[NPOSPD,5]','000013','000012','.EXE.','5','nMed407 := nMedAdoc := aPd[nPosPd,5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','APD[NPOSPD,9] := "D"','000014','000011','.EXE.','5','aPd[nPosPd,9] := "D"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','!L1894','000015','000010','.CON.','5','','','5','!L1894','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','FGERAVERBA(CVERBAROT,(NDIASENC*IF(LINCORP, SALDOR, SALDIA))','000016','000015','.EXE.','5','fGeraVerba(cVerbaRot,(NDIASENC*IF(LINCORP, SALDOR, SALDIA))+nMedComiss+nMedAdoc,nDiasEnc)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','L1894','000017','000010','.CON.','5','','','5','L1894','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','FGERAVERBA(CVERBAROT, (NDIASENC*IF(LINCORP, SALDOR, SALDIA))','000018','000017','.EXE.','5','fGeraVerba(cVerbaRot, (NDIASENC*IF(LINCORP, SALDOR, SALDIA)), nDiasEnc)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','fGeraVerba(aCodFol[1894, 1], nMedComiss+nMedAdoc, nDiasEnc)','000019','000017','.EXE.','5','fGeraVerba(aCodFol[1894, 1], nMedComiss+nMedAdoc, nDiasEnc)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','NADTSERV > 0 .AND. !EMPTY(ACODFOL[1906, 1])','000020','000010','.CON.','5','','','5','NADTSERV > 0 .AND. !EMPTY(ACODFOL[1906, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','FGERAVERBA(ACODFOL[1906, 1], (NADTSERV/NDIASC*NDIASENC), NDI','000021','000020','.EXE.','5','FGERAVERBA(ACODFOL[1906, 1], (NADTSERV/NDIASC*NDIASENC), NDIASENC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','NINTINSAL > 0 .AND. !EMPTY(ACODFOL[1907, 1])','000022','000010','.CON.','5','','','5','NINTINSAL > 0 .AND. !EMPTY(ACODFOL[1907, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','FGERAVERBA(ACODFOL[1907, 1], (NINTINSAL/NDIASC*NDIASENC), ND','000023','000022','.EXE.','5','FGERAVERBA(ACODFOL[1907, 1], (NINTINSAL/NDIASC*NDIASENC), NDIASENC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','NPERIC > 0 .AND. !EMPTY(ACODFOL[1908, 1])','000024','000010','.CON.','5','','','5','NPERIC > 0 .AND. !EMPTY(ACODFOL[1908, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','FGERAVERBA(ACODFOL[1908, 1], (NPERIC/NDIASC*NDIASENC), NDIAS','000025','000024','.EXE.','5','FGERAVERBA(ACODFOL[1908, 1], (NPERIC/NDIASC*NDIASENC), NDIASENC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','NADCCONF > 0 .AND. !EMPTY(ACODFOL[1909, 1])','000026','000010','.CON.','5','','','5','NADCCONF > 0 .AND. !EMPTY(ACODFOL[1909, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','FGERAVERBA(ACODFOL[1909, 1], (NADCCONF/NDIASC*NDIASENC), NDI','000027','000026','.EXE.','5','FGERAVERBA(ACODFOL[1909, 1], (NADCCONF/NDIASC*NDIASENC), NDIASENC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','NADCTRF > 0 .AND. !EMPTY(ACODFOL[1910, 1])','000028','000010','.CON.','5','','','5','NADCTRF > 0 .AND. !EMPTY(ACODFOL[1910, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBCMAT','FGERAVERBA(ACODFOL[1910, 1], (NADCTRF/NDIASC*NDIASENC), NDIA','000029','000028','.EXE.','5','FGERAVERBA(ACODFOL[1910, 1], (NADCTRF/NDIASC*NDIASENC), NDIASENC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0237    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0237( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVBENOP','GRAVAÇÃO DO BENEFÍCIO DE ÓRGÃOS PÚBLICOS','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVBENOP','ABENOP := RETBENOP()','000001','000000','.EXE.','5','aBenOp := RetBenOp()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVBENOP','!EMPTY(ABENOP) .AND. !EMPTY(ABENOP[1])','000002','000000','.CON.','5','','','5','!Empty(aBenOp) .And. !Empty(aBenOp[1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVBENOP','FMATRIZ(ABENOP[2], ABENOP[3])','000003','000002','.EXE.','5','FMatriz(aBenOp[2], aBenOp[3])','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0238    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0238( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVCA131','GRAVA CALCULO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVCA131','!(cPaisLoc $ "URU|ARG|PAR")   .END.','000001','000000','.CON.','5','','','5','!(cPaisLoc $ "URU|ARG|PAR")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCA131','Aeval( aPD , { |X| Grava131(X) } )     .END.','000002','000001','.EXE.','5','Aeval( aPD , { |X| Grava131(X) } )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0239    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0239( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVCA132','GRAVA CALCULO 2ª PARCELA DE 13º SALARIO','','','011','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVCA132','GRVCALC132()','000001','000000','.EXE.','5','GrvCalc132()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0240    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0240( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVCPFER','GRAVAÇÃO CONTRAPARTIDA FÉRIAS','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVCPFER','nCont := 1     .CNT.','000001','000000','.EXE.','5','nCont := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','NVAL1724 := 0','000002','000000','.EXE.','5','nVal1724 := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nCont <= Len(aPd)   .END.','000003','000000','.ENQ.','5','','','5','nCont <= Len(aPd)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_COD := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_TIP','000004','000003','.EXE.','5','cRet_COD := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_TIPOCOD")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_ID := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_CODF','000005','000003','.EXE.','5','cRet_ID := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_CODFOL")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncCP := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_I','000006','000003','.EXE.','5','cRet_IncCP := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_INCCP")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncFGTS := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV','000007','000003','.EXE.','5','cRet_IncFGTS := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_INCFGTS")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncIRF := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_','000008','000003','.EXE.','5','cRet_IncIRF := RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_INCIRF")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','CRET_INCPIS := RETVALSRV(APD[NCONT, 1], SRA->RA_FILIAL, "RV_','000009','000003','.EXE.','5','cRet_IncPIS := If(SRV->(ColumnPos("RV_INCPIS")) > 0, RetValSrv(aPd[nCont, 1], SRA->RA_FILIAL, "RV_INCPIS"),"")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncCP == "11"   .END.','000010','000003','.CON.','5','','','5','cRet_IncCP == "11"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1870 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1','000011','000010','.EXE.','5','nTot1870 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1 ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','CRET_ID == "1724"','000012','000010','.CON.','5','','','5','cRet_ID == "1724"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','NVAL1724 += APD[NCONT, 5]','000013','000012','.EXE.','5','nVal1724 += aPd[nCont, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncCP == "31"   .END.','000014','000003','.CON.','5','','','5','cRet_IncCP == "31"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1871 += ( aPd[nCont, 5] * Iif( cRet_COD == "1", (-1), 1','000015','000014','.EXE.','5','nTot1871 += ( aPd[nCont, 5] * Iif( cRet_COD == "1", (-1), 1 ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncFGTS == "11"   .END.','000016','000003','.CON.','5','','','5','cRet_IncFGTS == "11"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1872 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1','000017','000016','.EXE.','5','nTot1872 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1 ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncFGTS == "12"   .END.','000018','000003','.CON.','5','','','5','cRet_IncFGTS == "12"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1882 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1','000019','000018','.EXE.','5','nTot1882 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1 ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncCP == "91"   .END.','000020','000003','.CON.','5','','','5','cRet_IncCP == "91"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1891 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1','000021','000020','.EXE.','5','nTot1891 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1 ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_IncCP == "95"   .END.','000022','000003','.CON.','5','','','5','cRet_IncCP == "95"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1892 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1','000023','000022','.EXE.','5','nTot1892 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1 ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','cRet_ID $ "0013/0014"   .END.','000024','000003','.CON.','5','','','5','cRet_ID $ "0013/0014"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nBaseINSS += aPd[nCont, 5]     .END.','000025','000024','.EXE.','5','nBaseINSS += aPd[nCont, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','CRET_INCPIS == "11" .END.','000026','000003','.CON.','5','','','5','cRet_IncPis == "11"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','NTOT1969 += ( APD[NCONT, 5] * IIF( CRET_COD == "2", (-1), 1','000027','000026','.EXE.','5','nTot1969 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1 ))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','CRET_INCPIS == "91" .END.','000028','000003','.CON.','5','','','5','cRet_IncPis == "91"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','NTOT1970 += ( APD[NCONT, 5] * IIF( CRET_COD == "2", (-1), 1','000029','000028','.EXE.','5','nTot1970 += ( aPd[nCont, 5] * Iif( cRet_COD == "2", (-1), 1 ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nCont++     .END.','000030','000003','.EXE.','5','nCont++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','NTOT1969 > 0 .AND. !EMPTY(ACODFOL[1969,1]) .END.','000031','000000','.CON.','5','','','5','nTot1969 > 0 .And. !Empty(aCodFol[1969,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMATRIZ(ACODFOL[1969, 1], NTOT1969) .END.','000032','000031','.EXE.','5','FMatriz(aCodfol[1969, 1], nTot1969)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','NTOT1970 > 0 .AND. !EMPTY(ACODFOL[1970,1]) .END.','000033','000000','.CON.','5','','','5','nTot1970 > 0 .And. !Empty(aCodFol[1970,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMATRIZ(ACODFOL[1970, 1], NTOT1970) .END.','000034','000033','.EXE.','5','FMatriz(aCodfol[1970, 1], nTot1970)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1870 > 0 .And. !Empty(aCodFol[1870,1])   .END.','000035','000000','.CON.','5','','','5','nTot1870 > 0 .And. !Empty(aCodFol[1870,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMatriz(aCodfol[1870, 1], nTot1870)     .END.','000036','000035','.EXE.','5','FMatriz(aCodfol[1870, 1], nTot1870)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1871 > 0 .And. !Empty(aCodFol[1871,1])   .END.','000037','000000','.CON.','5','','','5','nTot1871 > 0 .And. !Empty(aCodFol[1871,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMatriz(aCodfol[1871, 1], nTot1871)     .END.','000038','000037','.EXE.','5','FMatriz(aCodfol[1871, 1], nTot1871)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1872 > 0 .And. !Empty(aCodFol[1872,1])   .END.','000039','000000','.CON.','5','','','5','nTot1872 > 0 .And. !Empty(aCodFol[1872,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMatriz(aCodfol[1872, 1], nTot1872)     .END.','000040','000039','.EXE.','5','FMatriz(aCodfol[1872, 1], nTot1872)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1882 > 0 .And. !Empty(aCodFol[1882,1])   .END.','000041','000000','.CON.','5','','','5','nTot1882 > 0 .And. !Empty(aCodFol[1882,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMatriz(aCodfol[1882, 1], nTot1882)     .END.','000042','000041','.EXE.','5','FMatriz(aCodfol[1882, 1], nTot1882)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1891 > 0 .And. !Empty(aCodFol[1891,1])   .END.','000043','000000','.CON.','5','','','5','nTot1891 > 0 .And. !Empty(aCodFol[1891,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMatriz(aCodfol[1891, 1], nTot1891)     .END.','000044','000043','.EXE.','5','FMatriz(aCodfol[1891, 1], nTot1891)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','nTot1892 > 0 .And. !Empty(aCodFol[1892,1])   .END.','000045','000000','.CON.','5','','','5','nTot1892 > 0 .And. !Empty(aCodFol[1892,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMatriz(aCodfol[1892, 1], nTot1892)     .END.','000046','000045','.EXE.','5','FMatriz(aCodfol[1892, 1], nTot1892)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','(nBaseINSS-nTot1870) > 0 .And. !Empty(aCodFol[1903, 1]) .A','000047','000000','.CON.','5','','','5','(nBaseINSS-nTot1870) > 0 .And. !Empty(aCodFol[1903, 1]) .And. !Empty(aCodFol[1870,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMatriz(aCodfol[1903, 1], (nBaseINSS-nTot1870))     .END.','000048','000047','.EXE.','5','FMatriz(aCodfol[1903, 1], (nBaseINSS-nTot1870))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','NVAL1724 > 0 .AND. NTOT1870 < 0 .AND. LEN(ACODFOL) >= 1978','000049','000000','.CON.','5','','','5','nVal1724 > 0 .And. nTot1870 < 0 .And. Len(aCodFol) >= 1978 .And. !Empty(aCodFol[1978, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVCPFER','FMATRIZ(ACODFOL[1978, 1], NTOT1870 * (-1))','000050','000049','.EXE.','5','FMatriz(aCodfol[1978, 1], nTot1870 * (-1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0241    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0241( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVINSA','GRAVA INSALUBRIDADE SOBRE VERBAS','','','032','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVINSA','EMPTY(CVERBAROT)','000001','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','CVERBAROT := FGETCODFOL("1282")','000002','000001','.EXE.','5','cVerbaRot := fGetCodFol("1282")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NCOUNT := 1','000003','000000','.EXE.','5','nCount := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NCOUNT <= LEN(AINSALUB)','000004','000000','.ENQ.','5','','','5','nCount <= Len(aInsalub)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','AINSALUB[NCOUNT,1] .AND. AINSALUB[NCOUNT,7] > 0 .AND. AINSAL','000005','000004','.CON.','5','','','5','aInsalub[nCount,1] .and. aInsalub[nCount,7] > 0 .and. aInsalub[nCount,4] $ "3*4*7*8" .and. !Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NDIASPGCPY:= NDIASPG','000006','000005','.EXE.','5','NDIASPGCPY:= NDIASPG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','LPROP := .T.','000007','000005','.EXE.','5','lProp := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NINSALUB := AINSALUB[NCOUNT,7]','000008','000005','.EXE.','5','nInsalub := aInsalub[nCount,7]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','CBCALINS := AINSALUB[NCOUNT,4]','000009','000005','.EXE.','5','cBCalIns := aInsalub[nCount,4]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','CSEQAUX := " "','000010','000005','.EXE.','5','cSeqAux := " "','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','CCUSTO := AINSALUB[NCOUNT,10]','000011','000005','.EXE.','5','cCusto := aInsalub[nCount,10]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NCOUNT > 1','000012','000005','.CON.','5','','','5','nCount > 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','CSEQAUX := "1"','000013','000012','.EXE.','5','cSeqAux := "1"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','AEVAL(AINSALUB, {|X| IF(X[4] == AINSALUB[NCOUNT,4], CSEQAUX','000014','000012','.EXE.','5','aEval(aInsalub, {|x| If(x[4] == aInsalub[nCount,4], cSeqAux := Soma1(cSeqAux), Nil)},1,nCount-1)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','CSEQAUX := IF(CSEQAUX == "1", " ", CSEQAUX)','000015','000012','.EXE.','5','cSeqAux := If(cSeqAux == "1", " ", cSeqAux)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','AINSALUB[NCOUNT,9] > 0','000016','000005','.CON.','5','','','5','aInsalub[nCount,9] > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NHORAINSA := AINSALUB[NCOUNT,9]','000017','000016','.EXE.','5','nHoraInsa := aInsalub[nCount,9]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','SRA->RA_TPCONTR=="3" .OR. (!LADMISSAO .AND. CTIPOROT == "1"','000018','000005','.CON.','5','','','5','SRA->RA_TPCONTR=="3" .Or. (!lAdmissao .And. cTipoRot == "1" .And. nDiasFgts == 0 .Or. (cTipoRot == "4" .And. cBCalIns $ "3*4*7*8"))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','LPROP := .F.','000019','000018','.EXE.','5','lProp := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NDAPAPG > 0','000020','000005','.CON.','5','','','5','NDAPAPG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NDIASPG := NDAPAPG     .END.','000021','000020','.EXE.','5','NDIASPG := NDAPAPG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NDAPAPG == 0','000022','000005','.CON.','5','','','5','NDAPAPG == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NDIASPG := 0','000023','000022','.EXE.','5','NDIASPG := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','!(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIA','000024','000005','.CON.','5','','','5','!(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIASGEST > 0 .OR. NINSALGEST > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','FGERAVERBA(CVERBAROT,NINSALUB, NHORAINSA,,CCUSTO,,,,,,,,,CSE','000025','000024','.EXE.','5','fGeraVerba(cVerbaRot,nInsalub, nHoraInsa,,cCusto,,,,,,,,,cSeqAux,,If(cTipoRot=="4" .And. !(cBCalIns $ "3*4*7*8") , !("1" $ P_ADCINTEG),lProp))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIAS','000026','000005','.CON.','5','','','5','(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIASGEST > 0 .OR. NINSALGEST > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','LMESTODO','000027','000026','.CON.','5','','','5','LMESTODO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','SE PERIODO DE GESTACAO MES TODO, GRAVA TODA A VERBA NO ID 14','000028','000027','.MSG.','5','SE PERÍODO DE GESTACAO MÊS TODO, GRAVA TODA A VERBA NO ID 1423 INSALUBRIDADE GESTACAO','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NINSALGEST := NINSALUB','000029','000027','.EXE.','5','NINSALGEST := NINSALUB','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','FGERAVERBA(CCODINSGES,NINSALGEST, NHORAINSA,,CCUSTO,,,,,,,,,','000030','000027','.EXE.','5','fGeraVerba(CCODINSGES,NINSALGEST, nHoraInsa,,cCusto,,,,,,,,,,,lProp)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','(NDIASGEST > 0) .OR. (NINSALGEST > 0)','000031','000026','.CON.','5','','','5','(NDIASGEST > 0) .OR. (NINSALGEST > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NINSALGEST == 0','000032','000031','.CON.','5','','','5','NINSALGEST == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NINSALGEST := ROUND((NINSALUB/DIASTRAB)*NDIASGEST,2)','000033','000032','.EXE.','5','NINSALGEST := ROUND((NINSALUB/DIASTRAB)*NDIASGEST,2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','FGERAVERBA(CCODINSGES,NINSALGEST, NDIASGEST,,CCUSTO,,,,,,,,,','000034','000031','.EXE.','5','fGeraVerba(CCODINSGES,NINSALGEST, NDIASGEST,,cCusto,,,,,,,,,,,lProp)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','FGERAVERBA(CVERBAROT,(NINSALUB - NINSALGEST), (DIASTRAB-NDIA','000035','000031','.EXE.','5','FGERAVERBA(CVERBAROT,(NINSALUB - NINSALGEST), (DIASTRAB-NDIASGEST),,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NDIASPG := NDIASPGCPY','000036','000005','.EXE.','5','NDIASPG := NDIASPGCPY','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NCOUNT++','000037','000004','.EXE.','5','nCount++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','ASCAN(AINSALUB,{|X| X[1] }) > 0','000038','000000','.CON.','5','','','5','aScan(aInsalub,{|x| x[1] }) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','NINSALUB := NINTINSAL := 0','000039','000038','.EXE.','5','nInsalub := nIntInsal := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSA','AEVAL(AINSALUB, {|X| NINTINSAL += X[8], NINSALUB += X[7] })','000040','000038','.EXE.','5','aEval(aInsalub, {|x| nIntInsal += x[8], nInsalub += x[7] })','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0242    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0242( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVINSMA','GRAVAR  INSALUBRIDADE MAXIMA','','','029','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVINSMA','LPROP := .T.','000001','000000','.EXE.','5','LPROP := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','SRA->RA_TPCONTR=="3"','000002','000000','.CON.','5','','','5','SRA->RA_TPCONTR=="3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','LPROP := .F.','000003','000002','.EXE.','5','LPROP := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','DIASTRAB + NDIASPG + NDIASFGTS - NDIASMAT - NDPRGSALMA > 0','000004','000000','.CON.','5','','','5','DiasTrab + nDiasPg + nDiasFgts - nDiasMat - nDPrgSalMa > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','EMPTY(CVERBAROT)','000005','000004','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','CVERBAROT := FGETCODFOL("0039")','000006','000005','.EXE.','5','cVerbaRot := fGetCodFol("0039")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NCOUNT := 1','000007','000004','.EXE.','5','nCount := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','!EMPTY(CVERBAROT)','000008','000004','.CON.','5','','','5','!Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NPOS := ASCAN(APD,{ |X| X[1] == CVERBAROT .AND. X[9] # '+"'"+'D'+"'"+' }','000009','000008','.EXE.','5','nPos := Ascan(aPd,{ |x| x[1] == cVerbaRot .And. x[9] # '+"'"+'D'+"'"+' } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','000010','000008','.CON.','5','','','5','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NDIASPGCPY:= NDIASPG','000011','000010','.EXE.','5','NDIASPGCPY:= NDIASPG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NDAPAPG > 0','000012','000010','.CON.','5','','','5','NDAPAPG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NDIASPG := NDAPAPG','000013','000012','.EXE.','5','NDIASPG := NDAPAPG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NDAPAPG == 0','000014','000010','.CON.','5','','','5','NDAPAPG == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NDIASPG := 0','000015','000014','.EXE.','5','NDIASPG := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NCOUNT <= LEN(AINSALUB)','000016','000010','.ENQ.','5','','','5','nCount <= Len(aInsalub)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','AINSALUB[NCOUNT,1] .AND. AINSALUB[NCOUNT,6] == "4" .AND. AIN','000017','000016','.CON.','5','','','5','aInsalub[nCount,1] .and. aInsalub[nCount,6] == "4" .and. aInsalub[nCount,7] > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NINSALUB := AINSALUB[NCOUNT,7]','000018','000017','.EXE.','5','nInsalub := aInsalub[nCount,7]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','CSEQAUX := " "','000019','000017','.EXE.','5','cSeqAux := " "','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','CCUSTO := AINSALUB[NCOUNT,10]','000020','000017','.EXE.','5','cCusto := aInsalub[nCount,10]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NCOUNT > 1','000021','000017','.CON.','5','','','5','nCount > 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','CSEQAUX := "1"','000022','000021','.EXE.','5','cSeqAux := "1"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','aEval(aInsalub, {|x| If(x[4] == aInsalub[nCount,4], cSeqAux','000023','000021','.EXE.','5','aEval(aInsalub, {|x| If(x[4] == aInsalub[nCount,4], cSeqAux := Soma1(cSeqAux), Nil)},1,nCount-1)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','CSEQAUX := IF(CSEQAUX == "1", " ", CSEQAUX)','000024','000021','.EXE.','5','cSeqAux := If(cSeqAux == "1", " ", cSeqAux)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','AINSALUB[NCOUNT,9] > 0','000025','000017','.CON.','5','','','5','aInsalub[nCount,9] > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NHORAINSA := AINSALUB[NCOUNT,9]','000026','000025','.EXE.','5','nHoraInsa := aInsalub[nCount,9]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','!(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIA','000027','000017','.CON.','5','','','5','!(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIASGEST > 0 .OR. NINSALGEST > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','FGERAVERBA(CVERBAROT,NINSALUB, NHORAINSA,,CCUSTO,,,,,,,,,CSE','000028','000027','.EXE.','5','fGeraVerba(cVerbaRot,nInsalub, nHoraInsa,,cCusto,,,,,,,,,cSeqAux,,If(cTipoRot=="4"  .and. SRA->RA_TPCONTR <> "3", !("1" $ P_ADCINTEG),LPROP))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIAS','000029','000017','.CON.','5','','','5','(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIASGEST > 0 .OR. NINSALGEST > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','LMESTODO','000030','000029','.CON.','5','','','5','LMESTODO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','SE PERIODO DE GESTACAO MES TODO, GRAVA TODA A VERBA NO ID 14','000031','000030','.MSG.','5','SE PERÍODO DE GESTACAO MÊS TODO, GRAVA TODA A VERBA NO ID 1423 INSALUBRIDADE GESTACAO','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NINSALGEST := NINSALUB','000032','000030','.EXE.','5','NINSALGEST := NINSALUB','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','FGERAVERBA(CCODINSGES,NINSALGEST, NHORAINSA,,CCUSTO,,,,,,,,,','000033','000030','.EXE.','5','FGERAVERBA(CCODINSGES,NINSALGEST, NHORAINSA,,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','(NDIASGEST > 0) .OR. (NINSALGEST > 0)','000034','000029','.CON.','5','','','5','(NDIASGEST > 0) .OR. (NINSALGEST > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NINSALGEST == 0','000035','000034','.CON.','5','','','5','NINSALGEST == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NINSALGEST := ROUND((NINSALUB/DIASTRAB)*NDIASGEST,2)','000036','000035','.EXE.','5','NINSALGEST := ROUND((NINSALUB/DIASTRAB)*NDIASGEST,2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','FGERAVERBA(CCODINSGES,NINSALGEST, NDIASGEST,,CCUSTO,,,,,,,,,','000037','000034','.EXE.','5','FGERAVERBA(CCODINSGES,NINSALGEST, NDIASGEST,,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','FGERAVERBA(CVERBAROT,(NINSALUB - NINSALGEST), (DIASTRAB-NDIA','000038','000034','.EXE.','5','FGERAVERBA(CVERBAROT,(NINSALUB - NINSALGEST), (DIASTRAB-NDIASGEST),,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NCOUNT++','000039','000016','.EXE.','5','nCount++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMA','NDIASPG := NDIASPGCPY','000040','000010','.EXE.','5','NDIASPG := NDIASPGCPY','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0243    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0243( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVINSME','GRAVAR INSALUBRIDADE MEDIA','','','030','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVINSME','LPROP := .T.','000001','000000','.EXE.','5','LPROP := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','SRA->RA_TPCONTR=="3"','000002','000000','.CON.','5','','','5','SRA->RA_TPCONTR=="3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','LPROP := .F.','000003','000002','.EXE.','5','LPROP := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','DIASTRAB + NDIASPG + NDIASFGTS - NDIASMAT - NDPRGSALMA > 0','000004','000000','.CON.','5','','','5','DiasTrab + nDiasPg + nDiasFgts - nDiasMat - nDPrgSalMa > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','EMPTY(CVERBAROT)','000005','000004','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','CVERBAROT := FGETCODFOL("0038")','000006','000005','.EXE.','5','cVerbaRot := fGetCodFol("0038")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NCOUNT := 1','000007','000004','.EXE.','5','nCount := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','!EMPTY(CVERBAROT)','000008','000004','.CON.','5','','','5','!Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NPOS := ASCAN(APD,{ |X| X[1] == CVERBAROT .AND. X[9] # '+"'"+'D'+"'"+' }','000009','000008','.EXE.','5','nPos := Ascan(aPd,{ |x| x[1] == cVerbaRot .And. x[9] # '+"'"+'D'+"'"+' } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','000010','000008','.CON.','5','','','5','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NDIASPGCPY:= NDIASPG','000011','000010','.EXE.','5','NDIASPGCPY:= NDIASPG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NDAPAPG > 0','000012','000010','.CON.','5','','','5','NDAPAPG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NDIASPG := NDAPAPG','000013','000012','.EXE.','5','NDIASPG := NDAPAPG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NDAPAPG == 0','000014','000010','.CON.','5','','','5','NDAPAPG == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NDIASPG := 0','000015','000014','.EXE.','5','NDIASPG := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NCOUNT <= LEN(AINSALUB)','000016','000010','.ENQ.','5','','','5','nCount <= Len(aInsalub)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','AINSALUB[NCOUNT,1] .AND. AINSALUB[NCOUNT,6] == "3" .AND. AIN','000017','000016','.CON.','5','','','5','aInsalub[nCount,1] .and. aInsalub[nCount,6] == "3" .and. aInsalub[nCount,7] > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NINSALUB := AINSALUB[NCOUNT,7]','000018','000017','.EXE.','5','nInsalub := aInsalub[nCount,7]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','CSEQAUX := " "','000019','000017','.EXE.','5','cSeqAux := " "','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','CCUSTO := AINSALUB[NCOUNT,10]','000020','000017','.EXE.','5','cCusto := aInsalub[nCount,10]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NCOUNT > 1','000021','000017','.CON.','5','','','5','nCount > 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','CSEQAUX := "1"','000022','000021','.EXE.','5','cSeqAux := "1"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','AEVAL(AINSALUB, {|X| IF(X[4] == AINSALUB[NCOUNT,4], CSEQAUX','000023','000021','.EXE.','5','aEval(aInsalub, {|x| If(x[4] == aInsalub[nCount,4], cSeqAux := Soma1(cSeqAux), Nil)},1,nCount-1)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','CSEQAUX := IF(CSEQAUX == "1", " ", CSEQAUX)','000024','000021','.EXE.','5','cSeqAux := If(cSeqAux == "1", " ", cSeqAux)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','AINSALUB[NCOUNT,9] > 0','000025','000017','.CON.','5','','','5','aInsalub[nCount,9] > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NHORAINSA := AINSALUB[NCOUNT,9]','000026','000025','.EXE.','5','nHoraInsa := aInsalub[nCount,9]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','!(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIA','000027','000017','.CON.','5','','','5','!(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIASGEST > 0 .OR. NINSALGEST > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','FGERAVERBA(CVERBAROT,NINSALUB, NHORAINSA,,CCUSTO,,,,,,,,,CSE','000028','000027','.EXE.','5','fGeraVerba(cVerbaRot,nInsalub, nHoraInsa,,cCusto,,,,,,,,,cSeqAux,,If(cTipoRot=="4"  .and. SRA->RA_TPCONTR <> "3", !("1" $ P_ADCINTEG),LPROP))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIAS','000029','000017','.CON.','5','','','5','(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIASGEST > 0 .OR. NINSALGEST > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','LMESTODO','000030','000029','.CON.','5','','','5','LMESTODO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','SE PERIODO DE GESTACAO MES TODO, GRAVA TODA A VERBA NO ID 14','000031','000030','.MSG.','5','SE PERÍODO DE GESTACAO MÊS TODO, GRAVA TODA A VERBA NO ID 1423 INSALUBRIDADE GESTACAO','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NINSALGEST := NINSALUB','000032','000030','.EXE.','5','NINSALGEST := NINSALUB','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','FGERAVERBA(CCODINSGES,NINSALGEST, NHORAINSA,,CCUSTO,,,,,,,,,','000033','000030','.EXE.','5','FGERAVERBA(CCODINSGES,NINSALGEST, NHORAINSA,,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','(NDIASGEST > 0) .OR. (NINSALGEST > 0)','000034','000029','.CON.','5','','','5','(NDIASGEST > 0) .OR. (NINSALGEST > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NINSALGEST == 0','000035','000034','.CON.','5','','','5','NINSALGEST == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NINSALGEST := ROUND((NINSALUB/DIASTRAB)*NDIASGEST,2)','000036','000035','.EXE.','5','NINSALGEST := ROUND((NINSALUB/DIASTRAB)*NDIASGEST,2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','FGERAVERBA(CCODINSGES,NINSALGEST, NDIASGEST,,CCUSTO,,,,,,,,,','000037','000034','.EXE.','5','FGERAVERBA(CCODINSGES,NINSALGEST, NDIASGEST,,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','FGERAVERBA(CVERBAROT,(NINSALUB - NINSALGEST), (DIASTRAB-NDIA','000038','000034','.EXE.','5','FGERAVERBA(CVERBAROT,(NINSALUB - NINSALGEST), (DIASTRAB-NDIASGEST),,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NCOUNT++','000039','000016','.EXE.','5','nCount++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSME','NDIASPG := NDIASPGCPY','000040','000010','.EXE.','5','NDIASPG := NDIASPGCPY','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0244    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0244( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVINSMI','GRAVAR INSALUBRIDADE MINIMA','','','031','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVINSMI','LPROP := .T.','000001','000000','.EXE.','5','LPROP := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','SRA->RA_TPCONTR=="3"','000002','000000','.CON.','5','','','5','SRA->RA_TPCONTR=="3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','LPROP := .F.','000003','000002','.EXE.','5','LPROP := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','DIASTRAB + NDIASPG + NDIASFGTS - NDIASMAT - NDPRGSALMA > 0','000004','000000','.CON.','5','','','5','DiasTrab + nDiasPg + nDiasFgts - nDiasMat - nDPrgSalMa > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','EMPTY(CVERBAROT)','000005','000004','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','CVERBAROT := FGETCODFOL("0037")','000006','000005','.EXE.','5','cVerbaRot := fGetCodFol("0037")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NCOUNT := 1','000007','000004','.EXE.','5','nCount := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','!EMPTY(CVERBAROT)','000008','000004','.CON.','5','','','5','!Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NPOS := ASCAN(APD,{ |X| X[1] == CVERBAROT .AND. X[9] # '+"'"+'D'+"'"+' }','000009','000008','.EXE.','5','nPos := Ascan(aPd,{ |x| x[1] == cVerbaRot .And. x[9] # '+"'"+'D'+"'"+' } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','000010','000008','.CON.','5','','','5','!( NPOS > 0 .AND. APD[NPOS,7] == "G" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NDIASPGCPY:= NDIASPG','000011','000010','.EXE.','5','NDIASPGCPY:= NDIASPG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NDAPAPG > 0','000012','000010','.CON.','5','','','5','NDAPAPG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NDIASPG := NDAPAPG','000013','000012','.EXE.','5','NDIASPG := NDAPAPG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NDAPAPG == 0','000014','000010','.CON.','5','','','5','NDAPAPG == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NDIASPG := 0','000015','000014','.EXE.','5','NDIASPG := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NCOUNT <= LEN(AINSALUB)','000016','000010','.ENQ.','5','','','5','nCount <= Len(aInsalub)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','AINSALUB[NCOUNT,1] .AND. AINSALUB[NCOUNT,6] == "2" .AND. AIN','000017','000016','.CON.','5','','','5','aInsalub[nCount,1] .and. aInsalub[nCount,6] == "2" .and. aInsalub[nCount,7] > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NINSALUB := AINSALUB[NCOUNT,7]','000018','000017','.EXE.','5','nInsalub := aInsalub[nCount,7]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','CSEQAUX := " "','000019','000017','.EXE.','5','cSeqAux := " "','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','CCUSTO := AINSALUB[NCOUNT,10]','000020','000017','.EXE.','5','cCusto := aInsalub[nCount,10]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NCOUNT > 1','000021','000017','.CON.','5','','','5','nCount > 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','CSEQAUX := "1"','000022','000021','.EXE.','5','cSeqAux := "1"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','AEVAL(AINSALUB, {|X| IF(X[4] == AINSALUB[NCOUNT,4], CSEQAUX','000023','000021','.EXE.','5','aEval(aInsalub, {|x| If(x[4] == aInsalub[nCount,4], cSeqAux := Soma1(cSeqAux), Nil)},1,nCount-1)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','CSEQAUX := IF(CSEQAUX == "1", " ", CSEQAUX)','000024','000021','.EXE.','5','cSeqAux := If(cSeqAux == "1", " ", cSeqAux)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','AINSALUB[NCOUNT,9] > 0','000025','000017','.CON.','5','','','5','aInsalub[nCount,9] > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NHORAINSA := AINSALUB[NCOUNT,9]','000026','000025','.EXE.','5','nHoraInsa := aInsalub[nCount,9]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','!(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIA','000027','000017','.CON.','5','','','5','!(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIASGEST > 0 .OR. NINSALGEST > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','FGERAVERBA(CVERBAROT,NINSALUB, NHORAINSA,,CCUSTO,,,,,,,,,CSE','000028','000027','.EXE.','5','fGeraVerba(cVerbaRot,nInsalub, nHoraInsa,,cCusto,,,,,,,,,cSeqAux,,If(cTipoRot=="4"  .and. SRA->RA_TPCONTR <> "3", !("1" $ P_ADCINTEG),LPROP))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIAS','000029','000017','.CON.','5','','','5','(FGETTIPOROT(GETROTEXEC()) == "1" .AND. (LMESTODO .OR. NDIASGEST > 0 .OR. NINSALGEST > 0))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','LMESTODO','000030','000029','.CON.','5','','','5','LMESTODO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','SE PERIODO DE GESTACAO MES TODO, GRAVA TODA A VERBA NO ID 14','000031','000030','.MSG.','5','SE PERÍODO DE GESTACAO MÊS TODO, GRAVA TODA A VERBA NO ID 1423 INSALUBRIDADE GESTACAO','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NINSALGEST := NINSALUB','000032','000030','.EXE.','5','NINSALGEST := NINSALUB','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','FGERAVERBA(CCODINSGES,NINSALGEST, NHORAINSA,,CCUSTO,,,,,,,,,','000033','000030','.EXE.','5','FGERAVERBA(CCODINSGES,NINSALGEST, NHORAINSA,,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','(NDIASGEST > 0) .OR. (NINSALGEST > 0)','000034','000029','.CON.','5','','','5','(NDIASGEST > 0) .OR. (NINSALGEST > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NINSALGEST == 0','000035','000034','.CON.','5','','','5','NINSALGEST == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NINSALGEST := ROUND((NINSALUB/DIASTRAB)*NDIASGEST,2)','000036','000035','.EXE.','5','NINSALGEST := ROUND((NINSALUB/DIASTRAB)*NDIASGEST,2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','FGERAVERBA(CCODINSGES,NINSALGEST, NDIASGEST,,CCUSTO,,,,,,,,,','000037','000034','.EXE.','5','FGERAVERBA(CCODINSGES,NINSALGEST, NDIASGEST,,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','FGERAVERBA(CVERBAROT,(NINSALUB - NINSALGEST), (DIASTRAB-NDIA','000038','000034','.EXE.','5','FGERAVERBA(CVERBAROT,(NINSALUB - NINSALGEST), (DIASTRAB-NDIASGEST),,cCusto,,,,,,,,,,,LPROP)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NCOUNT++','000039','000016','.EXE.','5','nCount++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVINSMI','NDIASPG := NDIASPGCPY','000040','000010','.EXE.','5','NDIASPG := NDIASPGCPY','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0245    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0245( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVLQRES','GRAVA LIQUIDO DE RESCISAO ANT - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVLQRES','SUBSTR(CSUPLEM,1,1)=="2"   .END.','000001','000000','.CON.','5','','','5','SUBSTR(CSUPLEM,1,1)=="2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVLQRES','cVrb0126 := fGetCodFol("0126")     .CNT.','000002','000001','.EXE.','5','cVrb0126 := fGetCodFol("0126")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVLQRES','cVrb0303 := fGetCodFol("0303")     .CNT.','000003','000001','.EXE.','5','cVrb0303 := fGetCodFol("0303")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVLQRES','nLiqResAnt := fSeek0126( SRA->RA_DEMISSA, CPERIODO, CNUMPAG','000004','000001','.EXE.','5','nLiqResAnt := fSeek0126( SRA->RA_DEMISSA, CPERIODO, CNUMPAG )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVLQRES','nLiqResAnt := ROUND(nLiqResAnt, MSDECIMAIS(1))     .CNT.','000005','000001','.EXE.','5','nLiqResAnt := ROUND(nLiqResAnt, MSDECIMAIS(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVLQRES','NPOS := aScan(APD,{|x| x[1] == CVRB0303 .AND. X[7] == "I" })','000006','000001','.EXE.','5','NPOS := aScan(APD,{|x| x[1] == CVRB0303 .AND. X[7] == "I" })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVLQRES','NLIQRESANT>0 .AND. NPOS <= 0   .END.','000007','000001','.CON.','5','','','5','NLIQRESANT>0 .AND. NPOS <= 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVLQRES','FGeraVerba(CVRB0303,NLIQRESANT,,,,,,,,,,,,,,,,,,,,)     .END','000008','000007','.EXE.','5','FGeraVerba(CVRB0303,NLIQRESANT,,,,,,,,,,,,,,,,,,,,)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0246    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0246( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVMCEXP','GRAVA DESCONTO MULTA CONTRATO EXPERIENC.','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVMCEXP','NMULTA > 0','000001','000000','.CON.','5','','','5','nMulta > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVMCEXP','EMPTY(CVERBAROT)','000002','000001','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVMCEXP','CVERBAROT := FGETCODFOL("0177")','000003','000002','.EXE.','5','cVerbaRot := fGetCodFol("0177")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVMCEXP','FGERAVERBA(CVERBAROT,NMULTA)','000004','000001','.EXE.','5','fGeraVerba(cVerbaRot,nMulta)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0247    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0247( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVMEDIA','GRAVAR MEDIAS','','','011','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVMEDIA','F132GMED()','000001','000000','.EXE.','5','f132GMed()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0248    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0248( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVOTB','GRAVA CALCULO DOS OUTROS BENEFICIOS','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVOTB','FGRVOTB()','000001','000000','.EXE.','5','fGrvOtB()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0249    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0249( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVPERI','GRAVAR  PERICULOSIDADE','','','027','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVPERI','DIASTRAB + NDIASPG + NDIASFGTS - NDIASMAT > 0 .AND. NPERIC >','000001','000000','.CON.','5','','','5','DiasTrab + nDiasPg + nDiasFgts - nDiasMat - nDPrgSalMa > 0 .and. nPeric > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','EMPTY(CVERBAROT)','000002','000001','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','CVERBAROT := FGETCODFOL("0036")','000003','000002','.EXE.','5','cVerbaRot := fGetCodFol("0036")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','!EMPTY(CVERBAROT)','000004','000001','.CON.','5','','','5','!Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','LADMISSAO','000005','000004','.CON.','5','','','5','LADMISSAO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','LPADM := P_CPERICPR == "S"','000006','000005','.EXE.','5','LPADM := P_CPERICPR == "S"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','!LADMISSAO','000007','000004','.CON.','5','','','5','!LADMISSAO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','LPADM := .T.','000008','000007','.EXE.','5','LPADM := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','SRA->RA_TPCONTR="3"','000009','000004','.CON.','5','','','5','SRA->RA_TPCONTR="3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','LPADM := .F.','000010','000009','.EXE.','5','LPADM := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','NDIASPGCPY:= NDIASPG','000011','000004','.EXE.','5','NDIASPGCPY:= NDIASPG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','NDAPAPG > 0','000012','000004','.CON.','5','','','5','NDAPAPG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','NDIASPG := NDAPAPG','000013','000012','.EXE.','5','NDIASPG := NDAPAPG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','NDAPAPG == 0','000014','000004','.CON.','5','','','5','NDAPAPG == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','NDIASPG := 0','000015','000014','.EXE.','5','NDIASPG := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','CCUSTO := SRA->RA_CC','000016','000004','.EXE.','5','cCusto := SRA->RA_CC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','AEVAL(APERIC, {|X| IF(!(X[4] $ "2*6*7*8"), CCUSTO := X[10],','000017','000004','.EXE.','5','aEval(aPeric, {|x| If(!(x[4] $ "2*6*7*8"), cCusto := x[10], SRA->RA_CC) })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','ASCAN(APD, { |X| X[1] = CVERBAROT .AND. X[9] # "D" .AND. X[7','000018','000004','.CON.','5','','','5','Ascan(aPd, { |X| X[1] = CVERBAROT .And. X[9] # "D" .And. X[3] = cSemana}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','FGERAVERBA(CVERBAROT,NPERIC, NHORAPER,,CCUSTO,,,,,,,,,,,IF(C','000019','000018','.EXE.','5','fGeraVerba(cVerbaRot,nPeric, nHoraper,,cCusto,,,,,,,,,,,If(cTipoRot=="4"  .and. SRA->RA_TPCONTR <> "3",!("2" $ P_ADCINTEG),lPAdm))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERI','NDIASPG := NDIASPGCPY','000020','000004','.EXE.','5','NDIASPG := NDIASPGCPY','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0250    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0250( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVPERV','GRAVA PERICULOSIDADE SOBRE VERBAS','','','036','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVPERV','( DIASTRAB + NDIASPG - NDIASMAT - NDPRGSALM','000001','000000','.CON.','5','','','5','( DiasTrab + nDiasPg - nDiasMat - nDPrgSalMa > 0 .Or. ( DiasTrab + nDiasPg + nDiasMat + nDPrgSalMa == 0 .and. nDiasAfas == nDiasC ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','EMPTY(CVERBAROT)','000002','000001','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','CVERBAROT := FGETCODFOL("1281")','000003','000002','.EXE.','5','cVerbaRot := fGetCodFol("1281")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','CCUSTO := SRA->RA_CC','000004','000001','.EXE.','5','cCusto := SRA->RA_CC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','ASCAN(APERIC,{|X| X[1] }) > 0','000005','000001','.CON.','5','','','5','aScan(aPeric,{|x| x[1] }) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','NPERIC := 0','000006','000005','.EXE.','5','nPeric := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','AEVAL(APERIC, {|X| IF(X[1] .AND. X[4] $ "2*6*7*8", (NPERIC +','000007','000005','.EXE.','5','aEval(aPeric, {|x| If(x[1] .and. x[4] $ "2*6*7*8", (nPeric += x[7], cCusto := x[10]),Nil)})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','LTEMPERIC := .T.','000008','000005','.EXE.','5','lTemPeric := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','!EMPTY(CVERBAROT) .AND. NPERIC > 0','000009','000001','.CON.','5','','','5','!Empty(cVerbaRot) .and. nPeric > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','NDIASPGCPY:= NDIASPG','000010','000009','.EXE.','5','NDIASPGCPY:= NDIASPG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','NDAPAPG > 0','000011','000009','.CON.','5','','','5','NDAPAPG > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','NDIASPG := NDAPAPG','000012','000011','.EXE.','5','NDIASPG := NDAPAPG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','NDAPAPG == 0','000013','000009','.CON.','5','','','5','NDAPAPG == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','NDIASPG := 0','000014','000013','.EXE.','5','NDIASPG := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','FGERAVERBA(CVERBAROT,NPERIC, NHORAPER,,CCUSTO,,,,,,,,,,,IF(C','000015','000009','.EXE.','5','fGeraVerba(cVerbaRot,nPeric, nHoraPer,,cCusto,,,,,,,,,,,If(cTipoRot=="4" .and. SRA->RA_TPCONTR <> "3" .And. .F.,!("2" $ P_ADCINTEG),.F.))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','NDIASPG := NDIASPGCPY','000016','000009','.EXE.','5','NDIASPG := NDIASPGCPY','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','LTEMPERIC','000017','000001','.CON.','5','','','5','lTemPeric','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','NPERIC := 0','000018','000017','.EXE.','5','nPeric := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVPERV','AEVAL(APERIC, {|X| IF(X[1],  NPERIC += IF(!P_RESADISB ,X[8],','000019','000017','.EXE.','5','aEval(aPeric, {|x| If(x[1],  nPeric += If(!P_RESADISB ,x[8],x[7]),Nil)})','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0251    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0251( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVSAL','GRAVACAO DO SALARIO','','','018','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVSAL','AAREA := GETAREA()','000001','000000','.EXE.','5','aArea := GetArea()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CDATAUX := STRZERO( YEAR( DDATAATE ), 4, 0 ) + STRZERO( MONT','000002','000000','.EXE.','5','cDatAux := StrZero( Year( dDataAte ), 4, 0 ) + StrZero( Month( dDataAte ),2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CCATFUNC := SRA->RA_CATFUNC','000003','000000','.EXE.','5','cCatFunc := SRA->RA_CATFUNC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CTIPOPGT := SRA->RA_TIPOPGT','000004','000000','.EXE.','5','cTipoPgt := SRA->RA_TIPOPGT','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','NDIASPAG := 0','000005','000000','.EXE.','5','nDiasPag := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LDIAHORA := GETNEWPAR('+"'"+'MV_DIAHOR'+"'"+',.T.)','000006','000000','.EXE.','5','lDiaHora := GetNewPar('+"'"+'MV_DIAHOR'+"'"+',.T.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LDISSIDIO := IF( TYPE("LDISSIDIO")=="U",.F.,LDISSIDIO)','000007','000000','.EXE.','5','lDissidio := If( type("lDissidio")=="U",.F.,lDissidio)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CSITFOLH := IF( TYPE("CSITFOLH")=="U",SRA->RA_SITFOLH,CSITFO','000008','000000','.EXE.','5','cSitFolh := If( Type("cSitFolh")=="U",SRA->RA_SITFOLH,cSitFolh)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LDISSIDIO','000009','000000','.CON.','5','','','5','lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','!EMPTY(SR3->(INDEXKEY(2)))','000010','000009','.CON.','5','','','5','!Empty(SR3->(INDEXKEY(2)))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','SR3->(DBSETORDER(2))','000011','000010','.EXE.','5','SR3->(dbSetorder(2))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','SR3->(DBSEEK( SRA->RA_FILIAL + SRA->RA_MAT ))','000012','000009','.CON.','5','','','5','SR3->(dbSeek( SRA->RA_FILIAL + SRA->RA_MAT ))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','SR3->(!EOF()) .AND. SR3->R3_FILIAL + SR3->R3_MAT == SRA->RA_','000013','000012','.ENQ.','5','','','5','SR3->(!EOF()) .AND. SR3->R3_FILIAL + SR3->R3_MAT == SRA->RA_FILIAL + SRA->RA_MAT','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','SR3->R3_PD == '+"'"+'000'+"'"+' .AND. MESANO(SR3->R3_DATA) <= CDATAUX','000014','000013','.CON.','5','','','5','SR3->R3_PD == '+"'"+'000'+"'"+' .and. mesAno(SR3->R3_DATA) <= cDatAux','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CCATFUNC := FDESC( "SR7", SR3->R3_MAT+DTOS(SR3->R3_DATA)+SR3','000015','000014','.EXE.','5','cCatFunc := fDesc( "SR7", SR3->R3_MAT+DTOS(SR3->R3_DATA)+SR3->R3_SEQ+SR3->R3_TIPO, "R7_CATFUNC", , SRA->RA_FILIAL, 2 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CTIPOPGT := FDESC( "SR7", SR3->R3_MAT+DTOS(SR3->R3_DATA)+SR3','000016','000014','.EXE.','5','cTipoPgt := fDesc( "SR7", SR3->R3_MAT+DTOS(SR3->R3_DATA)+SR3->R3_SEQ+SR3->R3_TIPO, "R7_TIPOPGT", , SRA->RA_FILIAL, 2 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','SR3->(DBSKIP())','000017','000013','.EXE.','5','SR3->(DbSkip())','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','(SALARIO > 0 .OR. (CCATFUNC = "A" .AND. SRA->RA_AUTMEI = '+"'"+'1'+"'"+'','000018','000000','.CON.','5','','','5','(Salario > 0 .Or. (CCATFUNC = "A" .And. SRA->RA_AUTMEI = '+"'"+'1'+"'"+')) .And. cSitFolh # "D" .And. cCalcInf == "N"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CCATFUNC $ "M*C*D" .AND. CTIPOPGT = "M" .AND. ASCAN(APD, { |','000019','000018','.CON.','5','','','5','cCatFunc $ "M*C*D" .And. cTipoPgt = "M" .And. Ascan(aPd, { |X| X[1] = aCodfol[31,1] .And. X[3] = cSemana .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','!LRESEXT .OR. EMPTY(CPDSALEXT)','000020','000019','.CON.','5','','','5','!lResExt .Or. Empty(cPdSalExt)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(ACODFOL[31,1],NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NSAL','000021','000020','.EXE.','5','FMatriz(aCodfol[31,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LRESEXT .AND. !EMPTY(CPDSALEXT)','000022','000019','.CON.','5','','','5','lResExt .And. !Empty(cPdSalExt)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(CPDSALEXT,NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NSALINT)','000023','000022','.EXE.','5','FMatriz(cPdSalExt,nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CCATFUNC $ "P" .AND. CTIPOPGT = "M"','000024','000018','.CON.','5','','','5','cCatFunc $ "P" .And. cTipoPgt = "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LEN(ACODFOL) < 1430 .OR. EMPTY(SRA->RA_CATEFD) .OR. !(SRA->R','000025','000024','.CON.','5','','','5','Len(aCodFol) < 1430 .Or. Empty(SRA->RA_CATEFD) .Or. !(SRA->RA_CATEFD $ "722/723") .Or. (SRA->RA_CATEFD == "722" .And. Empty(aCodfol[1430,1])) .Or. (SRA->RA_CATEFD == "723" .And. Empty(aCodfol[1431,1]))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(IF(LRESEXT .AND. !EMPTY(CPDSALEXT),CPDSALEXT,ACODFOL','000026','000025','.EXE.','5','FMatriz(If(lResExt .And. !Empty(cPdSalExt),cPdSalExt,aCodfol[217,1]),nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','SRA->RA_CATEFD == "722"','000027','000024','.CON.','5','','','5','SRA->RA_CATEFD == "722"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(IF(LRESEXT .AND. !EMPTY(CPDSALEXT),CPDSALEXT,ACODFOL','000028','000027','.EXE.','5','FMatriz(If(lResExt .And. !Empty(cPdSalExt),cPdSalExt,aCodfol[1430,1]),nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','SRA->RA_CATEFD == "723"','000029','000024','.CON.','5','','','5','SRA->RA_CATEFD == "723"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(IF(LRESEXT .AND. !EMPTY(CPDSALEXT),CPDSALEXT,ACODFOL','000030','000029','.EXE.','5','FMatriz(If(lResExt .And. !Empty(cPdSalExt),cPdSalExt,aCodfol[1431,1]),nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CCATFUNC $ "A"','000031','000018','.CON.','5','','','5','cCatFunc $ "A"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CPAISLOC == "BRA" .AND. SRA->RA_CATEFD == "781"','000032','000031','.CON.','5','','','5','cPaisLoc == "BRA" .And. SRA->RA_CATEFD == "781"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LEN(ACODFOL) >= 1881 .AND. !EMPTY(ACODFOL[1881, 1])','000033','000032','.CON.','5','','','5','Len(aCodFol) >= 1881 .And. !Empty(aCodFol[1881, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(IF(LRESEXT .AND. !EMPTY(CPDSALEXT),CPDSALEXT,ACODFOL','000034','000033','.EXE.','5','FMatriz(If(lResExt .And. !Empty(cPdSalExt),cPdSalExt,aCodfol[1881,1]),nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','!(LEN(ACODFOL) >= 1881 .AND. !EMPTY(ACODFOL[1881, 1]))','000035','000032','.CON.','5','','','5','!(Len(aCodFol) >= 1881 .And. !Empty(aCodFol[1881, 1]))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','AddLogExecRot( "Não há cadastro de verba para o ID 18871 par','000036','000035','.EXE.','5','AddLogExecRot( "Não há cadastro de verba para o ID 18871 para a geração do salário do ministro de confissão religiosa." )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','ADDLOGEXECROT( "VERIFIQUE A DOCUMENTAÇÃO NO TDN DISPONÍVEL E','000037','000035','.EXE.','5','AddLogExecRot( "Verifique a documentação no TDN disponível em https://tdn.totvs.com/x/tz2sJg para mais informações." )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','ADDLOGEXECROT( "OBS.: O CÁLCULO NÃO SERÁ REALIZADO ATÉ QUE S','000038','000035','.EXE.','5','AddLogExecRot( "Obs.: o cálculo não será realizado até que seja efetuado o cadastro da verba de ID 1881." )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FINALCALC()','000039','000035','.EXE.','5','FinalCalc()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','!(CPAISLOC == "BRA" .AND. SRA->RA_CATEFD == "781")','000040','000031','.CON.','5','','','5','!(cPaisLoc == "BRA" .And. SRA->RA_CATEFD == "781")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LVLD1 := ( LEN(ACODFOL) < 1448 .OR. EMPTY(SRA->RA_CATEFD) .O','000041','000040','.EXE.','5','lVld1 := ( Len(aCodFol) < 1448 .Or. Empty(SRA->RA_CATEFD) .Or. !(SRA->RA_CATEFD $ "731/734/738") .Or. (SRA->RA_CATEFD $ "731/734/738" .And. Empty(aCodfol[1448,1]) ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LVLD2A := (!EMPTY(ACODFOL[218,1]) .AND. ASCAN(APD,{|X|X[1]=A','000042','000040','.EXE.','5','lVld2a := (!Empty(aCodFol[218,1]) .And. Ascan(aPd,{|X|X[1]=aCodfol[218,1] .And. X[3]=cSemana .And. X[9]#"D"})=0)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LVLD2B := (LEN(ACODFOL)<1413 .OR. !EMPTY(ACODFOL[1413,1]) .A','000043','000040','.EXE.','5','lVld2b := (Len(aCodFol)<1413 .Or. !Empty(aCodFol[1413,1]) .And. Ascan(aPd,{ |X|X[1]=aCodfol[1413,1] .And. X[3]=cSemana .And. X[9]#"D"})=0)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LVLD1 .AND. (LVLD2A .OR. LVLD2B)','000044','000040','.CON.','5','','','5','lVld1 .And. (lVld2a .Or. lVld2b)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(IF(LRESEXT .AND. !EMPTY(CPDSALEXT),CPDSALEXT,ACODFOL','000045','000044','.EXE.','5','FMatriz(If(lResExt .And. !Empty(cPdSalExt),cPdSalExt,aCodfol[218,1]),nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','LVLD3 := (LEN(ACODFOL)> 1412 .AND. ASCAN(APD,{|X|X[1]=ACODFO','000046','000040','.EXE.','5','lVld3 := (Len(aCodFol)> 1412 .And. Ascan(aPd,{|X|X[1]=aCodfol[1413,1] .And. X[3]=cSemana .And. X[9]#"D"}) = 0 .And. !Empty(aCodFol[218,1])) .And. SRA->RA_AUTMEI == "1"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CTIPOPGT = "M" .AND. LVLD1 .AND. LVLD3','000047','000040','.CON.','5','','','5','cTipoPgt = "M" .And. lVld1 .And. lVld3','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','NPOSPD := ASCAN(APD,{|X|X[1]=ACODFOL[218,1] .AND. X[3]=CSEMA','000048','000047','.EXE.','5','nPosPD := ASCAN(APD,{|X|X[1]=ACODFOL[218,1] .And. X[3]=CSEMANA .And. X[9]#"D" })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','NPOSPD == 0','000049','000047','.CON.','5','','','5','nPosPD == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(IF(LRESEXT .AND. !EMPTY(CPDSALEXT),CPDSALEXT,ACODFOL','000050','000049','.EXE.','5','fMatriz(If(lResExt .And. !Empty(cPdSalExt),cPdSalExt,aCodFol[1413,1]),NSALPG ,DIASTRAB)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','NPOSPD > 0','000051','000047','.CON.','5','','','5','nPosPD > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(IF(LRESEXT .AND. !EMPTY(CPDSALEXT),CPDSALEXT,ACODFOL','000052','000051','.EXE.','5','fMatriz(If(lResExt .And. !Empty(cPdSalExt),cPdSalExt,aCodFol[1413,1]),aPd[nPosPD][5] ,aPd[nPosPD][4])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','APD[NPOSPD][9] := "D"','000053','000051','.EXE.','5','aPd[nPosPD][9] := "D"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','!LVLD1','000054','000040','.CON.','5','','','5','!lVld1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(IF(LRESEXT .AND. !EMPTY(CPDSALEXT),CPDSALEXT,ACODFOL','000055','000054','.EXE.','5','FMatriz(If(lResExt .And. !Empty(cPdSalExt),cPdSalExt,aCodfol[1448,1]),nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CCATFUNC $ "E" .AND. CTIPOPGT = "M" .AND. ACODFOL[219,1] # S','000056','000018','.CON.','5','','','5','cCatFunc $ "E" .And. cTipoPgt = "M" .And. aCodFol[219,1] # Space(3) .And. Ascan(aPd, { |X| X[1] = aCodfol[219,1] .And. X[3] = cSemana .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(ACODFOL[219,1],NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NSA','000057','000056','.EXE.','5','FMatriz(aCodfol[219,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CCATFUNC $ "H" .AND. CTIPOPGT = "M" .AND. ACODFOL[32,1] # SP','000058','000018','.CON.','5','','','5','cCatFunc $ "H" .And. cTipoPgt = "M" .And. aCodfol[32,1] # SPACE(3) .AND. aCodfol[33,1] = SPACE(3) .And. Ascan(aPd, { |X| X[1] = aCodfol[32,1] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(ACODFOL[32,1],NSALPG+NDSR,NHORASTRAB+NHORASDSR,,,,,,','000059','000058','.EXE.','5','FMatriz(aCodfol[32,1],nSalPg+nDsr,nHorastrab+nHorasDsr,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CCATFUNC $ "G" .AND. CTIPOPGT = "M" .AND. ACODFOL[220,1] # S','000060','000018','.CON.','5','','','5','cCatFunc $ "G" .And. cTipoPgt = "M" .And. aCodfol[220,1] # SPACE(3) .And. Ascan(aPd, { |X| X[1] = aCodfol[220,1] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(ACODFOL[220,1],NSALPG+NDSR,NHORASTRAB+NHORASDSR,,,,,','000061','000060','.EXE.','5','FMatriz(aCodfol[220,1],nSalPg+nDsr,nHorastrab+nHorasDsr,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','cCatFunc $ "H" .And. cTipoPgt = "M" .And. aCodfol[32,1] #','000062','000018','.CON.','5','','','5','cCatFunc $ "H" .And. cTipoPgt = "M" .And. aCodfol[32,1] # SPACE(3) .AND. aCodfol[33,1] # SPACE(3)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','ASCAN(APD, { |X| X[1] = ACODFOL[32,1] .AND. X[9] # "D"}) = 0','000063','000062','.CON.','5','','','5','Ascan(aPd, { |X| X[1] = aCodfol[32,1] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(ACODFOL[32,1],NSALPG,NHORASTRAB,,,,,,,,,,,,,,,,,,NSA','000064','000063','.EXE.','5','FMatriz(aCodfol[32,1],nSalPg,nHorasTrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','ASCAN(APD, { |X| X[1] = ACODFOL[33,1] .AND. X[9] # "D"}) = 0','000065','000062','.CON.','5','','','5','Ascan(aPd, { |X| X[1] = aCodfol[33,1] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(ACODFOL[33,1],NDSR,NHORASDSR,,,,,,,,,,,,,,,,,,NSALIN','000066','000065','.EXE.','5','FMatriz(aCodfol[33,1],nDsr,nHorasDsr,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','CTIPOPGT = "S" .AND. CCATFUNC <> "A" .AND. ASCAN(APD, { |X|','000067','000018','.CON.','5','','','5','cTipoPgt = "S" .And. cCatFunc <> "A" .And. Ascan(aPd, { |X| X[1] = aCodfol[32,1] .And. X[3] = cSemana .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(ACODFOL[32,1],NSALPG,IF(CCATFUNC == "H", NORMAL, DIA','000068','000067','.EXE.','5','FMatriz(aCodfol[32,1],nSalPg,If(cCatFunc == "H", Normal, Diastrab))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','ASCAN(APD, { |X| X[1] = ACODFOL[33,1] .AND. CSEMANA = X[3] .','000069','000067','.CON.','5','','','5','Ascan(aPd, { |X| X[1] = aCodfol[33,1] .And. cSemana = X[3] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','FMATRIZ(ACODFOL[33,1],NDSR,IF(CCATFUNC == "H", DESCANSO, NHO','000070','000069','.EXE.','5','FMatriz(aCodfol[33,1],nDsr,If(cCatFunc == "H", Descanso, nHorasDsr),,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSAL','RESTAREA(AAREA)','000071','000000','.EXE.','5','RestArea(aArea)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0252    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0252( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVSALFP','GRAVACAO DO SALARIO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVSALFP','AAREA := GETAREA()','000001','000000','.EXE.','5','aArea := GetArea()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CDATAUX := STRZERO( YEAR( DDATAATE ), 4, 0 ) + STRZERO( MONT','000002','000000','.EXE.','5','cDatAux := StrZero( Year( dDataAte ), 4, 0 ) + StrZero( Month( dDataAte ),2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CCATFUNC := SRA->RA_CATFUNC','000003','000000','.EXE.','5','cCatFunc := SRA->RA_CATFUNC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CTIPOPGT := SRA->RA_TIPOPGT','000004','000000','.EXE.','5','cTipoPgt := SRA->RA_TIPOPGT','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','NDIASPAG := 0','000005','000000','.EXE.','5','nDiasPag := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','LDIAHORA := GETNEWPAR('+"'"+'MV_DIAHOR'+"'"+',.T.)','000006','000000','.EXE.','5','lDiaHora := GetNewPar('+"'"+'MV_DIAHOR'+"'"+',.T.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','LDISSIDIO := IF( TYPE("LDISSIDIO")=="U",.F.,LDISSIDIO)','000007','000000','.EXE.','5','lDissidio := If( type("lDissidio")=="U",.F.,lDissidio)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CSITFOLH := IF( TYPE("CSITFOLH")=="U",SRA->RA_SITFOLH,CSITFO','000008','000000','.EXE.','5','cSitFolh := If( Type("cSitFolh")=="U",SRA->RA_SITFOLH,cSitFolh)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','LDISSIDIO','000009','000000','.CON.','5','','','5','lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','!EMPTY(SR3->(INDEXKEY(2)))','000010','000009','.CON.','5','','','5','!Empty(SR3->(INDEXKEY(2)))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','SR3->(DBSETORDER(2))','000011','000010','.EXE.','5','SR3->(dbSetorder(2))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','SR3->(DBSEEK( SRA->RA_FILIAL + SRA->RA_MAT ))','000012','000009','.CON.','5','','','5','SR3->(dbSeek( SRA->RA_FILIAL + SRA->RA_MAT ))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','SR3->(!EOF()) .AND. SR3->R3_FILIAL + SR3->R3_MAT == SRA->RA_','000013','000012','.ENQ.','5','','','5','SR3->(!EOF()) .AND. SR3->R3_FILIAL + SR3->R3_MAT == SRA->RA_FILIAL + SRA->RA_MAT','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','SR3->R3_PD == '+"'"+'000'+"'"+' .AND. MESANO(SR3->R3_DATA) <= CDATAUX','000014','000013','.CON.','5','','','5','SR3->R3_PD == '+"'"+'000'+"'"+' .and. mesAno(SR3->R3_DATA) <= cDatAux','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CCATFUNC := FDESC( "SR7", SR3->R3_MAT+DTOS(SR3->R3_DATA)+SR3','000015','000014','.EXE.','5','cCatFunc := fDesc( "SR7", SR3->R3_MAT+DTOS(SR3->R3_DATA)+SR3->R3_SEQ+SR3->R3_TIPO, "R7_CATFUNC", , SRA->RA_FILIAL, 2 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CTIPOPGT := FDESC( "SR7", SR3->R3_MAT+DTOS(SR3->R3_DATA)+SR3','000016','000014','.EXE.','5','cTipoPgt := fDesc( "SR7", SR3->R3_MAT+DTOS(SR3->R3_DATA)+SR3->R3_SEQ+SR3->R3_TIPO, "R7_TIPOPGT", , SRA->RA_FILIAL, 2 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','SR3->(DBSKIP())','000017','000013','.EXE.','5','SR3->(DbSkip())','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','SALARIO > 0 .AND. CSITFOLH # "D" .AND. CCALCINF == "N"','000018','000000','.CON.','5','','','5','Salario > 0 .And. cSitFolh # "D" .And. cCalcInf == "N"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','cCatFunc $ "M*C*D*0*1*2*3*4*5*6*7*8*9" .And. cTipoPgt = "M','000019','000018','.CON.','5','','','5','cCatFunc $ "M*C*D*0*1*2*3*4*5*6*7*8*9" .And. cTipoPgt = "M" .And. Ascan(aPd, { |X| X[1] = aCodfol[644,1] .And. X[3] = cSemana .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMatriz(aCodfol[644,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSa','000020','000019','.EXE.','5','FMatriz(aCodfol[644,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CCATFUNC $ "P" .AND. CTIPOPGT = "M"','000021','000018','.CON.','5','','','5','cCatFunc $ "P" .And. cTipoPgt = "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','LEN(ACODFOL) < 1430 .OR. EMPTY(SRA->RA_CATEFD) .OR. !(SRA->R','000022','000021','.CON.','5','','','5','Len(aCodFol) < 1430 .Or. Empty(SRA->RA_CATEFD) .Or. !(SRA->RA_CATEFD $ "722/723") .Or. (SRA->RA_CATEFD == "722" .And. Empty(aCodfol[1430,1])) .Or. (SRA->RA_CATEFD == "723" .And. Empty(aCodfol[1431,1]))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[217,1],NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NSA','000023','000022','.EXE.','5','FMatriz(aCodfol[217,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','SRA->RA_CATEFD == "722"','000024','000021','.CON.','5','','','5','SRA->RA_CATEFD == "722"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[1430,1],NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NS','000025','000024','.EXE.','5','FMatriz(aCodfol[1430,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','SRA->RA_CATEFD == "723"','000026','000021','.CON.','5','','','5','SRA->RA_CATEFD == "723"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[1431,1],NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NS','000027','000026','.EXE.','5','FMatriz(aCodfol[1431,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CCATFUNC $ "A"','000028','000018','.CON.','5','','','5','cCatFunc $ "A"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','LVLD1 := ( LEN(ACODFOL) < 1448 .OR. EMPTY(SRA->RA_CATEFD) .O','000029','000028','.EXE.','5','lVld1 := ( Len(aCodFol) < 1448 .Or. Empty(SRA->RA_CATEFD) .Or. !(SRA->RA_CATEFD $ "731/734/738") .Or. (SRA->RA_CATEFD $ "731/734/738" .And. Empty(aCodfol[1448,1]) ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','LVLD2 := (!EMPTY(ACODFOL[218,1]) .AND. ASCAN(APD,{|X|X[1]=AC','000030','000028','.EXE.','5','lVld2 := (!Empty(aCodFol[218,1]) .And. Ascan(aPd,{|X|X[1]=aCodfol[218,1] .And. X[3]=cSemana .And. X[9]#"D"})=0 .And. (Len(aCodFol) < 1413 .Or. Empty(aCodFol[1413,1]) .And. Ascan(aPd,{ |X|X[1]=aCodfol[1413,1] .And. X[3]=cSemana .And. X[9]#"D"})=0))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','LVLD1 .AND. LVLD2','000031','000028','.CON.','5','','','5','lVld1 .And. lVld2','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[218,1],NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NSA','000032','000031','.EXE.','5','FMatriz(aCodfol[218,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','LVLD3 := (LEN(ACODFOL)> 1412 .AND. ASCAN(APD,{|X|X[1]=ACODFO','000033','000028','.EXE.','5','lVld3 := (Len(aCodFol)> 1412 .And. Ascan(aPd,{|X|X[1]=aCodfol[1413,1] .And. X[3]=cSemana .And. X[9]#"D"}) = 0 .And. !Empty(aCodFol[218,1]) .And. Ascan(aPd,{|X|X[1]=aCodfol[218,1] .And. X[3]=cSemana .And. X[9]#"D"}) = 0)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CTIPOPGT = "M" .AND. LVLD1 .AND. !LVLD2 .AND. LVLD3','000034','000028','.CON.','5','','','5','cTipoPgt = "M" .And. lVld1 .And. !lVld2 .And. lVld3','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[1413,1],NSALPG ,DIASTRAB)','000035','000034','.EXE.','5','FMatriz(aCodfol[1413,1],nSalPg ,Diastrab)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','!LVLD1','000036','000028','.CON.','5','','','5','!lVld1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[1448,1],NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NS','000037','000036','.EXE.','5','FMatriz(aCodfol[1448,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CCATFUNC $ "E" .AND. CTIPOPGT = "M" .AND. ACODFOL[219,1] # S','000038','000018','.CON.','5','','','5','cCatFunc $ "E" .And. cTipoPgt = "M" .And. aCodFol[219,1] # Space(3) .And. Ascan(aPd, { |X| X[1] = aCodfol[219,1] .And. X[3] = cSemana .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[219,1],NSALPG ,DIASTRAB,,,,,,,,,,,,,,,,,,NSA','000039','000038','.EXE.','5','FMatriz(aCodfol[219,1],nSalPg ,Diastrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CCATFUNC $ "H" .AND. CTIPOPGT = "M" .AND. ACODFOL[32,1] # SP','000040','000018','.CON.','5','','','5','cCatFunc $ "H" .And. cTipoPgt = "M" .And. aCodfol[32,1] # SPACE(3) .AND. aCodfol[33,1] = SPACE(3) .And. Ascan(aPd, { |X| X[1] = aCodfol[32,1] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[32,1],NSALPG+NDSR,NHORASTRAB+NHORASDSR,,,,,,','000041','000040','.EXE.','5','FMatriz(aCodfol[32,1],nSalPg+nDsr,nHorastrab+nHorasDsr,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CCATFUNC $ "G" .AND. CTIPOPGT = "M" .AND. ACODFOL[220,1] # S','000042','000018','.CON.','5','','','5','cCatFunc $ "G" .And. cTipoPgt = "M" .And. aCodfol[220,1] # SPACE(3) .And. Ascan(aPd, { |X| X[1] = aCodfol[220,1] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[220,1],NSALPG+NDSR,NHORASTRAB+NHORASDSR,,,,,','000043','000042','.EXE.','5','FMatriz(aCodfol[220,1],nSalPg+nDsr,nHorastrab+nHorasDsr,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','cCatFunc $ "H" .And. cTipoPgt = "M" .And. aCodfol[32,1] #','000044','000018','.CON.','5','','','5','cCatFunc $ "H" .And. cTipoPgt = "M" .And. aCodfol[32,1] # SPACE(3) .AND. aCodfol[33,1] # SPACE(3)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','ASCAN(APD, { |X| X[1] = ACODFOL[32,1] .AND. X[9] # "D"}) = 0','000045','000044','.CON.','5','','','5','Ascan(aPd, { |X| X[1] = aCodfol[32,1] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[32,1],NSALPG,NHORASTRAB,,,,,,,,,,,,,,,,,,NSA','000046','000045','.EXE.','5','FMatriz(aCodfol[32,1],nSalPg,nHorasTrab,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','ASCAN(APD, { |X| X[1] = ACODFOL[33,1] .AND. X[9] # "D"}) = 0','000047','000044','.CON.','5','','','5','Ascan(aPd, { |X| X[1] = aCodfol[33,1] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[33,1],NDSR,NHORASDSR,,,,,,,,,,,,,,,,,,NSALIN','000048','000047','.EXE.','5','FMatriz(aCodfol[33,1],nDsr,nHorasDsr,,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','CTIPOPGT = "S" .AND. CCATFUNC <> "A" .AND. ASCAN(APD, { |X|','000049','000018','.CON.','5','','','5','cTipoPgt = "S" .And. cCatFunc <> "A" .And. Ascan(aPd, { |X| X[1] = aCodfol[32,1] .And. X[3] = cSemana .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[32,1],NSALPG,IF(CCATFUNC == "H", NORMAL, DIA','000050','000049','.EXE.','5','FMatriz(aCodfol[32,1],nSalPg,If(cCatFunc == "H", Normal, Diastrab))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','ASCAN(APD, { |X| X[1] = ACODFOL[33,1] .AND. CSEMANA = X[3] .','000051','000049','.CON.','5','','','5','Ascan(aPd, { |X| X[1] = aCodfol[33,1] .And. cSemana = X[3] .And. X[9] # "D"}) = 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','FMATRIZ(ACODFOL[33,1],NDSR,IF(CCATFUNC == "H", DESCANSO, NHO','000052','000051','.EXE.','5','FMatriz(aCodfol[33,1],nDsr,If(cCatFunc == "H", Descanso, nHorasDsr),,,,,,,,,,,,,,,,,,nSalInt)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GRVSALFP','RESTAREA(AAREA)','000053','000000','.EXE.','5','RestArea(aArea)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0253    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0253( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVVAL','GRAVA CALCULO DOS BENEFICIOS','','','008','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVVAL','FVALGRVN(IF(CTIPOROT == "D",AVRCALC,AVACALC))','000001','000000','.EXE.','5','FVALGRVN(IF(CTIPOROT == "D",AVRCALC,AVACALC))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0254    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0254( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GRVVTR','GRAVA DADOS CALCULADOS NA SR0','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','GRVVTR','FVTRGRVN(AVTCALC)','000001','000000','.EXE.','5','FVTRGRVN(AVTCALC)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0255    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0255( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','GTRANMAT','GRAVA AD. TRANSFERENCIA MATERNIDADE','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','GTRANMAT','NADCTRF > 0 .AND. (NDIASMAT > 0 .OR. NDPRGSALMA > 0 )','000001','000000','.CON.','5','','','5','nAdcTrf > 0 .and. (nDIasMat > 0 .or. nDPrgSalMa > 0 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GTRANMAT','CVERBAROT := FGETCODFOL("1342")','000002','000001','.EXE.','5','cVerbaRot := fGetCodFol("1342")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GTRANMAT','!EMPTY(CVERBAROT) .AND. NDIASMAT > 0','000003','000001','.CON.','5','','','5','!Empty(cVerbaRot) .and. nDIasMat > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GTRANMAT','FGERAVERBA(CVERBAROT,ROUND((NADCTRF / NDIASC) * NDIASMAT,2),','000004','000003','.EXE.','5','fGeraVerba(cVerbaRot,Round((nAdcTrf / nDiasC) * nDiasMat,2), nDiasMat,,,,,,,,,,,,,.F.)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GTRANMAT','CVERBAROT := FGETCODFOL("1355")','000005','000001','.EXE.','5','cVerbaRot := fGetCodFol("1355")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','GTRANMAT','!EMPTY(CVERBAROT) .AND. NDPRGSALMA > 0','000006','000001','.CON.','5','','','5','!Empty(cVerbaRot) .and. nDPrgSalMa > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','GTRANMAT','FGERAVERBA(CVERBAROT,ROUND((NADCTRF / NDIASC) * NDPRGSALMA,2','000007','000006','.EXE.','5','fGeraVerba(cVerbaRot,Round((nAdcTrf / nDiasC) * nDPrgSalMa,2), nDPrgSalMa,,,,,,,,,,,,,.F.)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0256    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0256( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','HOJORVA','CONDICAO PARA HORAS COM JORNADA VARIAVEL','','','010','2','1',} )

aAdd(aRc3Cols, { '','S_','HOJORVA','SRA->RA_CATFUNC == "H" .And. SRA->(ColumnPos( "RA_HOJORVA"','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "H" .And. SRA->(ColumnPos( "RA_HOJORVA" )) > 0 .And. SRA->RA_HOJORVA == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','P_CCOMP13 == "S" .AND. LCALCFOL','000002','000001','.CON.','5','','','5','P_CCOMP13 == "S" .AND. LCALCFOL','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','DREFMED := DDATAATE','000003','000002','.EXE.','5','DREFMED := DDATAATE','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','!(P_CCOMP13 == "S" .AND. LCALCFOL)','000004','000001','.CON.','5','','','5','!(P_CCOMP13 == "S" .AND. LCALCFOL)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','CTIPOROT == "5"','000005','000004','.CON.','5','','','5','CTIPOROT == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','DREFMED := APERGUNTE[7,3]','000006','000005','.EXE.','5','DREFMED := APERGUNTE[7,3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','CTIPOROT == "6"','000007','000004','.CON.','5','','','5','CTIPOROT == "6"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','DREFMED := APERGUNTE[3,3]','000008','000007','.EXE.','5','DREFMED := APERGUNTE[3,3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','lHojorva := .T.     .CNT.','000009','000001','.EXE.','5','lHojorva := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HOJORVA','fMediaHora()     .END.','000010','000001','.EXE.','5','fMediaHora()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0257    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0257( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','HRSCALC','HORAS PARA CALCULO','','','015','2','1',} )

aAdd(aRc3Cols, { '','S_','HRSCALC','P_LDSRHRSP := TYPE("P_LDSRHRSP") # "U" .AND. P_LDSRHRSP','000001','000000','.EXE.','5','P_LDSRHRSP := TYPE("P_LDSRHRSP") # "U" .AND. P_LDSRHRSP','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','NHRSCAL := ROUND((SRA->RA_HRSDIA * NDIASC),2)','000002','000000','.EXE.','5','nHrsCal := Round((SRA->RA_HRSDIA * nDiasC),2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','NHRSCONT := SRA->RA_HRSMES','000003','000000','.EXE.','5','nHrsCont := SRA->RA_HRSMES','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','P_LDSRHRSP .AND. !(SRA->RA_TPCONTR == "3" .AND. P_NDSRHORI =','000004','000000','.CON.','5','','','5','P_LDSRHRSP .And. !(SRA->RA_TPCONTR == "3" .And. P_NDSRHORI == 3)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','NHRSCAL := ROUND( (nPonTrab + nPonDesc), 2)     .END.','000005','000004','.EXE.','5','NHRSCAL := ROUND( (nPonTrab + nPonDesc), 2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','SRA->RA_TPCONTR == "3"','000006','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','ACONVOCACAO := RETCONVOC()','000007','000006','.EXE.','5','ACONVOCACAO := RetConvoc()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','000008','000006','.CON.','5','','','5','SRA->RA_TPCONTR == "3" .AND. CTIPOROT == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','MEDSALINTE()','000009','000008','.EXE.','5','MEDSALINTE()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','!(P_LDSRHRSP .AND. P_NDSRHORI == 3)','000010','000006','.CON.','5','','','5','!(P_LDSRHRSP .And. P_NDSRHORI == 3)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','NHRSCAL := ROUND((ACONVOCACAO[7] * ACONVOCACAO[5]), 2)','000011','000010','.EXE.','5','NHRSCAL := ROUND((ACONVOCACAO[7] * ACONVOCACAO[5]), 2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','HRSCALC','DIADSRINTE(@NORMAL, @DESCANSO)','000012','000010','.EXE.','5','DiaDSRInte(@NORMAL, @DESCANSO)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0258    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0258( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INDMP936','PAGAMENTO INDENIZAÇÃO MP 936/2020','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','INDMP936','!EMPTY(ACODFOL[1853,1]) .AND. !EMPTY(DDTEST936) .AND. DDATAD','000001','000000','.CON.','5','','','5','!Empty(aCodFol[1853,1]) .And. !Empty(dDtEst936) .And. dDataDem <= dDtEst936','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NMESES := 0','000002','000001','.EXE.','5','nMeses := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','LTRDIASCML := TYPE("P_RESMULTH") # "U"','000003','000001','.EXE.','5','lTrDiasCMl := Type("P_RESMULTH") # "U"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','SRA->RA_CATFUNC == "C" .AND. SRA->RA_SALARIO == 0','000004','000001','.CON.','5','','','5','SRA->RA_CATFUNC == "C" .And. SRA->RA_SALARIO == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NGCOMIS := FDESC("RCE", SRA->RA_SINDICA, "RCE_GCOMISS", NIL,','000005','000004','.EXE.','5','nGComis := fDesc("RCE", SRA->RA_SINDICA, "RCE_GCOMISS", Nil, SRA->RA_FILIAL)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NMESES  := DATEDIFFMONTH( SRA->RA_ADMISSA , DDATADEM ) + 1','000006','000004','.EXE.','5','nMeses 	:= DateDiffMonth( SRA->RA_ADMISSA , dDataDem ) + 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NCOMIS  := FBUSCAACM(ACODFOL[121,1]+"/"+ACODFOL[122,1]+"/"+A','000007','000004','.EXE.','5','nComis 	:= fBuscaAcm(aCodfol[121,1]+"/"+aCodfol[122,1]+"/"+aCodfol[165,1]+"/"+aCodfol[166,1]+"/"+aCodfol[347,1],,SRA->RA_ADMISSA,dDataDem,"V")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','LMESATU','000008','000004','.CON.','5','','','5','lMesAtu','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','AEVAL( APD ,{ |APD| IF(APD[1] $ ACODFOL[121,1]+"/"+ACODFOL[1','000009','000008','.EXE.','5','aEval( aPd ,{ |aPd| IF(aPd[1] $ aCodfol[121,1]+"/"+aCodfol[122,1]+"/"+aCodfol[165,1]+"/"+aCodfol[166,1]+"/"+aCodfol[347,1] .And. aPd[3] = cSemana .And. aPd[9] # "D", nComis += aPd[5], Nil) } )	','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NMEDCOM := NCOMIS / NMESES','000010','000004','.EXE.','5','nMedCom := nComis / nMeses','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE := IF( NMEDCOM < NGCOMIS , NGCOMIS, NMEDCOM)','000011','000004','.EXE.','5','nBase := If( nMedCom < nGComis , nGComis, nMedCom)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','!(SRA->RA_CATFUNC == "C" .AND. SRA->RA_SALARIO == 0)','000012','000001','.CON.','5','','','5','!(SRA->RA_CATFUNC == "C" .And. SRA->RA_SALARIO == 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','RETVALSRV(ACODFOL[1853,1],SRA->RA_FILIAL,"RV_BASCAL") <> "2"','000013','000012','.CON.','5','','','5','RetValSRV(aCodfol[1853,1],SRA->RA_FILIAL,"RV_BASCAL") <> "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE := SALARIO','000014','000013','.EXE.','5','nBase := Salario','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','SRA->RA_CATFUNC == "H"','000015','000013','.CON.','5','','','5','SRA->RA_CATFUNC == "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','LTRDIASCML','000016','000015','.CON.','5','','','5','lTrDiasCMl','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NDIASMLT := IF( ((APERIODO[NPOSSEM,18] == 31 .OR. APERIODO[N','000017','000016','.EXE.','5','nDiasMlt := If( ((aPeriodo[nPosSem,18] == 31 .Or. aPeriodo[nPosSem,16] == "02") .And. P_RESMULTH = 1), aPeriodo[nPosSem,18],If(P_RESMULTH == 2, 30, aPeriodo[nPosSem,20]))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','P_RESMULTH == 1','000018','000016','.CON.','5','','','5','P_RESMULTH == 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE := SRA->RA_SALARIO * ROUND((SRA->RA_HRSDIA * APERIODO[','000019','000018','.EXE.','5','nBase := SRA->RA_SALARIO * Round((SRA->RA_HRSDIA * aPeriodo[nPosSem,18]),2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','P_RESMULTH != 1','000020','000016','.CON.','5','','','5','P_RESMULTH != 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE := SRA->RA_SALARIO * ROUND((SRA->RA_HRSDIA * 30),2)','000021','000020','.EXE.','5','nBase := SRA->RA_SALARIO * Round((SRA->RA_HRSDIA * 30),2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','!LTRDIASCML','000022','000015','.CON.','5','','','5','!lTrDiasCMl','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','P_DIASRES == 1','000023','000022','.CON.','5','','','5','P_DIASRES == 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE := SRA->RA_SALARIO * NHRSCAL','000024','000023','.EXE.','5','nBase := SRA->RA_SALARIO * nHrsCal','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','RETVALSRV(ACODFOL[1853,1],SRA->RA_FILIAL,"RV_BASCAL") == "2"','000025','000012','.CON.','5','','','5','RetValSRV(aCodfol[1853,1],SRA->RA_FILIAL,"RV_BASCAL") == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE := SALMES','000026','000025','.EXE.','5','nBase := SalMes	','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','SRA->RA_CATFUNC == "H"','000027','000025','.CON.','5','','','5','SRA->RA_CATFUNC == "H"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','LTRDIASCML','000028','000027','.CON.','5','','','5','lTrDiasCMl','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NDIASMLT := IF( ((APERIODO[NPOSSEM,18] == 31 .OR. APERIODO[N','000029','000028','.EXE.','5','nDiasMlt := If( ((aPeriodo[nPosSem,18] == 31 .Or. aPeriodo[nPosSem,16] == "02") .And. P_RESMULTH = 1), aPeriodo[nPosSem,18],If(P_RESMULTH == 2, 30, aPeriodo[nPosSem,20]))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','P_RESMULTH == 1','000030','000028','.CON.','5','','','5','P_RESMULTH == 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NNEWSALBS := SRA->RA_SALARIO * ROUND((SRA->RA_HRSDIA * APERI','000031','000030','.EXE.','5','nNewSalBs := SRA->RA_SALARIO * Round((SRA->RA_HRSDIA * aPeriodo[nPosSem,18]),2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE   := SALMES - (SRA->RA_SALARIO * NHRSCAL)','000032','000030','.EXE.','5','nBase	  := SalMes - (SRA->RA_SALARIO * nHrsCal)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE   += NNEWSALBS','000033','000030','.EXE.','5','nBase	  += nNewSalBs','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','P_RESMULTH != 1','000034','000028','.CON.','5','','','5','P_RESMULTH != 1','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NNEWSALBS := SRA->RA_SALARIO * ROUND((SRA->RA_HRSDIA * 30),2','000035','000034','.EXE.','5','nNewSalBs := SRA->RA_SALARIO * Round((SRA->RA_HRSDIA * 30),2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE   := SALMES - SRA->RA_SALARIO * NHRSCAL','000036','000034','.EXE.','5','nBase	  := SalMes - SRA->RA_SALARIO * nHrsCal','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NBASE   += NNEWSALBS','000037','000034','.EXE.','5','nBase	  += nNewSalBs','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','P_ADIMULMP','000038','000001','.CON.','5','','','5','P_ADIMULMP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NADIC := NPERIC + NINSALUB + VAL_ANU + VAL_BIE + VAL_TRI + V','000039','000038','.EXE.','5','nAdic := NPERIC + NINSALUB + VAL_ANU + VAL_BIE + VAL_TRI + VAL_QUA + VAL_QUI + NADCCONF + NADCTRF + NADTSERV','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','NORDGRPD++','000040','000038','.EXE.','5','nOrdGrPd++','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','( NPOSPD := ASCAN(ASALBASE, { |X| X[1] == ACODFOL[1853,1] }','000041','000038','.CON.','5','','','5','( nPosPd := aScan(aSalBase, { |X| X[1] == aCodFol[1853,1] } ) ) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','AADD(ASALBASE,{ACODFOL[1853,1],NBASE + NADIC,NORDGRPD})','000042','000041','.EXE.','5','aAdd(aSalBase,{aCodFol[1853,1],nBase + nAdic,nOrdGrPd})','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','( NPOSPD := ASCAN(ASALBASE, { |X| X[1] == ACODFOL[1853,1] }','000043','000038','.CON.','5','','','5','( nPosPd := aScan(aSalBase, { |X| X[1] == aCodFol[1853,1] } ) ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','ASALBASE[NPOSPD,2] := NBASE + NADIC','000044','000043','.EXE.','5','aSalBase[nPosPd,2] := nBase + nAdic','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','ASALBASE[NPOSPD,3] := NORDGRPD','000045','000043','.EXE.','5','aSalBase[nPosPd,3] := nOrdGrPd','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','FGERAVERBA(ACODFOL[1853,1],ROUND( ( ( ( NBASE + NADIC ) / IF','000046','000038','.EXE.','5','fGeraVerba(aCodfol[1853,1],Round( ( ( ( nBase + nAdic ) / If(SRA->RA_CATFUNC == "H" .And. lTrDiasCMl, nDiasMlt, nDiasC)) * (dDtEst936 - dDatadem + 1) ) * nPerEst936,2),(dDtEst936 - dDatadem + 1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INDMP936','!P_ADIMULMP','000047','000001','.CON.','5','','','5','!P_ADIMULMP','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INDMP936','FGERAVERBA(ACODFOL[1853,1],ROUND( ( (NBASE / IF(SRA->RA_CATF','000048','000047','.EXE.','5','fGeraVerba(aCodfol[1853,1],Round( ( (nBase / If(SRA->RA_CATFUNC == "H" .And. lTrDiasCMl, nDiasMlt, nDiasC)) * (dDtEst936 - dDatadem + 1) ) * nPerEst936,2),(dDtEst936 - dDatadem + 1))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0259    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0259( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INICADTS','INICIALIZA DADOS PARA O CALCULO DO ATS','','','019','2','1',} )

aAdd(aRc3Cols, { '','S_','INICADTS','CTIPOATS := SRA->RA_ADTPOSE','000001','000000','.EXE.','5','cTipoAts := SRA->RA_ADTPOSE','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INICADTS','CTIPOATS := IF(LDISSIDIO .AND. "N" $ CTIPOATS, ALLTRIM(GPRET','000002','000000','.EXE.','5','cTipoAts := If(lDissidio .And. "N" $ cTipoAts, AllTrim(GPRETSR9("SRA", dDataAte, "RA_ADTPOSE")), cTipoAts)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INICADTS','CTPCAATS := IF(LDISSIDIO, FBUSCARG4("RCE_TPCATS", DDATAATE,','000003','000000','.EXE.','5','CTPCAATS := If(lDissidio, fBuscaRG4("RCE_TPCATS", dDataAte, .T., .T., .T.), POSICIONE("RCE", 1, XFILIAL("RCE",SRA->RA_FILIAL)+SRA->RA_SINDICA,"RCE_TPCATS"))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INICADTS','CBCALATS := IF(LDISSIDIO, FBUSCARG4("RCE_BASCAT", DDATAATE,','000004','000000','.EXE.','5','CBCALATS := IF(LDISSIDIO, FBUSCARG4("RCE_BASCAT", DDATAATE, .T., .T., .T.), RCE->RCE_BASCAT)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INICADTS','CTPCAATS  == "3"','000005','000000','.CON.','5','','','5','CTPCAATS  == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INICADTS','CBCALATS := " "','000006','000005','.EXE.','5','cBCalATS := " "','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0260    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0260( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INSMES','GERA INSALUBRIDADE MENSAL','','','011','2','1',} )

aAdd(aRc3Cols, { '','S_','INSMES','ASCAN(AINSALUB,{|X| X[1] }) > 0','000001','000000','.CON.','5','','','5','aScan(aInsalub,{|x| x[1] }) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSMES','NINSALUB := NINTINSAL := 0','000002','000001','.EXE.','5','nInsalub := nIntInsal := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSMES','AEVAL(AINSALUB, {|X| NINTINSAL += X[8], NINSALUB += X[7] })','000003','000001','.EXE.','5','aEval(aInsalub, {|x| nIntInsal += x[8], nInsalub += x[7] })','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSMES','EMPTY(CVERBAROT)','000004','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSMES','CVERBAROT := FGETCODFOL("0672")','000005','000004','.EXE.','5','cVerbaRot := fGetCodFol("0672")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSMES','!EMPTY(CVERBAROT) .AND. NINTINSAL > 0 .AND. LULTSEMANA','000006','000000','.CON.','5','','','5','!Empty(cVerbaRot) .And. nIntInsal > 0 .And. lUltSemana','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSMES','FGERAVERBA(CVERBAROT,NINTINSAL)','000007','000006','.EXE.','5','fGeraVerba(cVerbaRot,nIntInsal)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0261    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0261( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INSS13','CALCULO INSS 13º SALARIO','','','010','2','1',} )

aAdd(aRc3Cols, { '','S_','INSS13','(SRA->RA_TPCONTR <> "3" ) .OR. (SRA->RA_TPCONTR == "3" .AND','000001','000000','.CON.','5','','','5','(SRA->RA_TPCONTR <> "3" ) .OR. (SRA->RA_TPCONTR == "3" .AND. ACONVOCACAO[6])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSS13','FCINSS13(ACODFOL,IF(CTIPOROT $ "5*6",ATINSS13,ATINSS),,NINSS','000002','000001','.EXE.','5','fCInss13(aCodfol,If(cTipoRot $ "5*6",aTinss13,aTInss),,nInssP,nBAtLim,nBAcLim)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0262    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0262( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INSSFOL','CALCULO INSS','','','008','2','1',} )

aAdd(aRc3Cols, { '','S_','INSSFOL','! SRA->RA_CATFUNC$ "P*A*E*G"','000001','000000','.CON.','5','','','5','! SRA->RA_CATFUNC$ "P*A*E*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFOL','(SRA->RA_TPCONTR <> "3" ) .OR. (SRA->RA_TPCONTR == "3" .AND.','000002','000001','.CON.','5','','','5','(SRA->RA_TPCONTR <> "3" ) .Or. (SRA->RA_TPCONTR == "3" .And. aConvocacao[6])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFOL','FCINSS(ACODFOL,ATINSS)','000003','000002','.EXE.','5','fCInss(aCodfol,aTinss)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0263    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0263( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INSSFOLR','CALCULO INSS RETIFICADORA','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','INSSFOLR','!(SRA->RA_CATFUNC $ "P*A*E*G")','000001','000000','.CON.','5','','','5','!(SRA->RA_CATFUNC $ "P*A*E*G")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFOLR','FCINSSRTF(ACODFOL,ATINSS)','000002','000001','.EXE.','5','fCInssRtf(aCodfol,aTinss)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0264    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0264( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INSSFPB','CALCULO INSS FOLHA PUBLICA - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','INSSFPB','! SRA->RA_CATFUNC$ "P*A*E*G"','000001','000000','.CON.','5','','','5','! SRA->RA_CATFUNC$ "P*A*E*G"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFPB','fCInss(aCodfol,aTinss)     .END.','000002','000001','.EXE.','5','fCInss(aCodfol,aTinss)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0265    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0265( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INSSFRET','CALCULA O INSS P/ CATEGORIA 15','','','030','2','1',} )

aAdd(aRc3Cols, { '','S_','INSSFRET','SRA->RA_CATFUNC == "A" .AND. (SRA->RA_CATEG $ "15|16|18" .OR','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "A" .AND. (SRA->RA_CATEG $ "15|16|18" .Or. SRA->RA_CATEFD $ "711|712|734") .AND. MESANO(DDATABASE) >= "200304" .AND. (fBuscaPD(aCodFol[221,1],,cSemana) > 0  .OR. fBuscaPD(aCodFol[1384,1],,cSemana) > 0 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','NDINSSAUT := 0','000002','000001','.EXE.','5','NDINSSAUT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','SRA->RA_CATEG $ "15|16" .OR. SRA->RA_CATEFD $ "711|712|734"','000003','000001','.CON.','5','','','5','SRA->RA_CATEG $ "15|16" .Or. SRA->RA_CATEFD $ "711|712|734"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','AEVAL(APD,{|X|IF(X[1] == ACODFOL[221,1] .AND. X[3] == CSEMAN','000004','000003','.EXE.','5','AEVAL(APD,{|X|IF(X[1] == ACODFOL[221,1] .AND. X[3] == CSEMANA .AND. X[9]#"D", X[5] *= 0.20 ,NIL   )    })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','VINSSAUTF := IF(LEN(ATINSS)>0,NOROUND( MIN ( NSALC_B*0.20 ,','000005','000003','.EXE.','5','VINSSAUTF := If(Len(aTinss)>0,NoRound( Min ( nSalC_b*0.20 , aTinss[Len(aTinss) , 1]) * P_PERCAUTO,2),0)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[1563,1], NSALC_B*0.20 )','000006','000003','.EXE.','5','fGeraVerba(aCodFol[1563,1], nSalC_b*0.20 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','lInssAut   .END.','000007','000003','.CON.','5','','','5','lInssAut','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','NBASESANT := 0','000008','000007','.EXE.','5','NBASESANT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','CSEMANA > "01"','000009','000007','.CON.','5','','','5','CSEMANA > "01"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','AEVAL(APD,{|X| NBASESANT += IF(X[1] == ACODFOL[221,1] .AND.','000010','000009','.EXE.','5','AEVAL(APD,{|X| NBASESANT += IF(X[1] == ACODFOL[221,1] .AND. X[3] < CSEMANA .AND. X[9] <> "D",X[5],0)})','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','VINSSAUTF := NOROUND( IF( ( NSALC_B * 0.20) + NVLBSOUT + NBA','000011','000007','.EXE.','5','VINSSAUTF := NOROUND( IF( ( NSALC_B * 0.20) + NVLBSOUT + NBASESANT < NOROUND(IF(LEN(ATINSS) > 0, ATINSS[LEN(ATINSS),1], 0),2), VINSSAUTF, NOROUND(IF(LEN(ATINSS) > 0, MAX(ATINSS[LEN(ATINSS),1]  - ( NVLBSOUT + NBASESANT ),0), 0),2) * P_PERCAUTO) ,2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[064,1], VINSSAUTF )','000012','000007','.EXE.','5','FGERAVERBA(ACODFOL[064,1], VINSSAUTF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','AEVAL(APD,{|X|IF(X[1] == ACODFOL[167,1] .AND. X[3] <= CSEMAN','000013','000007','.EXE.','5','Aeval(aPd,{|X|If(X[1] == aCodFol[167,1] .And. X[3] <= cSemana .And. X[9]#"D", VlrDedInss += X[5],Nil   )    })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','SRA->RA_CATEFD $  P_CATINSSF','000014','000007','.CON.','5','','','5','Empty(SRA->RA_CATEFD) .OR. SRA->RA_CATEFD $ P_CATINSSF','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[167,1], (FBUSCAPD(ACODFOL[064,1],,CSEMANA','000015','000014','.EXE.','5','fGeraVerba(aCodFol[167,1], (fBuscaPd(aCodFol[064,1],,cSemana)*-1 ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','fBuscaPd(aCodFol[064,1],,cSemana) < 0   .END.','000016','000014','.CON.','5','','','5','fBuscaPd(aCodFol[064,1],,cSemana) < 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','fGeraVerba(aCodFol[167,1], (fBuscaPd(aCodFol[064,1],,cSemana','000017','000016','.EXE.','5','fGeraVerba(aCodFol[167,1], (fBuscaPd(aCodFol[064,1],,cSemana)*-1 ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','fBuscaPd(aCodFol[064,1],,cSemana) >= 0   .END.','000018','000014','.CON.','5','','','5','fBuscaPd(aCodFol[064,1],,cSemana) >= 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','fGeraVerba(aCodFol[167,1], (fBuscaPd(aCodFol[064,1],,cSemana','000019','000018','.EXE.','5','fGeraVerba(aCodFol[167,1], (fBuscaPd(aCodFol[064,1],,cSemana) ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','EMPTY( ACODFOL[1456,1] )','000020','000007','.CON.','5','','','5','Empty( aCodFol[1456,1] )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[437,1], NOROUND(NSALC_B*0.20* P_SESTSENA','000021','000020','.EXE.','5','fGeraVerba(aCodFol[437,1], NoRound(nSalC_b*0.20* P_SESTSENA,2) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[149,1], NOROUND(NSALC_B*0.20* P_SESTSENA','000022','000020','.EXE.','5','fGeraVerba(aCodFol[149,1], NoRound(nSalC_b*0.20* P_SESTSENA,2),,,,,,,,,,)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','!EMPTY( ACODFOL[1456,1] )','000023','000007','.CON.','5','','','5','!Empty( aCodFol[1456,1] )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[437,1], NOROUND(NSALC_B*0.20* P_SEST,2) )','000024','000023','.EXE.','5','fGeraVerba(aCodFol[437,1], NoRound(nSalC_b*0.20* P_SEST,2) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[1456,1], NOROUND(NSALC_B*0.20* P_SENAT,2)','000025','000023','.EXE.','5','fGeraVerba(aCodFol[1456,1], NoRound(nSalC_b*0.20* P_SENAT,2) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[149,1], NOROUND(NSALC_B*0.20* (P_SEST+P_S','000026','000023','.EXE.','5','fGeraVerba(aCodFol[149,1], NoRound(nSalC_b*0.20* (P_SEST+P_SENAT),2),,,,,,,,,,)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','SRA->RA_CATEG == "18"   .END.','000027','000001','.CON.','5','','','5','SRA->RA_CATEG == "18"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','AEVAL(APD,{|X|IF(X[1] == ACODFOL[1384,1] .AND. X[3] == CSEMA','000028','000027','.EXE.','5','AEVAL(APD,{|X|IF(X[1] == ACODFOL[1384,1] .AND. X[3] == CSEMANA .AND. X[9]#"D", X[5] *= 0.20 ,NIL   )    })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','VINSSAUTF := If(Len(aTinss)>0,NoRound( Min ( nSalC_c*0.20 ,','000029','000027','.EXE.','5','VINSSAUTF := If(Len(aTinss)>0,NoRound( Min ( nSalC_c*0.20 , aTinss[Len(aTinss) , 1]) * P_PERCAUTO,2),0)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','fGeraVerba(aCodFol[064,1], If(VINSSAUTF+nVInssOut+nVInssDesc','000030','000027','.EXE.','5','fGeraVerba(aCodFol[064,1], If(VINSSAUTF+nVInssOut+nVInssDesc <  NoRound(If(Len(aTInss) > 0,  aTInss[Len(aTInss),1], 0) *P_PERCAUTO,2), VINSSAUTF, NoRound(If(Len(aTInss) > 0, aTInss[Len(aTInss),1], 0) * P_PERCAUTO,2)-(nVInssOut+nVInssDesc)))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','AEVAL(APD,{|X|IF(X[1] == ACODFOL[167,1] .AND. X[3] <= CSEMAN','000031','000027','.EXE.','5','Aeval(aPd,{|X|If(X[1] == aCodFol[167,1] .And. X[3] <= cSemana .And. X[9]#"D", VlrDedInss += X[5],Nil   )    })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[167,1], (FBUSCAPD(ACODFOL[064,1],,CSEMANA','000032','000027','.EXE.','5','fGeraVerba(aCodFol[167,1], (fBuscaPd(aCodFol[064,1],,cSemana)*-1 ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','EMPTY( ACODFOL[1456,1] )','000033','000027','.CON.','5','','','5','Empty( aCodFol[1456,1] )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','fGeraVerba(aCodFol[437,1], NoRound(nSalC_c*0.20* P_SESTSENA,','000034','000033','.EXE.','5','fGeraVerba(aCodFol[437,1], NoRound(nSalC_c*0.20* P_SESTSENA,2) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','fGeraVerba(aCodFol[149,1], NoRound(nSalC_c*0.20* P_SESTSENA,','000035','000033','.EXE.','5','fGeraVerba(aCodFol[149,1], NoRound(nSalC_c*0.20* P_SESTSENA,2),,,,,,,,,,)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','!EMPTY( ACODFOL[1456,1] )','000036','000027','.CON.','5','','','5','!Empty( aCodFol[1456,1] )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[437,1], NOROUND(NSALC_C*0.20* P_SEST,2) )','000037','000036','.EXE.','5','fGeraVerba(aCodFol[437,1], NoRound(nSalC_c*0.20* P_SEST,2) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[1456,1], NOROUND(NSALC_C*0.20* P_SENAT,2)','000038','000036','.EXE.','5','fGeraVerba(aCodFol[1456,1], NoRound(nSalC_c*0.20* P_SENAT,2) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','INSSFRET','FGERAVERBA(ACODFOL[149,1], NOROUND(NSALC_C*0.20* (P_SEST+P_S','000039','000036','.EXE.','5','fGeraVerba(aCodFol[149,1], NoRound(nSalC_c*0.20* (P_SEST+P_SENAT),2),,,,,,,,,,)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0266    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0266( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','INSSPB13','CALCULO INSS 13º SALARIO - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','INSSPB13','fCInss13(aCodfol,If(cTipoRot $ "5*6",aTinss13,aTInss),,nInss','000001','000000','.EXE.','5','fCInss13(aCodfol,If(cTipoRot $ "5*6",aTinss13,aTInss),,nInssP,nBAtLim,nBAcLim)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0267    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0267( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','IRISENCA','ISENCAO DO IR - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','IRISENCA','SRA->RA_CATFUNC $ "7*8*9" /* MEMBRO APOSENTADO / SERVIDOR','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "7*8*9" /* MEMBRO APOSENTADO / SERVIDOR APOSENTADO / PENSIONISTA */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRISENCA','RIP->(DBGOTOP())     .CNT.','000002','000001','.EXE.','5','RIP->(DBGOTOP())','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRISENCA','RIP->(DBSETORDER( RETORDEM( "RIP", "RIP_FILIAL+RIP_MAT" ) ))','000003','000001','.EXE.','5','RIP->(DBSETORDER( RETORDEM( "RIP", "RIP_FILIAL+RIP_MAT" ) ))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRISENCA','RIP->(DBSEEK( SRA->RA_FILIAL + SRA->RA_MAT, .F. )	)     .CNT','000004','000001','.EXE.','5','RIP->(DBSEEK( SRA->RA_FILIAL + SRA->RA_MAT, .F. )	)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRISENCA','RIP->( !EOF() ) .AND. RIP->RIP_FILIAL + RIP->RIP_MAT  == S','000005','000001','.ENQ.','5','','','5','RIP->( !EOF() ) .AND. RIP->RIP_FILIAL + RIP->RIP_MAT  == SRA->RA_FILIAL + SRA->RA_MAT','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','IRISENCA','( DDATA_PGTO >= RIP->RIP_INISEN ) .AND. ( DDATA_PGTO <= RI','000006','000005','.CON.','5','','','5','( DDATA_PGTO >= RIP->RIP_INISEN ) .AND. ( DDATA_PGTO <= RIP->RIP_FINISE )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRISENCA','LIRISENCAO := .T.     .END.','000007','000006','.EXE.','5','LIRISENCAO := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRISENCA','RIP->(DBSKIP())     .END.','000008','000005','.EXE.','5','RIP->(DBSKIP())','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0268    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0268( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','IRRFFRET','CALCULA O IRRF P/ CATEGORIA 15','','','066','2','1',} )

aAdd(aRc3Cols, { '','S_','IRRFFRET','SRA->RA_CATFUNC == "A" .AND. MESANO(DDATA_PGTO) >= "200304"','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "A" .AND. MESANO(DDATA_PGTO) >= "200304" .AND. (SRA->RA_CATEG == "15" .OR. SRA->RA_CATEFD $ "711|712|734")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROV := 0','000002','000001','.EXE.','5','BSIRPROV := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROVP := 0','000003','000001','.EXE.','5','BSIRPROVP := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','NVL1564 := 0','000004','000001','.EXE.','5','nVl1564 := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','AEVAL(APD,{|X|IF(X[3] == CSEMANA .AND. (MESANO(X[10]) == MES','000005','000001','.EXE.','5','Aeval(aPd,{|X|If(X[3] == cSemana .and. (MesAno(x[10]) == MesAno(dData_Pgto) .Or. Empty(x[10])) .and.( !(x[1] $ P_TransPaP ) .Or. (X[1] $ P_TRANSPAP  .And.  SRA->RA_CATEFD $ '+"'"+'712'+"'"+')) ,SomaInc(X,5,@BsIRProv,11,"N",27,"1",,,aCodFol),Nil)})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROV := BSIRPROV * P_PERBCIR1','000006','000001','.EXE.','5','BsIRProv := BsIRProv * P_PERBCIR1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','NVL1564 += BSIRPROV','000007','000001','.EXE.','5','nVl1564 += BsIRProv','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','AEVAL(APD,{|X|IF(X[3] == CSEMANA .AND. (MESANO(X[10]) == MES','000008','000001','.EXE.','5','Aeval(aPd,{|X|If(X[3] == cSemana .and. (MesAno(x[10]) == MesAno(dData_Pgto) .Or. Empty(x[10])) .and.( (x[1] $ P_TransPaP ) .AND.( SRA->RA_CATEG == "15" .AND.  SRA->RA_CATEFD $ '+"'"+'711'+"'"+')) ,SomaInc(X,5,@BsIRProvP,11,"N",27,"1",,,aCodFol),Nil)})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROVP := BSIRPROVP * P_PERBCIR2','000009','000001','.EXE.','5','BsIRProvP := BsIRProvP * P_PERBCIR2','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','NVL1564 += BSIRPROVP','000010','000001','.EXE.','5','nVl1564 += BSIRPROVP','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','FGERAVERBA(ACODFOL[1564,1],(NVL1564))','000011','000001','.EXE.','5','fGeraVerba(aCodFol[1564,1],(NVL1564))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRDESC := 0','000012','000001','.EXE.','5','BSIRDESC := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROVS := 0','000013','000001','.EXE.','5','BSIRPROVS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRDESCP := 0','000014','000001','.EXE.','5','BSIRDESCP := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROVPS := 0','000015','000001','.EXE.','5','BSIRPROVPS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','NX := 1','000016','000001','.EXE.','5','nX := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','NX <= LEN(APD)','000017','000001','.ENQ.','5','','','5','nX <= Len(aPd)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','APD[NX,3] < CSEMANA .AND. (MESANO(APD[NX,10]) == MESANO(DDAT','000018','000017','.CON.','5','','','5','aPd[nX,3] < cSemana .AND. (MesAno(aPd[nX,10]) == MesAno(DDATA_PGTO) .OR. Empty(aPd[nX,10]))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','APD[NX,1] $ P_TRANSPAP','000019','000018','.CON.','5','','','5','aPd[nX,1] $ P_TRANSPAP .AND. (SRA->RA_CATEG == "15" .AND.  SRA->RA_CATEFD $ '+"'"+'711'+"'"+')','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','(ASCAN(APD,{ |X| X[1] == ACODFOL[1564,1] .AND. X[3] == APD[N','000020','000019','.CON.','5','','','5','(Ascan(aPd,{ |X| X[1] == aCodfol[1564,1] .And. X[3] == aPd[nX,3] .And. X[9] # "D"})) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','SOMAINC(APD[NX],5,@BSIRPROVPS,11,"N",27,"1",,,ACODFOL)','000021','000020','.EXE.','5','SOMAINC(aPd[nX],5,@BSIRPROVPS,11,"N",27,"1",,,ACODFOL)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','!(APD[NX,1] $ P_TRANSPAP) .OR. (APD[NX,1] $ P_TRANSPAP  .AND','000022','000018','.CON.','5','','','5','!(aPd[nX,1] $ P_TRANSPAP) .Or. (aPd[nX,1] $ P_TRANSPAP  .And.  SRA->RA_CATEFD $ '+"'"+'712'+"'"+')','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','(ASCAN(APD,{ |X| X[1] == ACODFOL[1564,1] .AND. X[3] == APD[N','000023','000022','.CON.','5','','','5','(Ascan(aPd,{ |X| X[1] == aCodfol[1564,1] .And. X[3] == aPd[nX,3] .And. X[9] # "D"})) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','SOMAINC(APD[NX],5,@BSIRPROVS,11,"N",27,"1",,,ACODFOL)','000024','000023','.EXE.','5','SOMAINC(aPd[nX],5,@BSIRPROVS,11,"N",27,"1",,,ACODFOL)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','(ASCAN(APD,{ |X| X[1] == ACODFOL[1564,1] .AND. X[3] == APD[N','000025','000022','.CON.','5','','','5','(Ascan(aPd,{ |X| X[1] == aCodfol[1564,1] .And. X[3] == aPd[nX,3] .And. X[9] # "D"})) == 0 .And. APd[nX,1] == aCodFol[15,1]','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROVS+=APD[NX,5]','000026','000025','.EXE.','5','BSIRPROVS+=aPd[nX,5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','(ASCAN(APD,{ |X| X[1] == ACODFOL[1564,1] .AND. X[3] == APD[N','000027','000017','.CON.','5','','','5','(Ascan(aPd,{ |X| X[1] == aCodfol[1564,1] .And. X[3] == aPd[nX,3] .And. X[9] # "D"})) > 0 .or. aPd[nX,3] == cSemana','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','APD[NX,3] <= CSEMANA .AND. (MESANO(APD[NX,10]) == MESANO(DDA','000028','000027','.CON.','5','','','5','aPd[nX,3] <= cSemana .AND. (MesAno(aPd[nX,10]) == MesAno(DDATA_PGTO) .OR. Empty(aPd[nX,10]))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','APD[NX,1] $ P_TRANSPAD','000029','000028','.CON.','5','','','5','aPd[nX,1] $ P_TRANSPAD','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','SOMAINC(APD[NX],5,@BSIRDESCP,11,"N",27,"2",,,ACODFOL)','000030','000029','.EXE.','5','SOMAINC(aPd[nX],5,@BSIRDESCP,11,"N",27,"2",,,ACODFOL)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','!(APD[NX,1] $ P_TRANSPAD)','000031','000028','.CON.','5','','','5','!(aPd[nX,1] $ P_TRANSPAD)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','SOMAINC(APD[NX],5,@BSIRDESC,11,"N",27,"2",,,ACODFOL)','000032','000031','.EXE.','5','SOMAINC(aPd[nX],5,@BSIRDESC,11,"N",27,"2",,,ACODFOL)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','APD[NX,1] == ACODFOL[167,1]','000033','000028','.CON.','5','','','5','aPd[nX,1] == aCodFol[167,1]','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','RETVALSRV( APD[NX,1], SRA->RA_FILIAL, "RV_REFFER" ) <> "S" .','000034','000033','.CON.','5','','','5','RetValSRV( aPd[nX,1], SRA->RA_FILIAL, "RV_REFFER" ) <> "S" .AND. RetValSRV( aPd[nX,1], SRA->RA_FILIAL, "RV_IR" ) == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRDESC += ( APD[NX,5] * (-1) )','000035','000034','.EXE.','5','BSIRDESC += ( aPd[nX,5] * (-1) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','NX++','000036','000017','.EXE.','5','nX++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROV += BSIRPROVS','000037','000001','.EXE.','5','BSIRPROV += BSIRPROVS','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','BSIRPROVP += BSIRPROVPS','000038','000001','.EXE.','5','BSIRPROVP += BSIRPROVPS','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','SRA->RA_TIPOPGT == "M"','000039','000001','.CON.','5','','','5','SRA->RA_TIPOPGT == "M"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','AEVAL(APD,{|X| BSIRPROV += IF ( X[1]==ACODFOL[106,1] .AND. X','000040','000039','.EXE.','5','Aeval(aPd,{|X| BsIRProv += If ( X[1]==aCodFol[106,1] .And. X[9] # "D" .And. (MesAno(dData_Pgto) == MesAno(X[10]) .Or. empty(x[10])),X[5],0) })','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','FGERAVERBA(ACODFOL[015,1],(BSIRPROV + BSIRPROVP + BSIRDESC +','000041','000001','.EXE.','5','FGERAVERBA(ACODFOL[015,1],(BSIRPROV + BSIRPROVP + BSIRDESC + BSIRDESCP),,,,,,,,,.T.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','IRRFFRET','FGERAVERBA(ACODFOL[1565,1], NSALC_B - (FBUSCAPD(ACODFOL[1563','000042','000001','.EXE.','5','fGeraVerba(aCodFol[1565,1], NSALC_B - (fBuscaPd(aCodFol[1563,1]) + fBuscaPd(aCodFol[1564,1])) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0269    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0269( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LANCAUT','CÁLCULO LANÇAMENTOS AUTOMÁTICOS - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := 0','000001','000000','.EXE.','5','NVLCALC := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := 0','000002','000000','.EXE.','5','NDDIR := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIRRES := 0','000003','000000','.EXE.','5','NDDIRRES := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','ACATEG := ASR7','000004','000000','.EXE.','5','ACATEG := ASR7','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDPER := NDIASC','000005','000000','.EXE.','5','NDPER := NDIASC','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','ACATEG := FPROPFAL(ACATEG,NDIASFAL,NDIASFALDE)   /* VERIFICA','000006','000000','.EXE.','5','ACATEG := FPROPFAL(ACATEG,NDIASFAL,NDIASFALDE)   /* VERIFICA AS FALTAS E DEVOLUCOES DE FALTAS */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','I := 1','000007','000000','.EXE.','5','I := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','I <= LEN(ACATEG)','000008','000000','.ENQ.','5','','','5','I <= LEN(ACATEG)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','ALA := VERRIKFUNC(ACATEG[I][1], SRA->RA_REGIME, ACATEG[I][5]','000009','000008','.EXE.','5','ALA := VERRIKFUNC(ACATEG[I][1], SRA->RA_REGIME, ACATEG[I][5], ACATEG[I][7], CANOMES, IIF(!(CTIPOROT=="4"), CROT, ), SUBSTR(CANOMES,5,2) )   /* VERIFICA OS LANC. AUTOMATICOS */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','X := 1','000010','000008','.EXE.','5','X := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','X <= LEN(ALA)','000011','000008','.ENQ.','5','','','5','X <= LEN(ALA)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := 0','000012','000011','.EXE.','5','NVLCALC := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','RIK->(DBSETORDER(1))','000013','000011','.EXE.','5','RIK->(DbSetOrder(1))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','RIK->(DBSEEK(XFILIAL("RIK") + ALA[X,1]))','000014','000011','.EXE.','5','RIK->(DbSeek(XFILIAL("RIK") + ALA[X,1]))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CAFAST := RIK->RIK_AFASTA','000015','000011','.EXE.','5','CAFAST := RIK->RIK_AFASTA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','DDTINI := IF(RIK->RIK_PROCAT == "1", ACATEG[I,2], IF(SRA->RA','000016','000011','.EXE.','5','DDTINI := IF(RIK->RIK_PROCAT == "1", ACATEG[I,2], IF(SRA->RA_ADMISSA > DDATADE .AND. RIK->RIK_ADMISS == "1", SRA->RA_ADMISSA, DDATADE))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','!(RIK->RIK_ADMISS == "3" .AND. MESANO(SRA->RA_ADMISSA) == ME','000017','000011','.CON.','5','','','5','!(RIK->RIK_ADMISS == "3" .AND. MESANO(SRA->RA_ADMISSA) == MESANO(DDATADE))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','SUBSTR(CSUPLEM,1,1) == "2" .AND. ((CTIPOROT == "4" .AND. RIK','000018','000017','.CON.','5','','','5','SUBSTR(CSUPLEM,1,1) == "2" .AND. ((CTIPOROT == "4" .AND. RIK->RIK_DEMISS $ "1*2") .OR.  CROT $ RIK->RIK_ROTEIR .OR. ALLTRIM(RIK->RIK_ROTEIR) == "*")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','DDTFIM := IF(RIK->RIK_PROCAT == "1", ACATEG[I,3], DDATAATE)','000019','000018','.EXE.','5','DDTFIM := IF(RIK->RIK_PROCAT == "1", ACATEG[I,3], DDATAATE)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CCODLANC := RIK->RIK_COD','000020','000018','.EXE.','5','CCODLANC := RIK->RIK_COD','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CPDRIK := RIK->RIK_PD','000021','000018','.EXE.','5','CPDRIK := RIK->RIK_PD','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NPCRIK := RIK->RIK_PERCEN / 100','000022','000018','.EXE.','5','NPCRIK := RIK->RIK_PERCEN / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NPCRIK == 0','000023','000018','.CON.','5','','','5','NPCRIK == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NPCRIK := 1','000024','000023','.EXE.','5','NPCRIK := 1','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CBSCALC := RIK->RIK_BASECA','000025','000018','.EXE.','5','CBSCALC := RIK->RIK_BASECA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := (DDTFIM - DDTINI) + 1','000026','000018','.EXE.','5','NDDIR := (DDTFIM - DDTINI) + 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CTIPOROT == "4" .AND. RIK->RIK_DEMISS == "1"','000027','000018','.CON.','5','','','5','CTIPOROT == "4" .AND. RIK->RIK_DEMISS == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := (DDATADEM - DDTINI) + 1','000028','000027','.EXE.','5','NDDIR := (DDATADEM - DDTINI) + 1','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','P_DIASMES == "S"','000029','000018','.CON.','5','','','5','P_DIASMES == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','ANOMES(DDTINI) == ANOMES(DDTFIM)','000030','000029','.CON.','5','','','5','ANOMES(DDTINI) == ANOMES(DDTFIM)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDTINI := DAY(DDTINI)','000031','000030','.EXE.','5','NDTINI := DAY(DDTINI)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDTFIM := DAY(DDTFIM)','000032','000030','.EXE.','5','NDTFIM := DAY(DDTFIM)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CTIPOROT == "4" .AND. RIK->RIK_DEMISS == "1"','000033','000030','.CON.','5','','','5','CTIPOROT == "4" .AND. RIK->RIK_DEMISS == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDTFIM := DAY(DDATADEM)','000034','000033','.EXE.','5','NDTFIM := DAY(DDATADEM)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','( SUBSTR(CANOMES,5,2) == "02" .AND. ( (VAL(SUBSTR(CANOMES,1,','000035','000030','.CON.','5','','','5','( SUBSTR(CANOMES,5,2) == "02" .AND. ( (VAL(SUBSTR(CANOMES,1,4)) % 4 > 0 .AND. NDTFIM = 28) .OR.  (VAL(SUBSTR(CANOMES,1,4)) % 4 = 0 .AND. NDTFIM = 29) ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDTFIM := 30','000036','000035','.EXE.','5','NDTFIM := 30','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','!(SUBSTR(CANOMES,5,2) == "02") .AND. NDTFIM > 30','000037','000030','.CON.','5','','','5','!(SUBSTR(CANOMES,5,2) == "02") .AND. NDTFIM > 30','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDTFIM := 30','000038','000037','.EXE.','5','NDTFIM := 30','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := (NDTFIM - NDTINI) + 1','000039','000030','.EXE.','5','NDDIR := (NDTFIM - NDTINI) + 1','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','ASR8 :=    FVERSR8( SRA->RA_FILIAL , SRA->RA_MAT, DDTINI , D','000040','000018','.EXE.','5','ASR8 :=    FVERSR8( SRA->RA_FILIAL , SRA->RA_MAT, DDTINI , DDTFIM , .F. , .F., .F. , , IF(ALLTRIM(CAFAST) == "*","",ALLTRIM(CAFAST)), "/" , .T.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','Z := 1','000041','000018','.EXE.','5','Z := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','Z <= LEN(ASR8)','000042','000018','.ENQ.','5','','','5','Z <= LEN(ASR8)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDEMP := IF( ASR8[Z][6] > 0 ,FDPAGMES( ASR8[Z][3] , ASR8[Z][','000043','000042','.EXE.','5','NDEMP := IF( ASR8[Z][6] > 0 ,FDPAGMES( ASR8[Z][3] , ASR8[Z][4] , ASR8[Z][6] , CANOMES) , 0 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','LOK := ( P_DIASMES == "S" )','000044','000042','.CON.','5','','','5','LOK := ( P_DIASMES == "S" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NINIDAY := DAY( IIF( ASR8[Z][3] < DDTINI, DDTINI, ASR8[Z][3]','000045','000044','.EXE.','5','NINIDAY := DAY( IIF( ASR8[Z][3] < DDTINI, DDTINI, ASR8[Z][3] ))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NFIMDAY := DAY( IIF( EMPTY(ASR8[Z][4]) .OR. ASR8[Z][4] > DDT','000046','000044','.EXE.','5','NFIMDAY := DAY( IIF( EMPTY(ASR8[Z][4]) .OR. ASR8[Z][4] > DDTFIM, DDTFIM, ASR8[Z][4] ))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','( SUBSTR(CANOMES,5,2) == "02" .AND. ( (VAL(SUBSTR(CANOMES,1,','000047','000044','.CON.','5','','','5','( SUBSTR(CANOMES,5,2) == "02" .AND. ( (VAL(SUBSTR(CANOMES,1,4)) % 4 > 0 .AND. NFIMDAY = 28) .OR.  (VAL(SUBSTR(CANOMES,1,4)) % 4 = 0 .AND. NFIMDAY = 29) ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NFIMDAY := 30','000048','000047','.EXE.','5','NFIMDAY := 30','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','!(SUBSTR(CANOMES,5,2) == "02") .AND. NFIMDAY > 30','000049','000044','.CON.','5','','','5','!(SUBSTR(CANOMES,5,2) == "02") .AND. NFIMDAY > 30','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NFIMDAY := 30','000050','000049','.EXE.','5','NFIMDAY := 30','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDAFAST := (NFIMDAY - NINIDAY) + 1','000051','000044','.EXE.','5','NDAFAST := (NFIMDAY - NINIDAY) + 1','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','!LOK','000052','000042','.CON.','5','','','5','!LOK','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','DINIAFAST := IF( ASR8[Z][3] < DDTINI , DDTINI , ASR8[Z][3] )','000053','000052','.EXE.','5','DINIAFAST := IF( ASR8[Z][3] < DDTINI , DDTINI , ASR8[Z][3] )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','DFIMAFAST := IF( EMPTY(ASR8[Z][4]) .OR. ASR8[Z][4] > DDTFIM','000054','000052','.EXE.','5','DFIMAFAST := IF( EMPTY(ASR8[Z][4]) .OR. ASR8[Z][4] > DDTFIM , DDTFIM , ASR8[Z][4] )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDAFAST := (DFIMAFAST - DINIAFAST) + 1','000055','000052','.EXE.','5','NDAFAST := (DFIMAFAST - DINIAFAST) + 1','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','RIK->RIK_GERAFA == "1"','000056','000042','.CON.','5','','','5','RIK->RIK_GERAFA == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := NDDIR - NDAFAST','000057','000056','.EXE.','5','NDDIR := NDDIR - NDAFAST','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','RIK->RIK_GERAFA == "2"','000058','000042','.CON.','5','','','5','RIK->RIK_GERAFA == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := NDDIR - ( NDAFAST - NDEMP )','000059','000058','.EXE.','5','NDDIR := NDDIR - ( NDAFAST - NDEMP )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','Z++','000060','000042','.EXE.','5','Z++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','RIK->RIK_FALTAS == "1"','000061','000018','.CON.','5','','','5','RIK->RIK_FALTAS == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := NDDIR - ACATEG[I][9]','000062','000061','.EXE.','5','NDDIR := NDDIR - ACATEG[I][9]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','RIK->RIK_DFALTA == "1"','000063','000018','.CON.','5','','','5','RIK->RIK_DFALTA == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := NDDIR + ACATEG[I][10]','000064','000063','.EXE.','5','NDDIR := NDDIR + ACATEG[I][10]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','LRES := (CTIPOROT == "4" .AND. RIK->RIK_DEMISS == "3")','000065','000018','.CON.','5','','','5','LRES := (CTIPOROT == "4" .AND. RIK->RIK_DEMISS == "3")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR := 0','000066','000065','.EXE.','5','NDDIR := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NDDIR > 0','000067','000018','.CON.','5','','','5','NDDIR > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CTXT := " INICIO DA MONTAGEM DA BASE DE CALCULO "','000068','000067','.EXE.','5','CTXT := " INICIO DA MONTAGEM DA BASE DE CALCULO "','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','LIF := RIK->RIK_VALFIX > 0   /* VALOR FIXO */','000069','000067','.CON.','5','','','5','LIF := RIK->RIK_VALFIX > 0   /* VALOR FIXO */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := RIK->RIK_VALFIX / NDPER * NDDIR','000070','000069','.EXE.','5','NVLCALC := RIK->RIK_VALFIX / NDPER * NDDIR','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','!LIF','000071','000067','.CON.','5','','','5','!LIF','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NSALBAS := ACATEG[I][8]','000072','000071','.EXE.','5','NSALBAS := ACATEG[I][8]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CBSCALC $ "1"   /* SUBSIDIO */','000073','000071','.CON.','5','','','5','CBSCALC $ "1"   /* SUBSIDIO */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := (( NSALBAS / NDPER ) * NDDIR) * NPCRIK','000074','000073','.EXE.','5','NVLCALC := (( NSALBAS / NDPER ) * NDDIR) * NPCRIK','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CBSCALC $ "6"   /* SUBSIDIO + VERBAS INFORMADAS */','000075','000071','.CON.','5','','','5','CBSCALC $ "6"   /* SUBSIDIO + VERBAS INFORMADAS */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := (( NSALBAS / NDPER ) * NDDIR)','000076','000075','.EXE.','5','NVLCALC := (( NSALBAS / NDPER ) * NDDIR)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CBSCALC $ "2*3*6"   /* VERBAS QUE INCORPORAM OU VERBAS INFOR','000077','000071','.CON.','5','','','5','CBSCALC $ "2*3*6"   /* VERBAS QUE INCORPORAM OU VERBAS INFORMADAS OU SUBSIDIO+VERBAS INFORMADAS */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLINCORP := 0','000078','000077','.EXE.','5','NVLINCORP := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CROTEIROS := FCROTEIROS()','000079','000077','.EXE.','5','CROTEIROS := FCROTEIROS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CRIKVERBAS := RIK->RIK_VERBAS','000080','000077','.EXE.','5','CRIKVERBAS := RIK->RIK_VERBAS','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NPOS := 1','000081','000077','.EXE.','5','NPOS := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NPOS <= LEN(APD)','000082','000077','.ENQ.','5','','','5','NPOS <= LEN(APD)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','POSSRV( APD[NPOS,1] , SRA->RA_FILIAL )','000083','000082','.EXE.','5','PosSrv( APD[NPOS,1] , SRA->RA_FILIAL )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CBSCALC $ "3*6" .AND. APD[NPOS,1] $ CRIKVERBAS .AND. !(APD[N','000084','000082','.CON.','5','','','5','CBSCALC $ "3*6" .AND. APD[NPOS,1] $ CRIKVERBAS .AND. !(APD[NPOS,9] == "D") .AND. !(APD[NPOS,1] == CPDRIK)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := IF(SRV->RV_TIPOCOD $ "1*3", NVLCALC + APD[NPOS,1]','000085','000084','.EXE.','5','NVLCALC := IF(SRV->RV_TIPOCOD $ "1*3", NVLCALC + APD[NPOS,5], NVLCALC - APD[NPOS,5])','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CBSCALC $ "2" .AND. SRV->RV_INCORP == "S" .AND. !(APD[NPOS,9','000086','000082','.CON.','5','','','5','CBSCALC $ "2" .AND. SRV->RV_INCORP == "S" .AND. !(APD[NPOS,9] == "D") .AND. !(APD[NPOS,1] == CPDRIK)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLINCORP := IF(SRV->RV_TIPOCOD $ "1*3", NVLINCORP + APD[NPO','000087','000086','.EXE.','5','NVLINCORP := IF(SRV->RV_TIPOCOD $ "1*3", NVLINCORP + APD[NPOS,5], NVLINCORP - APD[NPOS,5] )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NPOS++','000088','000082','.EXE.','5','NPOS++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := (( (IF(CBSCALC=="2",NSALBAS + NVLINCORP, NVLCALC)','000089','000077','.EXE.','5','NVLCALC := (( (IF(CBSCALC=="2",NSALBAS + NVLINCORP, NVLCALC)) / NDPER ) * NDDIR) * NPCRIK','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CBSCALC == "4" /* TABELA SALARIAL */','000090','000071','.CON.','5','','','5','CBSCALC == "4" /* TABELA SALARIAL */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := TABSALINI (RIK->RIK_TABELA, DDTFIM, .F., RIK->RIK','000091','000090','.EXE.','5','NVLCALC := TABSALINI (RIK->RIK_TABELA, DDTFIM, .F., RIK->RIK_TABNIV, RIK->RIK_TABFAI)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NVLCALC := ( ( NVLCALC / NDPER ) * NDDIR ) * NPCRIK','000092','000090','.EXE.','5','NVLCALC := ( ( NVLCALC / NDPER ) * NDDIR ) * NPCRIK','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','(NVLCALC > 0) .AND. ASCAN(APD, {|X| X[1] == CPDRIK .AND. (X[','000093','000067','.CON.','5','','','5','(NVLCALC > 0) .AND. ASCAN(APD, {|X| X[1] == CPDRIK .AND. (X[7] == "I" .OR. X[7] == "G") .AND. !(X[9] == "D")}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','NAPDCOUNT := 0','000094','000093','.EXE.','5','NAPDCOUNT := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','AEVAL(APD, {|X| IIF(X[1] == CPDRIK .AND. !(X[9] == "D"),NAPD','000095','000093','.EXE.','5','AEVAL(APD, {|X| IIf(X[1] == CPDRIK .AND. !(X[9] == "D"),NAPDCOUNT++,NAPDCOUNT)})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','CSEQ := IF(NAPDCOUNT > 0, ALLTRIM(STR(NAPDCOUNT))," ")','000096','000093','.EXE.','5','cSeq := IF(NAPDCOUNT > 0, ALLTRIM(STR(NAPDCOUNT))," ")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','FGERAVERBA(CPDRIK,ROUND(NVLCALC, MSDECIMAIS(1)),,,,,,,,,,,,C','000097','000093','.EXE.','5','FGeraVerba(CPDRIK,ROUND(NVLCALC, MSDECIMAIS(1)),,,,,,,,,,,,CSEQ,("RIK" + CCODLANC))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','X++','000098','000011','.EXE.','5','X++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LANCAUT','I++','000099','000008','.EXE.','5','I++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0270    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0270( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LGERRES','GERACAO DA MOVIMENT DE RESCISAO NA FOL','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','LGERRES','LGERRES := .F.     .CNT.','000001','000000','.EXE.','5','LGERRES := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGERRES','CSITFOLH == "D" .AND. C__ROTEIRO == "FOL"   .END.','000002','000000','.CON.','5','','','5','CSITFOLH == "D" .AND. C__ROTEIRO == "FOL"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LGERRES','GERARESC(CFOLMES,CSEMANA,@LGERRES)     .CNT.','000003','000002','.EXE.','5','GERARESC(CFOLMES,CSEMANA,@LGERRES)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGERRES','LGERRES   .END.','000004','000002','.CON.','5','','','5','LGERRES','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LGERRES','GRAVACALC()     .CNT.','000005','000004','.EXE.','5','GRAVACALC()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGERRES','FINALFUN()     .END.','000006','000004','.EXE.','5','FINALFUN()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0271    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0271( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LGRAVA','GRAVACAO DO CALCULO DA FOLHA','','','008','2','1',} )

aAdd(aRc3Cols, { '','S_','LGRAVA','lAborta := .F.     .CNT.','000001','000000','.EXE.','5','lAborta := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','nLimHoras := Val( Replicate( "9", ( TamSx3("RC_HORAS")[1] -','000002','000000','.EXE.','5','nLimHoras := Val( Replicate( "9", ( TamSx3("RC_HORAS")[1] - ( TamSx3("RC_HORAS")[2] + 1 ) ) ) + "." + Replicate("9",TamSx3("RC_HORAS")[2]))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','nLimValor := Val( Replicate( "9", ( TamSx3("RC_VALOR")[1] -','000003','000000','.EXE.','5','nLimValor := Val( Replicate( "9", ( TamSx3("RC_VALOR")[1] - ( TamSx3("RC_VALOR")[2] + 1 ) ) ) + "." + Replicate("9",TamSx3("RC_VALOR")[2]))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','nPosHoras := aScan( aPd, { |x| x[4] > nLimHoras } )     .CNT','000004','000000','.EXE.','5','nPosHoras := aScan( aPd, { |x| x[4] > nLimHoras } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','nPosValor := aScan( aPd, { |x| x[5] > nLimValor } )     .CNT','000005','000000','.EXE.','5','nPosValor := aScan( aPd, { |x| x[5] > nLimValor } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','lAborta := (nPosHoras > 0) .Or. (nPosValor > 0)     .CNT.','000006','000000','.EXE.','5','lAborta := (nPosHoras > 0) .Or. (nPosValor > 0)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','lAborta   .END.','000007','000000','.CON.','5','','','5','lAborta','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','FinalFun()     .CNT.','000008','000007','.EXE.','5','FinalFun()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','AddLogExecRot( fMsgForm( {152} ) )     .CNT.','000009','000007','.EXE.','5','AddLogExecRot( fMsgForm( {152} ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','nPosHoras > 0   .END.','000010','000007','.CON.','5','','','5','nPosHoras > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','AddLogExecRot( "Verba " + aPd[nPosHoras, 1] + " Horas: "  +','000011','000010','.EXE.','5','AddLogExecRot( "Verba " + aPd[nPosHoras, 1] + " Horas: "  + cValToChar(aPd[nPosHoras, 4]) + " | Limite: " + cValToChar(nLimHoras) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','nPosValor > 0   .END.','000012','000007','.CON.','5','','','5','nPosValor > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','AddLogExecRot( "Verba " + aPd[nPosHoras, 1] + " Valor: "  +','000013','000012','.EXE.','5','AddLogExecRot( "Verba " + aPd[nPosHoras, 1] + " Valor: "  + cValToChar(aPd[nPosValor, 5]) + " | Limite: " + cValToChar(nLimValor) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','AddLogExecRot( fMsgForm( {153} ) )     .END.','000014','000007','.EXE.','5','AddLogExecRot( fMsgForm( {153} ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','!lAborta   .END.','000015','000000','.CON.','5','','','5','!lAborta','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LGRAVA','GRAVACALC()','000016','000015','.EXE.','5','GRAVACALC()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0272    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0272( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LICPREMI','LICENCA PREMIO - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','LICPREMI','cVb1332 := aCodFol[1332,1]     .CNT.','000001','000000','.EXE.','5','cVb1332 := aCodFol[1332,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','nVlTot := nDias := 0     .CNT.','000002','000000','.EXE.','5','nVlTot := nDias := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','aRet := FRIARET(cVb1332 , dDataDe , If(cTipoRot == "4" , sto','000003','000000','.EXE.','5','aRet := FRIARET(cVb1332 , dDataDe , If(cTipoRot == "4" , stod("99991231") , dDataAte) )   /*FUNCAO QUE MONTA O ARRAY DA RIA COM BASE NA VERBA PASSADA NO PARAMETRO */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','nVlBase := nSalBase     .CNT.','000004','000000','.EXE.','5','nVlBase := nSalBase','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','i := 1     .CNT.','000005','000000','.EXE.','5','i := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','i <= Len(aRet)   .END.','000006','000000','.ENQ.','5','','','5','i <= Len(aRet)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','nVlTot += ( nVlBase / 30 ) * aRet[i][4] /* DIAS INDENIZADOS','000007','000006','.EXE.','5','nVlTot += ( nVlBase / 30 ) * aRet[i][4] /* DIAS INDENIZADOS */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','nDias += aRet[i][4]     .CNT.','000008','000006','.EXE.','5','nDias += aRet[i][4]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','i++     .END.','000009','000006','.EXE.','5','i++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','nVlTot > 0 .AND. aScan(aPd,{|X| x[1] == aCodFol[1333,1] .A','000010','000000','.CON.','5','','','5','nVlTot > 0 .AND. aScan(aPd,{|X| x[1] == aCodFol[1333,1] .AND. x[7] =="I" .AND. x[9] <> "D"}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','nSeq := 0     .CNT.','000011','000010','.EXE.','5','nSeq := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','AEval(aPD, { | x | IIf( x[1] == aCodFol[1333,1] .AND. x[9] <','000012','000010','.EXE.','5','AEval(aPD, { | x | IIf( x[1] == aCodFol[1333,1] .AND. x[9] <> "D", nSeq++, )} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICPREMI','FGeraVerba(aCodFol[1333,1],ROUND(nVlTot, MSDECIMAIS(1)),nDia','000013','000010','.EXE.','5','FGeraVerba(aCodFol[1333,1],ROUND(nVlTot, MSDECIMAIS(1)),nDias,,,,,,,,,,,Iif(nSeq > 0,STR(nSeq),""))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0273    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0273( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LICREMFE','GERACAO DA LICENCA REMUNERADA FERIAS','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','LICREMFE','EMPTY(CVERBAROT)','000001','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LICREMFE','CVERBAROT := FGETCODFOL("0103")','000002','000001','.EXE.','5','cVerbaRot := fGetCodFol("0103")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICREMFE','!EMPTY(CVERBAROT)','000003','000000','.CON.','5','','','5','!Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LICREMFE','NVALLICREM := 0','000004','000003','.EXE.','5','nValLicRem := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICREMFE','FLICREMFE(@NVALLICREM)','000005','000003','.EXE.','5','fLicRemFe(@nValLicRem)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LICREMFE','NVALLICREM > 0','000006','000003','.CON.','5','','','5','nValLicRem > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LICREMFE','FGERAVERBA(CVERBAROT,NVALLICREM,NDIASLREM)','000007','000006','.EXE.','5','fGeraVerba(cVerbaRot,nValLicRem,nDiasLRem)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0274    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0274( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LIMECONS','LIMITA E-CONSIGNADO NA FOLHA','','','002','2','1',} )

aAdd(aRc3Cols, { '','S_','LIMECONS','P_LIMECONS .AND. P_PERECONS > 0','000001','000000','.CON.','5','','','5','P_LIMECONS .AND. P_PERECONS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LIMECONS','FLIMECONS()','000002','000001','.EXE.','5','fLimECons()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0275    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0275( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LIMEMPR','LIMITA DESC. DE EMPRESTIMO NA RESCISÃO','','','002','2','1',} )

aAdd(aRc3Cols, { '','S_','LIMEMPR','FRESEMPVLD()','000001','000000','.EXE.','5','fResEmpVld()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0276    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0276( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LIMPA113','LIMPA AS VERBAS DO ROT.113 - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','LIMPA113','cVrb0022 := aCodFol[22,1]     .CNT.','000001','000000','.EXE.','5','cVrb0022 := aCodFol[22,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','ARET := FRILRET( DDATADE, IF(CTIPOROT == "4" , STOD("9999123','000002','000000','.EXE.','5','ARET := FRILRET( DDATADE, IF(CTIPOROT == "4" , STOD("99991231"), DDATAATE) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','ATABS116 := {}     .CNT.','000003','000000','.EXE.','5','ATABS116 := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','FRETTAB( @ATABS116, "S116", , , DDATAREF, , .T.)     .CNT.','000004','000000','.EXE.','5','FRETTAB( @ATABS116, "S116", , , DDATAREF, , .T.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','lSeek := (aScan(aPd,{|X| x[1] == aCodFol[22,1] .AND. x[9]','000005','000000','.CON.','5','','','5','lSeek := (aScan(aPd,{|X| x[1] == aCodFol[22,1] .AND. x[9] <> "D"}) > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','W := 1     .CNT.','000006','000005','.EXE.','5','W := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','W <= len(aRet)   .END.','000007','000005','.ENQ.','5','','','5','W <= len(aRet)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','NAUX := FPOSTAB("S116", ARET[W,01], "==", 4 )     .CNT.','000008','000007','.EXE.','5','NAUX := FPOSTAB("S116", ARET[W,01], "==", 4 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','nAux > 0   .END.','000009','000007','.CON.','5','','','5','nAux > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','cVbDesig += FTABELA("S116", NAUX, 8, DDATAREF ) + '+"'"+'/'+"'"+'     .C','000010','000009','.EXE.','5','cVbDesig += FTABELA("S116", NAUX, 8, DDATAREF ) + '+"'"+'/'+"'"+'','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','W++     .END.','000011','000007','.EXE.','5','W++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','cVerbas := aCodFol[22,1] +"*"+ aCodFol[318,1]     .CNT.','000012','000005','.EXE.','5','cVerbas := aCodFol[22,1] +"*"+ aCodFol[318,1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','nPos := 1     .CNT.','000013','000005','.EXE.','5','nPos := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','nPos <= LEN(aPD)   .END.','000014','000005','.ENQ.','5','','','5','nPos <= LEN(aPD)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','!(aPD[nPos,1] $ CVERBAS) .AND. !( ("003S" $ POSICIONE("SRV','000015','000014','.CON.','5','','','5','!(aPD[nPos,1] $ CVERBAS) .AND. !( ("003S" $ POSICIONE("SRV",1,XFILIAL("SRV") + aPD[nPos,1] , "RV_ACUMAUX" ) ) .AND. aPD[nPos,9] <> "D" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','!(aPD[nPos,1] $ cVbDesig)  .or.  "002S" $ SRV->RV_ACUMAUX','000016','000015','.CON.','5','','','5','!(aPD[nPos,1] $ cVbDesig)  .or.  "002S" $ SRV->RV_ACUMAUX','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','aPD[nPos,9] := "D"     .END.','000017','000016','.EXE.','5','aPD[nPos,9] := "D"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','aPD[nPos,1] == aCodFol[1372,1] .AND. aPD[nPos,9] <> "D"','000018','000014','.CON.','5','','','5','aPD[nPos,1] == aCodFol[1372,1] .AND. aPD[nPos,9] <> "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','aPD[nPos,9] := "D"     .END.','000019','000018','.EXE.','5','aPD[nPos,9] := "D"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','nPos++     .END.','000020','000014','.EXE.','5','nPos++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','!lSeek   .END.','000021','000000','.CON.','5','','','5','!lSeek','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','nPos := 1     .CNT.','000022','000021','.EXE.','5','nPos := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','nPos <= LEN(aPD)   .END.','000023','000021','.ENQ.','5','','','5','nPos <= LEN(aPD)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','aPD[nPos,9] := "D"     .CNT.','000024','000023','.EXE.','5','aPD[nPos,9] := "D"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIMPA113','nPos++     .END.','000025','000023','.EXE.','5','nPos++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0277    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0277( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LIQFER','LIQUIDO DE FERIAS','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','LIQFER','fLiqFer()     .END.','000001','000000','.EXE.','5','fLiqFer()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0278    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0278( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LIQRESC','SOMA LIQUIDO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','LIQRESC','NOBRIG := 0','000001','000000','.EXE.','5','nObrig := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIQRESC','NOBRIG := FLIQUIDO(ACODFOL,ACODFOL[126,1],0,"",.T.,ACODFOL[4','000002','000000','.EXE.','5','nObrig := fLiquido(aCodFol,aCodFol[126,1],0,"",.T.,aCodFol[45,1],.T.,.F.)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0279    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0279( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LIQRESFP','SOMA LIQUIDO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','LIQRESFP','NOBRIG := 0','000001','000000','.EXE.','5','nObrig := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LIQRESFP','nObrig := fLiquido(aCodFol,aCodFol[126,1],0,"",.T.,aCodFol[4','000002','000000','.EXE.','5','nObrig := fLiquido(aCodFol,aCodFol[126,1],0,"",.T.,aCodFol[45,1],.T.,.T.)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0280    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0280( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LPRODIAF','ATUALIZA LPROPDIA PARA .F.','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','LPRODIAF','LPROPDIA := .F.','000001','000000','.EXE.','5','lPropdia := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0281    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0281( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LPRODIAV','ATUALIZA LPROPDIA PARA .T.','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','LPRODIAV','LPROPDIA  := .T.','000001','000000','.EXE.','5','lPropdia  := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0282    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0282( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LPROPTAR','VARIAVEL PROP. TAREFA','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','LPROPTAR','LPROPTAREFA := .F.','000001','000000','.EXE.','5','lPropTarefa := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LPROPTAR','SRA->RA_CATFUNC $ "I*J"','000002','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "I*J"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LPROPTAR','LPROPTAREFA := .T.','000003','000002','.EXE.','5','lPropTarefa := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0283    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0283( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LTABELAS','CARREGA TABELAS PARA O CALCULO DA FOLHA','','','055','2','1',} )

aAdd(aRc3Cols, { '','S_','LTABELAS','LTABELAS := .T.','000001','000000','.EXE.','5','LTABELAS := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','FCARGARCE()','000002','000000','.EXE.','5','fCargaRCE()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','cCpoPagto:=IF(CTIPOROT=="3" , "RH_DTRECIB", "RG_DATAHOM")','000003','000000','.EXE.','5','cCpoPagto:=IF(cTipoRot=="3" , "RH_DTRECIB", "RG_DATAHOM")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CFILCALC <> SRA->RA_FILIAL .OR. (CTIPOROT = '+"'"+'6'+"'"+' .AND. P_CCOM','000004','000000','.CON.','5','','','5','cFilCalc <> SRA->RA_FILIAL .Or. (cTipoRot = '+"'"+'6'+"'"+' .And. P_CCOMP13 = '+"'"+'S'+"'"+' .And. lCalcFol .And. fTemROT132() .And. ( AnoMes(SRA->RA_ADMISSA) == cPeriodo .or. Month(dDataAte) == 12 .or. fTem132Per() ))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CFILCALC := SRA->RA_FILIAL','000005','000004','.EXE.','5','cFilCalc := SRA->RA_FILIAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','NNUMSEMANA := SEMANAMES(CPERIODO)','000006','000004','.EXE.','5','NNUMSEMANA := SEMANAMES(CPERIODO)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LFILADTS := .T.','000007','000004','.EXE.','5','LFILADTS := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CTIPOROT == "5"','000008','000004','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','NPERCENTUA := ( APERGUNTE[2,3] / 100 )','000009','000008','.EXE.','5','nPercentua := ( aPergunte[2,3] / 100 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LMESATU := ( APERGUNTE[8,3] == 2 )','000010','000008','.EXE.','5','LMESATU := ( aPergunte[8,3] == 2 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LTABELAS := .F.','000011','000004','.EXE.','5','lTabelas := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LINCPROV := CTIPOROT == "1" .AND. GETROTEXEC() == FGETCALCRO','000012','000004','.EXE.','5','lIncProv := cTipoRot == "1" .and. GetRotExec() == fGetCalcRot("G") .and. ( IsInCallStack("GPEM070") .Or. IsInCallStack("GPM070GRD") )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CTIPOROT == "K" .OR. LINCPROV','000013','000004','.CON.','5','','','5','CTIPOROT == "K" .OR. lIncProv','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','FP_CODFOL(@ACODFOL,SRA->RA_FILIAL)','000014','000013','.EXE.','5','FP_CODFOL(@ACODFOL,SRA->RA_FILIAL)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LTABELAS := .T.','000015','000013','.EXE.','5','LTABELAS := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CTIPOROT <> "K" .AND. !LINCPROV','000016','000004','.CON.','5','','','5','CTIPOROT <> "K" .and. !lIncProv','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CargaIr(If(cTipoRot = "6", @aTabIr13, @aTabIr), If( cTipoR','000017','000016','.CON.','5','','','5','CargaIr(If(cTipoRot = "6", @aTabIr13, @aTabIr), If( cTipoRot$"3*4" , MesAno(GetMemVar(cCpoPagto)), MesAno(dData_Pgto)))','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','SAL_MIN(@VAL_SALMIN , IF(CTIPOROT=="3" , MESANO(GETMEMVAR("R','000018','000016','.CON.','5','','','5','Sal_Min(@Val_SalMin , If(cTipoRot=="3" , MesAno(GetMemVar("RH_DATAINI")) , MesAno(dDataDe)),SRA->RA_FILIAL)','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CAR_INSS(IF(CTIPOROT = "6", @ATINSS13, @ATINSS), IF( CTIPORO','000019','000016','.CON.','5','','','5','Car_inss(If(cTipoRot = "6", @aTInss13, @aTInss), If( cTipoRot=="3" , MesAno(GetMemVar("RH_DATAINI") ) , MesAno(dDataDe)))','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','FCARFGTS(@NFGTSCT1,@NFGTSCT2,SRA->RA_FILIAL)','000020','000016','.CON.','5','','','5','fCarFgts(@nFgtsCt1 , @nFgtsCt2 , SRA->RA_FILIAL)','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','FP_CODFOL(@ACODFOL,SRA->RA_FILIAL)','000021','000016','.CON.','5','','','5','FP_CODFOL(@aCodFol,SRA->RA_FILIAL)','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','SEG_VIDA(@ASEGURO,SRA->RA_FILIAL)','000022','000016','.CON.','5','','','5','Seg_Vida(@aSeguro,SRA->RA_FILIAL)','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','IF(CTIPOROT $"3*4",CONV_COLE(@ACONVENCAO,SRA->RA_FILIAL),.T.','000023','000016','.CON.','5','','','5','If(cTipoRot $"3*4",Conv_Cole(@aConvencao,SRA->RA_FILIAL),.T.)','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','IF( CTIPOROT$"1*4" , SAL_FAMI(@NLIMSF1 , @NVAL_SF1 , @NLIMSF','000024','000016','.CON.','5','','','5','If( cTipoRot$"1*4" , Sal_Fami(@nLimSF1 , @nVal_SF1 , @nLimSF2 , @nVal_SF2 , MesAno(dDataDe)),.T.)','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','IF( CTIPOROT == "4" , FINCRES(SRA->RA_FILIAL , GETMEMVAR("RG','000025','000016','.CON.','5','','','5','If( cTipoRot == "4" , fIncRes(SRA->RA_FILIAL , GetMemVar("RG_TIPORES") , @aIncRes , 0.00 , @cRescrais , @cAfasfgts , ""), .T. )','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','FCARPARAM(SRA->RA_FILIAL)','000026','000016','.CON.','5','','','5','FCarParam(SRA->RA_FILIAL)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LTABELAS := .T.','000027','000026','.EXE.','5','LTABELAS := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','cPaisLoc == "BRA" .And. !P_MULTV .And. !(IsInCallStack("Fw','000028','000004','.CON.','5','','','5','cPaisLoc == "BRA" .And. !P_MULTV .And. !(IsInCallStack("FwMyTestRunner") .Or. IsInCallStack("EXECSUITE") .Or. IsInCallStack("EXECSUITEBLIND") .Or. IsInCallStack("AUTJOBRUNCT")) .And. cTipoRot $ "1/3/4/6/9"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','lTabelas := .F.     .CNT.','000029','000028','.EXE.','5','lTabelas := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','AddLogExecRot( "" )     .CNT.','000030','000028','.EXE.','5','AddLogExecRot( "" )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','AddLogExecRot( "O cálculo não será realizado pois o mnemnôni','000031','000028','.EXE.','5','AddLogExecRot( "O cálculo não será realizado pois o mnemnônico P_MULTV não está ativo e obrigatoriamente deve estar ativo." )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','AddLogExecRot( "Verifique mais informações sobre o mnemônico','000032','000028','.EXE.','5','AddLogExecRot( "Verifique mais informações sobre o mnemônico na documentação: https://tdn.totvs.com/x/y6DvI" )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','!LTABELAS','000033','000004','.CON.','5','','','5','!lTabelas','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','FINALCALC()','000034','000033','.EXE.','5','FinalCalc()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LTABELAS   .END.','000035','000004','.CON.','5','','','5','LTABELAS','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CTIPOROT == "5"','000036','000035','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LVB13MAT := !EMPTY(ACODFOL[1434,1])','000037','000036','.EXE.','5','LVB13MAT := !Empty(aCodFol[1434,1])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LVB13MAT2 := !EMPTY(ACODFOL[1639,1])','000038','000036','.EXE.','5','LVB13MAT2 := !Empty(aCodFol[1639,1])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LVB13ADO := !EMPTY(ACODFOL[1953, 1])','000039','000036','.EXE.','5','lVb13Ado := !Empty(aCodFol[1953, 1])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LVB13ADO2 := !EMPTY(ACODFOL[1935,1])','000040','000036','.EXE.','5','LVB13ADO2 := !EMPTY(ACODFOL[1935,1])','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','CTIPOROT == "6"','000041','000035','.CON.','5','','','5','cTipoRot == "6"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LVB13MAT := !EMPTY(ACODFOL[1435,1])','000042','000041','.EXE.','5','LVB13MAT := !Empty(aCodFol[1435,1])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LVB13ADO := !EMPTY(ACODFOL[1954, 1])','000043','000041','.EXE.','5','lVb13Ado := !Empty(aCodFol[1954, 1])','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABELAS','LTABELAS := .F.','000044','000004','.EXE.','5','lTabelas := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0284    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0284( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','LTABGFP','CARREGA TABELAS DE CALCULO - GFP','','','008','2','1',} )

aAdd(aRc3Cols, { '','S_','LTABGFP','LTABELAS := .T.     .CNT.','000001','000000','.EXE.','5','LTABELAS := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','FCARGARCE()','000002','000000','.EXE.','5','FCARGARCE()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','CTIPOROT == "5"','000003','000000','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','NPERCENTUA := ( APERGUNTE[1,3] / 100 )','000004','000003','.EXE.','5','NPERCENTUA := ( APERGUNTE[1,3] / 100 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','CFILCALC <> SRA->RA_FILIAL   .END.','000005','000000','.CON.','5','','','5','CFILCALC <> SRA->RA_FILIAL','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','CFILCALC := SRA->RA_FILIAL     .CNT.','000006','000005','.EXE.','5','CFILCALC := SRA->RA_FILIAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','NNUMSEMANA := SEMANAMES(CPERIODO)     .CNT.','000007','000005','.EXE.','5','NNUMSEMANA := SEMANAMES(CPERIODO)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','LTABELAS := .F.     .CNT.','000008','000005','.EXE.','5','LTABELAS := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','CARGAIR( IF( CTIPOROT = "6", @ATABIR13, @ATABIR ), MESANO(','000009','000005','.CON.','5','','','5','CARGAIR( IF( CTIPOROT = "6", @ATABIR13, @ATABIR ), MESANO( DDATA_PGTO ) ) .AND. FP_CODFOL( @ACODFOL,SRA->RA_FILIAL ) .AND. FCARPARAM( SRA->RA_FILIAL ) .AND. Car_inss( @aTInss,MesAno(DDATA_PGTO) ) .AND. SAL_MIN( @VAL_SALMIN, CANOMES)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','LTABELAS := .T.     .END.','000010','000009','.EXE.','5','LTABELAS := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','!LTABELAS   .END.','000011','000005','.CON.','5','','','5','!LTABELAS','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','FINALCALC()     .END.','000012','000011','.EXE.','5','FINALCALC()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','LTABGFP','LTABELAS := .F.     .END.','000013','000005','.EXE.','5','LTABELAS := .F.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0285    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0285( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MCONTSOC','CONTRIBUICAO SOCIAL','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','MCONTSOC','DDATADEM >= CTOD("28/09/2001","DDMMYYYY")','000001','000000','.CON.','5','','','5','dDataDem >= CtoD("28/09/2001","DDMMYYYY")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MCONTSOC','FGERAVERBA(ACODFOL[297,1],NCONTRMUL)','000002','000001','.EXE.','5','fGeraVerba(aCodFol[297,1],nContrMul)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MCONTSOC','FGERAVERBA(ACODFOL[727,1],NCTRMULDIS)','000003','000001','.EXE.','5','fGeraVerba(aCodFol[727,1],nCtrMulDis)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0286    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0286( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MEDCNTVA','MEDIAS DE FERIAS E 13º CONT. VERDE AMARE','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','MEDCNTVA','SRA->RA_CATEFD $ '+"'"+'107/108'+"'"+'','000001','000000','.CON.','5','','','5','SRA->RA_CATEFD $ '+"'"+'107/108'+"'"+'','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','NPOS := ASCAN(APD, {|X| !( RETVALSRV(X[1],SRA->RA_FILIAL,"RV','000002','000001','.EXE.','5','nPos := aScan(aPd, {|x| !( RetValSrv(x[1],SRA->RA_FILIAL,"RV_MED13") $ "N  " ) .or. !( RetValSrv(x[1],SRA->RA_FILIAL,"RV_MEDFER") $ "N  " )} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','NPOS > 0','000003','000001','.CON.','5','','','5','nPos > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','GPEXMED(DDATADE, DDATADE, DDATADE, , DDATAATE, SALHORA, VAL_','000004','000003','.EXE.','5','GPEXMED(DDATADE, DDATADE, DDATADE, , DDATAATE, SALHORA, Val_SalMin, aCodFol, .T., !lDissidio, .F.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','FMEDFER(@NMEDIAOUT,@NMEDIAHRS,@NMEDIA13S,0)','000005','000003','.EXE.','5','FMEDFER(@NMEDIAOUT,@NMEDIAHRS,@NMEDIA13S,0)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','NMEDIAOUT := ( NMEDIAOUT / 12 / 30 * DIASTRAB)','000006','000003','.EXE.','5','nMediaOut := ( nMediaOut / 12 / 30 * diastrab)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','NMEDIAHRS := ( NMEDIAHRS / 12 / 30 * DIASTRAB )','000007','000003','.EXE.','5','nMediaHrs := ( nMediaHrs / 12 / 30 * diastrab )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','FGERAVERBA(ACODFOL[75,1],NMEDIAOUT)','000008','000003','.EXE.','5','fGeraVerba(aCodFol[75,1],nMediaOut)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','FGERAVERBA(ACODFOL[82,1],NMEDIAHRS)','000009','000003','.EXE.','5','fGeraVerba(aCodFol[82,1],nMediaHrs)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','LMESATU := .T.','000010','000003','.EXE.','5','lMesAtu := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','NAVOS := 1','000011','000003','.EXE.','5','nAvos := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','FMEDIA13()','000012','000003','.EXE.','5','fMedia13()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDCNTVA','F132GMED()','000013','000003','.EXE.','5','f132GMed()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0287    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0287( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MEDDIS','CALCULA MEDIA DA MULTA POR DISSIDIO','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','MEDDIS','Empty(cVerbaRot)   .END.','000001','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDDIS','CVERBAROT := FGETCODFOL("0985")','000002','000001','.EXE.','5','cVerbaRot := fGetCodFol("0985")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDDIS','!EMPTY(CVERBAROT) .AND. ASCAN(APD,{ |X| X[1] == ACODFOL[178,','000003','000000','.CON.','5','','','5','!Empty(cVerbaRot) .and. aScan(aPd,{ |X| x[1] == aCodFol[178,1] .and. x[5] > 0 } ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDDIS','FMATRIZ(CVERBAROT,ROUND(NMEDAVISO,2),30,,,"V","R")','000004','000003','.EXE.','5','fMatriz(cVerbaRot,Round(nMedAviso,2),30,,,"V","R")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0288    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0288( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MEDIA13','CACULO DE MEDIA 13','','','017','2','1',} )

aAdd(aRc3Cols, { '','S_','MEDIA13','cTipoRot == "5"   .END.','000001','000000','.CON.','5','','','5','cTipoRot == "5"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDIA13','DREFMED := APERGUNTE[7,3]','000002','000001','.EXE.','5','dRefMed := aPergunte[7,3]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDIA13','fMedia13()     .END.','000003','000001','.EXE.','5','fMedia13()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDIA13','cTipoRot == "6"   .END.','000004','000000','.CON.','5','','','5','cTipoRot == "6"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDIA13','P_CCOMP13 == '+"'"+'S'+"'"+' .AND. LCALCFOL .AND. MONTH(DDATAATE) == 12','000005','000004','.CON.','5','','','5','P_CCOMP13 == '+"'"+'S'+"'"+' .And. lCalcFol .And. Month(dDataAte) == 12','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDIA13','DREFMED := DDATAATE','000006','000005','.EXE.','5','dRefMed := dDataAte','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDIA13','!LCALCFOL','000007','000004','.CON.','5','','','5','!lCalcFol','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDIA13','DREFMED := APERGUNTE[3,3]','000008','000007','.EXE.','5','dRefMed := aPergunte[3,3]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDIA13','fMedia13()     .END.','000009','000004','.EXE.','5','fMedia13()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0289    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0289( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MEDIAS13','CALCULO DA MEDIA 13 SALARIO - GFP','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','MEDIAS13','!(SRA->RA_CATFUNC $ "4*9*A*P") .AND. (CTIPOROT == "6")   .','000001','000000','.CON.','5','','','5','!(SRA->RA_CATFUNC $ "4*9*A*P") .AND. (CTIPOROT == "6")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDIAS13','S_SALHOR13()     .CNT.','000002','000001','.EXE.','5','S_SALHOR13()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDIAS13','fMed13Gfp()     .END.','000003','000001','.EXE.','5','fMed13Gfp()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0290    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0290( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MEDINTER','MEDIAS DE FERIAS E 13º DE FUNC. INTERM.','','','013','2','1',} )

aAdd(aRc3Cols, { '','S_','MEDINTER','SRA->RA_TPCONTR == "3"','000001','000000','.CON.','5','','','5','SRA->RA_TPCONTR == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NPOS := ASCAN(APD, {|X| !( RETVALSRV(X[1],SRA->RA_FILIAL,"RV','000002','000001','.EXE.','5','nPos := aScan(aPd, {|x| !( RetValSrv(x[1],SRA->RA_FILIAL,"RV_MED13") $ "N  " ) .or. !( RetValSrv(x[1],SRA->RA_FILIAL,"RV_MEDFER") $ "N  " )} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NPOS > 0','000003','000001','.CON.','5','','','5','nPos > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','GPEXMED(ACONVOCACAO[2], ACONVOCACAO[2], ACONVOCACAO[2], , dD','000004','000003','.EXE.','5','GPEXMED(ACONVOCACAO[2], ACONVOCACAO[2], ACONVOCACAO[2], , dDataRef, Iif(!lDissidio, ACONVOCACAO[4], SalHora), Val_SalMin, aCodFol, .T., Iif(!lDissidio, .T., .F.), .F.)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','FMEDFER(@NMEDIAOUT,@NMEDIAHRS,@NMEDIA13S,0)','000005','000003','.EXE.','5','FMEDFER(@NMEDIAOUT,@NMEDIAHRS,@NMEDIA13S,0)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NDIASAFAS  > 15','000006','000003','.CON.','5','','','5','NDIASAFAS  > 15','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NMEDIAOUT := ( NMEDIAOUT / 12 / MAX( ACONVOCACAO[7] * MAX(ND','000007','000006','.EXE.','5','nMediaOut := ( nMediaOut / 12 / Max( aConvocacao[7] * Max(nDiasC,aConvocacao[5]) , ( NHORASTRAB + NHORASDSR ) ) ) * ( NHORASTRAB + NHORASDSR )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NMEDIAHRS := ( NMEDIAHRS / 12 / MAX( ACONVOCACAO[7] * MAX(ND','000008','000006','.EXE.','5','nMediaHrs := ( nMediaHrs / 12 / Max( aConvocacao[7] * Max(nDiasC,aConvocacao[5]) , ( NHORASTRAB + NHORASDSR ) ) ) * ( NHORASTRAB + NHORASDSR )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NDIASAFAS  <= 15','000009','000003','.CON.','5','','','5','NDIASAFAS  <= 15','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NMEDIAOUT := ( NMEDIAOUT / 12 / MAX( ACONVOCACAO[7] * MAX(ND','000010','000009','.EXE.','5','nMediaOut := ( nMediaOut / 12 / Max( aConvocacao[7] * Max(nDiasC,aConvocacao[5]) , ( NORMAL + DESCANSO ) ) ) * ( NORMAL + DESCANSO )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NMEDIAHRS := ( NMEDIAHRS / 12 / MAX( ACONVOCACAO[7] * MAX(ND','000011','000009','.EXE.','5','nMediaHrs := ( nMediaHrs / 12 / Max( aConvocacao[7] * Max(nDiasC,aConvocacao[5]) , ( NORMAL + DESCANSO ) ) ) * ( NORMAL + DESCANSO )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','FGERAVERBA(ACODFOL[75,1],NMEDIAOUT,ACONVOCACAO[5])','000012','000003','.EXE.','5','fGeraVerba(aCodFol[75,1],nMediaOut,aConvocacao[5])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','FGERAVERBA(ACODFOL[82,1],NMEDIAHRS,ACONVOCACAO[5])','000013','000003','.EXE.','5','fGeraVerba(aCodFol[82,1],nMediaHrs,aConvocacao[5])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','LMESATU := .T.','000014','000003','.EXE.','5','lMesAtu := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','NAVOS := 1','000015','000003','.EXE.','5','nAvos := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','FMEDIA13()','000016','000003','.EXE.','5','fMedia13()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MEDINTER','F132GMED()','000017','000003','.EXE.','5','f132GMed()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0291    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0291( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MENSIDIC','CALCULO MENSALIDADE SINDICAL','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','MENSIDIC','EMPTY(CVERBAROT)','000001','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MENSIDIC','CVERBAROT := FGETCODFOL("0720")','000002','000001','.EXE.','5','cVerbaRot := fGetCodFol("0720")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MENSIDIC','!LDISSIDIO .AND. SRA->RA_MENSIND == "1" .AND. ( CTIPOROT # "','000003','000000','.CON.','5','','','5','!LDISSIDIO .AND. SRA->RA_MENSIND == "1" .and. ( cTipoRot # "4" .or. (cTipoRot == "4" .and. ( cCompl # "S" .or. ( cCompl == "S" .and. MesAno(GetMemVar("RG_DATADEM")) == MesAno(GetMemVar("RG_DTGERAR")) ) ) ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MENSIDIC','FCMENSIND(ACODFOL, CVERBAROT)','000004','000003','.EXE.','5','fCMenSind(aCodFol, cVerbaRot)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MENSIDIC','LDISSIDIO .AND. FHISMSIND() .AND. ( CTIPOROT # "4" .OR. (CTI','000005','000000','.CON.','5','','','5','LDISSIDIO .AND. fHisMSind() .and. ( cTipoRot # "4" .or. (cTipoRot == "4" .and. ( cCompl # "S" .or. ( cCompl == "S" .and. MesAno(GetMemVar("RG_DATADEM")) == MesAno(GetMemVar("RG_DTGERAR")) ) ) ) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MENSIDIC','FCMENSIND(ACODFOL, CVERBAROT)','000006','000005','.EXE.','5','fCMenSind(aCodFol, cVerbaRot)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0292    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0292( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MESESTRA','VERIFIVA MESES TRAB. DO CADAST - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','MESESTRA','cSitFolh = "A" .And. NAVOSAF == 0  .And. cSitFGTS # "Q" .A','000001','000000','.CON.','5','','','5','cSitFolh = "A" .And. NAVOSAF == 0  .And. cSitFGTS # "Q" .And. Val(SRA->RA_MESTRAB) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MESESTRA','nAvos := Val(SRA->RA_MESTRAB)     .END.','000002','000001','.EXE.','5','nAvos := Val(SRA->RA_MESTRAB)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0293    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0293( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MSGLOG','EXIBIR MSGS DE ERROS NA EXECUCAO DO CALC','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','MSGLOG','!EMPTY(CMSGLOG)   .END.','000001','000000','.CON.','5','','','5','!EMPTY(CMSGLOG)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MSGLOG','NPOS := ASCAN(AMSGLOG,{|X| X == CMSGLOG})     .CNT.','000002','000001','.EXE.','5','NPOS := ASCAN(AMSGLOG,{|X| X == CMSGLOG})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MSGLOG','EMPTY(NPOS)   .END.','000003','000001','.CON.','5','','','5','EMPTY(NPOS)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MSGLOG','AADD(AMSGLOG,CMSGLOG)     .CNT.','000004','000003','.EXE.','5','AADD(AMSGLOG,CMSGLOG)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MSGLOG','ADDLOGEXECROT(CMSGLOG)     .END.','000005','000003','.EXE.','5','ADDLOGEXECROT(CMSGLOG)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0294    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0294( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MSGLOGFP','MENSAGEM NO LOG DE CALCULO - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','MSGLOGFP','!EMPTY(CMSGLOG)   .END.','000001','000000','.CON.','5','','','5','!EMPTY(CMSGLOG)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MSGLOGFP','NPOS  := ASCAN(AMSGLOG,{|X| X == CMSGLOG})     .CNT.','000002','000001','.EXE.','5','NPOS  := ASCAN(AMSGLOG,{|X| X == CMSGLOG})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MSGLOGFP','LOK := EMPTY(NPOS)   .END.','000003','000001','.CON.','5','','','5','LOK := EMPTY(NPOS)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MSGLOGFP','AADD(AMSGLOG,CMSGLOG)     .CNT.','000004','000003','.EXE.','5','AADD(AMSGLOG,CMSGLOG)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MSGLOGFP','ADDLOGEXECROT(CMSGLOG)     .END.','000005','000003','.EXE.','5','ADDLOGEXECROT(CMSGLOG)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0295    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0295( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MULTAFGT','CALCULA MULTA FGTS','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','MULTAFGT','FFGTSMULTA(@NCONTRMUL,@NCTRMULDIS)','000001','000000','.EXE.','5','fFgtsMulta(@nContrMul,@nCtrMulDis)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0296    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0296( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MULTINTE','MULTA DE 50% CONTRATO INTERMITENTE','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','MULTINTE','nCont := 1     .CNT.','000001','000000','.EXE.','5','nCont := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nTotDesc := 0     .CNT.','000002','000000','.EXE.','5','nTotDesc := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nTotProv := 0     .CNT.','000003','000000','.EXE.','5','nTotProv := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','cPaisLoc == "BRA" .And. SRA->RA_TPCONTR == "3" .And. aConv','000004','000000','.CON.','5','','','5','cPaisLoc == "BRA" .And. SRA->RA_TPCONTR == "3" .And. aConvocacao[11] $ "1/2" .And. !Empty(aCodFol[1901, 1]) .And. !Empty(aCodFol[1902, 1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nCont <= Len(aPd)   .END.','000005','000004','.ENQ.','5','','','5','nCont <= Len(aPd)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','aPd[nCont, 9] != "D" .And. RetValSRV(aPd[nCont, 1], SRA->R','000006','000005','.CON.','5','','','5','aPd[nCont, 9] != "D" .And. RetValSRV(aPd[nCont, 1], SRA->RA_FILIAL, "RV_TIPOCOD" ) $ "1/2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','RetValSRV(aPd[nCont, 1], SRA->RA_FILIAL, "RV_TIPOCOD" ) ==','000007','000006','.CON.','5','','','5','RetValSRV(aPd[nCont, 1], SRA->RA_FILIAL, "RV_TIPOCOD" ) == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nTotProv += aPd[nCont, 5]     .END.','000008','000007','.EXE.','5','nTotProv += aPd[nCont, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','RetValSRV(aPd[nCont, 1], SRA->RA_FILIAL, "RV_TIPOCOD" ) ==','000009','000006','.CON.','5','','','5','RetValSRV(aPd[nCont, 1], SRA->RA_FILIAL, "RV_TIPOCOD" ) == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nTotDesc += aPd[nCont, 5]     .END.','000010','000009','.EXE.','5','nTotDesc += aPd[nCont, 5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nCont++     .END.','000011','000005','.EXE.','5','nCont++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nCont := 1     .CNT.','000012','000004','.EXE.','5','nCont := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nCont <= Len(aPd)   .END.','000013','000004','.ENQ.','5','','','5','nCont <= Len(aPd)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','aPd[nCont, 7] != "F"   .END.','000014','000013','.CON.','5','','','5','aPd[nCont, 7] != "F"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','aPd[nCont, 9] := "D"     .END.','000015','000014','.EXE.','5','aPd[nCont, 9] := "D"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nCont++     .END.','000016','000013','.EXE.','5','nCont++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','nTotProv > nTotDesc   .END.','000017','000004','.CON.','5','','','5','nTotProv > nTotDesc','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MULTINTE','fGeraVerba( Iif( aConvocacao[11] == "2", aCodFol[1901, 1], a','000018','000017','.EXE.','5','fGeraVerba( Iif( aConvocacao[11] == "2", aCodFol[1901, 1], aCodFol[1902, 1] ), ( 0.5 * (nTotProv - nTotDesc) ) )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0297    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0297( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MULTV','CALCULO DE MULTIPLOS VINCULOS','','','008','2','1',} )

aAdd(aRc3Cols, { '','S_','MULTV','SRA->RA_TPCONTR != "3" .AND. !P_MULTV','000001','000000','.CON.','5','','','5','SRA->RA_TPCONTR != "3" .AND. !P_MULTV','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','MULTV','MULTV()','000002','000001','.EXE.','5','MULTV()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0298    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0298( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','MUVADI','INI. VAR. UTILIZADAS NO MULTIPLO VINCULO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','MUVADI','FIRMULTVAD()','000001','000000','.EXE.','5','FIrMultvAd()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0299    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0299( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','NARRED13','GERACAO DO DESCTO DE ARREDOND 13 SALARIO','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','NARRED13','CSITFOLH <> "D"   .END.','000001','000000','.CON.','5','','','5','CSITFOLH <> "D"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NARRED13','FGERARR13()     .END.','000002','000001','.EXE.','5','FGERARR13()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0300    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0300( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','NCOMPHRS','CARREGA AS HORAS MES DO CADASTRO DE FUNC','','','010','2','1',} )

aAdd(aRc3Cols, { '','S_','NCOMPHRS','TYPE('+"'"+'LSALINCO'+"'"+') <> '+"'"+'U'+"'"+' .AND. LSALINCO','000001','000000','.CON.','5','','','5','Type('+"'"+'lSalInco'+"'"+') <> '+"'"+'U'+"'"+' .AND. lSalInco','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NCOMPHRS','SRA->RA_TPCONTR != "3"','000002','000001','.CON.','5','','','5','SRA->RA_TPCONTR != "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NCOMPHRS','NORMAL := SRA->RA_HRSMES','000003','000002','.EXE.','5','NORMAL := SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NCOMPHRS','SRA->RA_TPCONTR == "3"','000004','000001','.CON.','5','','','5','SRA->RA_TPCONTR == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NCOMPHRS','NORMAL := ACONVOCACAO[7] * ACONVOCACAO[5]','000005','000004','.EXE.','5','NORMAL := ACONVOCACAO[7] * ACONVOCACAO[5]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NCOMPHRS','DESCANSO := 0','000006','000001','.EXE.','5','DESCANSO := 0','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0301    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0301( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','NCOMPTUR','CARREGA COMPOSICAO DE HORAS CAD. TURNOS','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','NCOMPTUR','FCHKTURNO()    .CNT.','000001','000000','.EXE.','5','fChkTurno()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NCOMPTUR','NCOMPTURNO := NORMAL + DESCANSO     .END.','000002','000000','.EXE.','5','NCOMPTURNO := NORMAL + DESCANSO','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0302    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0302( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','NINDOBRA','CALC.INDEN. POR TERMINO DE OBRA C.CIVIL','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','NINDOBRA','LVERIND := GETMEMVAR("RG_CTOBRA") == "1"     .CNT.','000001','000000','.EXE.','5','LVERIND := GETMEMVAR("RG_CTOBRA") == "1"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','LVERIND .And. Len( aCodFol ) >= 1656 .And. !Empty( aCodFol','000002','000000','.CON.','5','','','5','LVERIND .And. Len( aCodFol ) >= 1656 .And. !Empty( aCodFol[1656,1] )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','SRA->RA_TPCONTR == "2"   .END.','000003','000002','.CON.','5','','','5','SRA->RA_TPCONTR == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','aTEmpo := DateDiffYMD( SRA->RA_ADMISSA, GETMEMVAR("RG_DATADE','000004','000003','.EXE.','5','aTEmpo := DateDiffYMD( SRA->RA_ADMISSA, GETMEMVAR("RG_DATADEM") )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','nFator := aTempo[1] + If( aTempo[2] >= 6, 1, 0 )     .CNT.','000005','000003','.EXE.','5','nFator := aTempo[1] + If( aTempo[2] >= 6, 1, 0 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','nFator := If( aTempo[1] > 0, nFator, 0 )     .CNT.','000006','000003','.EXE.','5','nFator := If( aTempo[1] > 0, nFator, 0 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','nFator > 0   .END.','000007','000003','.CON.','5','','','5','nFator > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','P_REDCOBRA := If( Type("P_REDCOBRA") == "U", 30, P_REDCOBRA','000008','000007','.EXE.','5','P_REDCOBRA := If( Type("P_REDCOBRA") == "U", 30, P_REDCOBRA )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','nPercRed := 1 - (P_REDCOBRA / 100)     .CNT.','000009','000007','.EXE.','5','nPercRed := 1 - (P_REDCOBRA / 100)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','nBsIndObr := SALARIO * nFator     .CNT.','000010','000007','.EXE.','5','nBsIndObr := SALARIO * nFator','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','nVlIndObr := nBsIndObr * nPercRed     .END.','000011','000007','.EXE.','5','nVlIndObr := nBsIndObr * nPercRed','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','nVlIndObr > 0   .END.','000012','000003','.CON.','5','','','5','nVlIndObr > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NINDOBRA','FGERAVERBA( ACODFOL[1656,1] , ROUND( nVlIndObr , 2), nFator','000013','000012','.EXE.','5','FGERAVERBA( ACODFOL[1656,1] , ROUND( nVlIndObr , 2), nFator )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0303    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0303( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','NVLGCOMI','CALCULA A GARANTIA DE COMISSAO','','','040','2','1',} )

aAdd(aRc3Cols, { '','S_','NVLGCOMI','CTIPOROT := FGETTIPOROT(CROT)','000001','000000','.EXE.','5','cTipoRot := fGetTipoRot(cRot)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','LCALCCOMIS := .F.','000002','000000','.EXE.','5','LCALCCOMIS := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CCATFUNC := FRETSR7(DDATADE, DDATAATE,LDISSIDIO )','000003','000000','.EXE.','5','cCatFunc := fRetSR7(dDataDe, dDataAte,LDISSIDIO )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CCATFUNC = "C"','000004','000000','.CON.','5','','','5','cCATFUNC = "C"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FPOSREG('+"'"+'RCE'+"'"+',1,XFILIAL('+"'"+'RCE'+"'"+')+SRA->RA_SINDICA) .AND. TYPE('+"'"+'','000005','000004','.CON.','5','','','5','fPosReg('+"'"+'RCE'+"'"+',1,xFilial('+"'"+'RCE'+"'"+')+SRA->RA_SINDICA) .AND. Type('+"'"+'RCE->RCE_GCOMIS'+"'"+') == "N" .AND. RCE->RCE_GCOMIS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','LCALCCOMIS := .T.','000006','000005','.EXE.','5','LCALCCOMIS := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CTIPOROT == "1" .AND. NDIASPG + DIASTRAB > 0','000007','000005','.CON.','5','','','5','cTipoRot == "1" .and. nDiasPg + DiasTrab > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS := FBUSCAPD(ACODFOL[165,1] + "," + ACODFOL[166,1],','000008','000007','.EXE.','5','nTotComis := FBUSCAPD(ACODFOL[165,1] + "," + ACODFOL[166,1],,cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NGCOMISPRO := 0    .CNT.','000009','000007','.EXE.','5','nGComisPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FPROPGCOMIS('+"'"+'2'+"'"+',@NGCOMISPRO)    .CNT.','000010','000007','.EXE.','5','fPropGComis('+"'"+'2'+"'"+',@nGComisPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC( '+"'"+'NTOTCOMIS < NGCOMISPRO'+"'"+', '+"'"+'FGERAVERBA(ACODFOL[347','000011','000007','.EXE.','5','fCondExec( '+"'"+'nTotComis < nGComisPro'+"'"+', '+"'"+'fGeraVerba(aCodFol[347,1], nGComisPro - nTotComis)'+"'"+', '+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CTIPOROT == "2" .AND. CALCULE == "S" .AND. !LINFORMADO','000012','000005','.CON.','5','','','5','cTipoRot == "2" .AND. CALCULE == "S" .AND. !LINFORMADO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS := 0    .CNT.','000013','000012','.EXE.','5','nTotComis := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FBSGCOMIS(APD, NTOTCOMIS, ACODFOL)    .CNT.','000014','000012','.EXE.','5','fBsGComis(aPd, nTotComis, aCodFol)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NGCOMISPRO := 0    .CNT.','000015','000012','.EXE.','5','nGComisPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FPROPGCOMIS('+"'"+'1'+"'"+',@NGCOMISPRO)    .CNT.','000016','000012','.EXE.','5','fPropGComis('+"'"+'1'+"'"+',@nGComisPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC( '+"'"+'NTOTCOMIS < ROUND(NGCOMISPRO * SRA->RA_PERCADT/1','000017','000012','.EXE.','5','fCondExec( '+"'"+'nTotComis < ROUND(nGComisPro * SRA->RA_PERCADT/100,2 )'+"'"+', '+"'"+'Val_Adto := ROUND(nGComisPro*SRA->RA_PERCADT/100,2)-nTotComis'+"'"+', '+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CTIPOROT == "3"','000018','000005','.CON.','5','','','5','cTipoRot == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS := FBUSCAPD(ACODFOL[72,1] + "," + ACODFOL[73,1] +','000019','000018','.EXE.','5','nTotComis := fBuscaPd(aCodFol[72,1] + "," + aCodFol[73,1] + "," + aCodFol[343,1] + "," + aCodFol[344,1],,cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS <= 0','000020','000018','.CON.','5','','','5','nTotComis <= 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS := FBUSCAPD(ACODFOL[72,1] + "," + ACODFOL[75,1] +','000021','000020','.EXE.','5','nTotComis := fBuscaPd(aCodFol[72,1] + "," + aCodFol[75,1] + "," + aCodFol[343,1] + "," + aCodFol[73,1] + "," + aCodFol[76,1] + "," + aCodFol[83,1] + "," + aCodFol[82,1] + "," + aCodFol[344,1],,cSemana)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NVLGCOMIS := ROUND( RCE->RCE_GCOMIS / NDIASC * GETMEMVAR('+"'"+'RH','000022','000018','.EXE.','5','nVlGComis := ROUND( RCE->RCE_GCOMIS / nDiasC * GETMEMVAR('+"'"+'RH_DFERIAS'+"'"+'),2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS < NVLGCOMIS','000023','000018','.CON.','5','','','5','nTotComis < nVlGComis','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NSALDCOM := ( NVLGCOMIS - NTOTCOMIS ) / GETMEMVAR('+"'"+'RH_DFERIA','000024','000023','.EXE.','5','nSalDCom := ( nVlGComis - nTotComis ) / GetMemVar('+"'"+'RH_DFERIAS'+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NDIASFM > 0','000025','000023','.CON.','5','','','5','nDiasFM > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NVFERIAS += FGERAVERBA(ACODFOL[72,1], NSALDCOM * NDIASFM ,ND','000026','000025','.EXE.','5','nVFerias += fGeraVerba(aCodFol[72,1], nSalDCom * nDiasFM ,nDiasFM,,,,,,,,.T.)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NDIASFMS > 0','000027','000023','.CON.','5','','','5','nDiasFMs > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NVFERIASMS += FGERAVERBA(ACODFOL[73,1], NSALDCOM * NDIASFMS,','000028','000027','.EXE.','5','nVFeriasMS += fGeraVerba(aCodFol[73,1], nSalDCom * nDiasFMs,nDiasFMs,,,,,,,,.T.,,,"1")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NDIASFMS1 > 0','000029','000023','.CON.','5','','','5','nDiasFMS1 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NVFERIASM3 += FGERAVERBA(ACODFOL[73,1], NSALDCOM * NDIASFMS1','000030','000029','.EXE.','5','nVFeriasM3 += fGeraVerba(aCodFol[73,1], nSalDCom * nDiasFMs1,nDiasFMs1,,,,,,,,.T.,,,"2")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NDIASABM > 0','000031','000023','.CON.','5','','','5','nDiasAbM > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NSALD1 := NSALDCOM','000032','000031','.EXE.','5','nSalD1 := nSalDCom','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NDIASABMS > 0','000033','000023','.CON.','5','','','5','nDiasAbMS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NSALD2 := NSALDCOM','000034','000033','.EXE.','5','nSalD2 := nSalDCom','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CTIPOROT == "4"','000035','000005','.CON.','5','','','5','cTipoRot == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS := FBUSCAPD(ACODFOL[121,1] + "," + ACODFOL[122,1]','000036','000035','.EXE.','5','nTotComis := FBUSCAPD(ACODFOL[121,1] + "," + ACODFOL[122,1] + "," + ACODFOL[165,1] + "," + ACODFOL[166,1],,cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NGCOMISPRO := 0    .CNT.','000037','000035','.EXE.','5','nGComisPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FPROPGCOMIS('+"'"+'2'+"'"+',@NGCOMISPRO)    .CNT.','000038','000035','.EXE.','5','fPropGComis('+"'"+'2'+"'"+',@nGComisPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC( '+"'"+'NTOTCOMIS < NGCOMISPRO'+"'"+', '+"'"+'FGERAVERBA(ACODFOL[347','000039','000035','.EXE.','5','fCondExec( '+"'"+'nTotComis < nGComisPro'+"'"+', '+"'"+'fGeraVerba(aCodFol[347,1], nGComisPro - nTotComis)'+"'"+', '+"'"+''+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','nTotComis := ( SALARIO + nAdtServ + nPeric + nInsalub + nMed','000040','000035','.EXE.','5','nTotComis := ( SALARIO + nAdtServ + nPeric + nInsalub + nMedFerp + NADCTRF + NADCCONF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NVLGCOMIS := IF(LMEDDIR, RCE->RCE_GCOMIS, ( RCE->RCE_GCOMIS','000041','000035','.EXE.','5','nVlGComis := If(lMedDir, RCE->RCE_GCOMIS, ( RCE->RCE_GCOMIS * GETMEMVAR('+"'"+'RG_DFERPRO'+"'"+') / aTabFer[3]))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC('+"'"+'NTOTCOMIS < NVLGCOMIS'+"'"+','+"'"+'NGCOMISFP := NVLGCOMIS','000042','000035','.EXE.','5','fCondExec('+"'"+'nTotComis < nVlGComis'+"'"+','+"'"+'NGCOMISFP := nVlGComis - nTotComis'+"'"+','+"'"+''+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','nTotComis := ( SALARIO + nAdtServ + nPeric + nInsalub + nMed','000043','000035','.EXE.','5','nTotComis := ( SALARIO + nAdtServ + nPeric + nInsalub + nMedFerv + NADCTRF + NADCCONF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC('+"'"+'NTOTCOMIS < RCE->RCE_GCOMIS'+"'"+', '+"'"+'NGCOMISFV := RCE->','000044','000035','.EXE.','5','fCondExec('+"'"+'nTotComis < RCE->RCE_GCOMIS'+"'"+', '+"'"+'NGCOMISFV := RCE->RCE_GCOMIS - nTotComis'+"'"+','+"'"+''+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','nTotComis := ( SALARIO  + nAdtServ + nPeric + nInsalub + nMe','000045','000035','.EXE.','5','nTotComis := ( SALARIO  + nAdtServ + nPeric + nInsalub + nMed13o + NADCTRF + NADCCONF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC('+"'"+'NTOTCOMIS < RCE->RCE_GCOMIS'+"'"+','+"'"+' NGCOMIS13 := RCE->','000046','000035','.EXE.','5','fCondExec('+"'"+'nTotComis < RCE->RCE_GCOMIS'+"'"+','+"'"+' NGCOMIS13 := RCE->RCE_GCOMIS - nTotComis'+"'"+','+"'"+''+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','nTotComis := ( SALARIO  + nAdtServ + nPeric + nInsalub + nMe','000047','000035','.EXE.','5','nTotComis := ( SALARIO  + nAdtServ + nPeric + nInsalub + nMedAviso + NADCTRF + NADCCONF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC('+"'"+'NTOTCOMIS < RCE->RCE_GCOMIS'+"'"+', '+"'"+'NGCOMISAV := RCE->','000048','000035','.EXE.','5','fCondExec('+"'"+'nTotComis < RCE->RCE_GCOMIS'+"'"+', '+"'"+'NGCOMISAV := RCE->RCE_GCOMIS - nTotComis'+"'"+','+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CTIPOROT == "5" .AND. NAVOS > 0 .AND. NANTEC13 == 0','000049','000005','.CON.','5','','','5','cTipoRot == "5" .AND. nAvos > 0 .AND. NANTEC13 == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS := FBUSCAPD(ACODFOL[22,1],,CSEMANA) + FBUSCAPD(ACO','000050','000049','.EXE.','5','nTotComis := FBUSCAPD(ACODFOL[22,1],,CSEMANA) + FBUSCAPD(ACODFOL[123,1],,CSEMANA) + FBUSCAPD(ACODFOL[1628,1],,CSEMANA) + NADTSERV + NPERIC + NINSALUB + NADCTRF + NADCCONF','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NGCOMISPRO := 0    .CNT.','000051','000049','.EXE.','5','nGComisPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FPROPGCOMIS('+"'"+'3'+"'"+',@NGCOMISPRO)    .CNT.','000052','000049','.EXE.','5','fPropGComis('+"'"+'3'+"'"+',@nGComisPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','n13Sal := If(nTotComis < Round(nGComisPro * nPercentual,2),','000053','000049','.EXE.','5','n13Sal := If(nTotComis < Round(nGComisPro * nPercentual,2), Round(nGComisPro * nPercentual,2), Round(nTotComis,2))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC('+"'"+'NTOTCOMIS < ROUND(NGCOMISPRO * NPERCENTUAL,2)'+"'"+', '+"'"+'','000054','000049','.EXE.','5','fCondExec('+"'"+'nTotComis < ROUND(nGComisPro * nPercentual,2)'+"'"+', '+"'"+'fGeraVerba(aCodFol[22,1], ROUND(nGComisPro * nPercentual,2)-nTotComis,nAvos*nPercentual,cSemana,,,,,,, .T. )'+"'"+','+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CTIPOROT == "6" .AND. NAVOS > 0','000055','000005','.CON.','5','','','5','cTipoRot == "6" .AND. nAvos > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','aPdAux := {}     .CNT.','000056','000055','.EXE.','5','aPdAux := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS := 0    .CNT.','000057','000055','.EXE.','5','nTotComis := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NAO DEVE CONSIDERAR A MEDIA SOBRE HORAS     .CNT.','000058','000055','.MSG.','5','NAO DEVE CONSIDERAR A MEDIA SOBRE HORAS','','5','','','5','','.CNT.','PMSTASK2','PMSTASK2',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','aEval( aPd, { |x| If( !(x[1] $ aCodfol[0124,1]), aAdd(aPdAux','000059','000055','.EXE.','5','aEval( aPd, { |x| If( !(x[1] $ aCodfol[0124,1]), aAdd(aPdAux, aClone(X)), Nil ) } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','fBsGComis(aPdAux, nTotComis, aCodFol)     .CNT.','000060','000055','.EXE.','5','fBsGComis(aPdAux, nTotComis, aCodFol)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NGCOMISPRO := 0    .CNT.','000061','000055','.EXE.','5','nGComisPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FPROPGCOMIS('+"'"+'3'+"'"+',@NGCOMISPRO)    .CNT.','000062','000055','.EXE.','5','fPropGComis('+"'"+'3'+"'"+',@nGComisPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FCONDEXEC('+"'"+'NTOTCOMIS < NGCOMISPRO'+"'"+', '+"'"+'FGERAVERBA(ACODFOL[24,1','000063','000055','.EXE.','5','fCondExec('+"'"+'nTotComis < nGComisPro'+"'"+', '+"'"+'fGeraVerba(aCodFol[24,1], nGComisPro - nTotComis ,nAvos*nPercentual,cSemana,,,,,,, .T.)'+"'"+','+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CTIPOROT == "I"','000064','000005','.CON.','5','','','5','cTipoRot == "I"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NTOTCOMIS := FBUSCAPD(ACODFOL[165,1] + "," + ACODFOL[166,1],','000065','000064','.EXE.','5','nTotComis := FBUSCAPD(ACODFOL[165,1] + "," + ACODFOL[166,1],,cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','NGCOMISPRO := 0','000066','000064','.EXE.','5','nGComisPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','FPROPGCOMIS('+"'"+'2'+"'"+',@NGCOMISPRO)','000067','000064','.EXE.','5','fPropGComis('+"'"+'2'+"'"+',@nGComisPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','SALMES := MAX(SALMES,NTOTCOMIS)','000068','000064','.EXE.','5','SalMes := Max(SalMes,nTotComis)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','SALMES := MAX(SALMES,NGCOMISPRO)','000069','000064','.EXE.','5','SalMes := Max(SalMes,nGComisPro)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','LCALCCOMIS # .T. .AND. VAL_ADTO == 0','000070','000004','.CON.','5','','','5','LCALCCOMIS # .T. .AND. VAL_ADTO == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGCOMI','CALCULE := "N"     .END.','000071','000070','.EXE.','5','CALCULE := "N"','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0304    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0304( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','NVLGTARE','CALCULA A GARANTIA DE TAREFAS','','','021','2','1',} )

aAdd(aRc3Cols, { '','S_','NVLGTARE','CTIPOROT := FGETTIPOROT(CROT)','000001','000000','.EXE.','5','cTipoRot := fGetTipoRot(cRot)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','SRA->RA_CATFUNC == "T"','000002','000000','.CON.','5','','','5','SRA->RA_CATFUNC == "T"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA := 0','000003','000002','.EXE.','5','nTotTarefa := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','AEVAL( ATAREFAS,{ |X| NTOTTAREFA += X[2] } )','000004','000002','.EXE.','5','AeVal( aTarefas,{ |X| nTotTarefa += X[2] } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA += FBUSCAPD(ACODFOL[33,1],,CSEMANA)','000005','000002','.EXE.','5','nTotTarefa += fBuscaPD(aCodFol[33,1],,cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','ACODFOL[652,1] # SPACE(3)','000006','000002','.CON.','5','','','5','aCodFol[652,1] # SPACE(3)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','fPosReg( "RCE", 1, xFilial("RCE", SRA->RA_FILIAL)+SRA->RA_SI','000007','000006','.EXE.','5','fPosReg( "RCE", 1, xFilial("RCE", SRA->RA_FILIAL)+SRA->RA_SINDICA )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NVLRPISO := MAX( VAL_SALMIN, RCE->RCE_PISO )','000008','000006','.EXE.','5','nVlrPiso := Max( Val_SalMin, RCE->RCE_PISO )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','CTIPOROT == "2" .AND. CALCULE == "S" .AND. VAL_ADTO < ROUND(','000009','000006','.CON.','5','','','5','cTipoRot == "2" .AND. Calcule == "S" .AND. Val_Adto < ROUND(nVlrPiso*SRA->RA_PERCADT/100,2 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','VAL_ADTO += ROUND(NVLRPISO*SRA->RA_PERCADT/100,2)-VAL_ADTO','000010','000009','.EXE.','5','Val_Adto += ROUND(nVlrPiso*SRA->RA_PERCADT/100,2)-Val_Adto','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','CTIPOROT == "1" .AND. NDIASPG + DIASTRAB > 0','000011','000006','.CON.','5','','','5','cTipoRot == "1" .and. nDiasPg + DiasTrab > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NGTARPRO := 0','000012','000011','.EXE.','5','nGTarPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FPROPGTAR('+"'"+'2'+"'"+',@NGTARPRO)','000013','000011','.EXE.','5','fPropGTar('+"'"+'2'+"'"+',@nGTarPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC( '+"'"+'NTOTTAREFA < NGTARPRO'+"'"+', '+"'"+'FGERAVERBA(ACODFOL[652,','000014','000011','.EXE.','5','fCondExec( '+"'"+'nTotTarefa < nGTarPro'+"'"+', '+"'"+'fGeraVerba(aCodFol[652,1], nGTarPro - nTotTarefa)'+"'"+', '+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','CTIPOROT == "3"','000015','000006','.CON.','5','','','5','cTipoRot == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA := 0','000016','000015','.EXE.','5','nTotTarefa := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NVLGTAREFA := ROUND( NVLRPISO / NDIASC * GETMEMVAR('+"'"+'RH_DFE','000017','000015','.EXE.','5','nVlGTarefa := ROUND( nVlrPiso / nDiasC * GETMEMVAR('+"'"+'RH_DFERIAS'+"'"+'),2)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC( '+"'"+'NTOTTAREFA < NVLGTAREFA'+"'"+', '+"'"+'FGERAVERBA(ACODFOL[72','000018','000015','.EXE.','5','fCondExec( '+"'"+'nTotTarefa < nVlGTarefa'+"'"+', '+"'"+'fGeraVerba(aCodFol[72,1], nVlGTarefa - nTotTarefa ,,,,,,,,,.T.)'+"'"+','+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','CTIPOROT == "4"','000019','000006','.CON.','5','','','5','cTipoRot == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA := 0','000020','000019','.EXE.','5','nTotTarefa := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','AEVAL( ATAREFAS,{ |X| NTOTTAREFA += X[2] } )','000021','000019','.EXE.','5','AeVal( aTarefas,{ |X| nTotTarefa += X[2] } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA += FBUSCAPD(ACODFOL[33,1],,CSEMANA)','000022','000019','.EXE.','5','nTotTarefa += FBUSCAPD(ACODFOL[33,1],,cSemana)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NGTARPRO := 0','000023','000019','.EXE.','5','nGTarPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FPROPGTAR('+"'"+'2'+"'"+',@NGTARPRO)','000024','000019','.EXE.','5','fPropGTar('+"'"+'2'+"'"+',@nGTarPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC( '+"'"+'NTOTTAREFA < NGTARPRO'+"'"+', '+"'"+'FGERAVERBA(ACODFOL[652,','000025','000019','.EXE.','5','fCondExec( '+"'"+'nTotTarefa < nGTarPro'+"'"+', '+"'"+'fGeraVerba(aCodFol[652,1], nGTarPro - nTotTarefa)'+"'"+', '+"'"+''+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA := ( SALARIO + NADTSERV + NPERIC + NINSALUB + NME','000026','000019','.EXE.','5','nTotTarefa := ( SALARIO + nAdtServ + nPeric + nInsalub + nMedFerp + NADCTRF + NADCCONF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NVLGTAREFA := IF( LMEDDIR, NVLRPISO, ( NVLRPISO * GETMEM','000027','000019','.EXE.','5','nVlGTarefa := If( lMedDir, nVlrPiso, ( nVlrPiso * GETMEMVAR('+"'"+'RG_DFERPRO'+"'"+') ) / aTabFer[3])','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC('+"'"+'NTOTTAREFA < NVLGTAREFA'+"'"+','+"'"+'NGTAREFFP := NVLGTAREFA','000028','000019','.EXE.','5','fCondExec('+"'"+'nTotTarefa < nVlGTarefa'+"'"+','+"'"+'NGTAREFFP := nVlGTarefa - nTotTarefa'+"'"+','+"'"+''+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA := ( SALARIO + NADTSERV + NPERIC + NINSALUB + NME','000029','000019','.EXE.','5','nTotTarefa := ( SALARIO + nAdtServ + nPeric + nInsalub + nMedFerv + NADCTRF + NADCCONF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NVLGTAREFA := NVLRPISO','000030','000019','.EXE.','5','nVlGTarefa := nVlrPiso','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC('+"'"+'NTOTTAREFA < NVLGTAREFA'+"'"+','+"'"+'NGTAREFFV := NVLGTAREFA','000031','000019','.EXE.','5','fCondExec('+"'"+'nTotTarefa < nVlGTarefa'+"'"+','+"'"+'NGTAREFFV := nVlGTarefa - nTotTarefa'+"'"+','+"'"+''+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA := ( SALARIO + NADTSERV + NPERIC + NINSALUB + NME','000032','000019','.EXE.','5','nTotTarefa := ( SALARIO + nAdtServ + nPeric + nInsalub + nMed13o + NADCTRF + NADCCONF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC('+"'"+'NTOTTAREFA < NVLGTAREFA'+"'"+','+"'"+'NGTAREF13 := NVLGTAREFA','000033','000019','.EXE.','5','fCondExec('+"'"+'nTotTarefa < nVlGTarefa'+"'"+','+"'"+'NGTAREF13 := nVlGTarefa - nTotTarefa'+"'"+','+"'"+''+"'"+')','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NTOTTAREFA := ( SALARIO + NADTSERV + NPERIC + NINSALUB + NME','000034','000019','.EXE.','5','nTotTarefa := ( SALARIO + nAdtServ + nPeric + nInsalub + nMedAviso + NADCTRF + NADCCONF )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC('+"'"+'NTOTTAREFA < NVLGTAREFA'+"'"+','+"'"+'NGTAREFAV := NVLGTAREFA','000035','000019','.EXE.','5','fCondExec('+"'"+'nTotTarefa < nVlGTarefa'+"'"+','+"'"+'NGTAREFAV := nVlGTarefa - nTotTarefa'+"'"+','+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','CTIPOROT == "5" .AND. NAVOS > 0','000036','000006','.CON.','5','','','5','cTipoRot == "5" .AND. nAvos > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','AEVAL( APD ,{ |X|  SOMAINC(X,1,@NTOTTAREFA, , , , , , ,ACODF','000037','000036','.EXE.','5','Aeval( aPd ,{ |X|  SomaInc(X,1,@nTotTarefa, , , , , , ,aCodFol) })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NGTARPRO := 0','000038','000036','.EXE.','5','nGTarPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FPROPGTAR('+"'"+'3'+"'"+',@NGTARPRO)','000039','000036','.EXE.','5','fPropGTar('+"'"+'3'+"'"+',@nGTarPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','N13SAL := IF(NTOTTAREFA < ROUND(NGTARPRO * NPERCENTUAL,2),RO','000040','000036','.EXE.','5','n13Sal := If(nTotTarefa < Round(nGTarPro * nPercentual,2),Round(nGTarPro * nPercentual,2),n13Sal)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC('+"'"+'NTOTTAREFA < ROUND(NGTARPRO * NPERCENTUAL,2)'+"'"+', '+"'"+'F','000041','000036','.EXE.','5','fCondExec('+"'"+'nTotTarefa < ROUND(nGTarPro * nPercentual,2)'+"'"+', '+"'"+'fGeraVerba(aCodFol[22,1], ROUND(nGTarPro * nPercentual,2)-nTotTarefa,,,,,,,,, .T. )'+"'"+','+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','CTIPOROT == "6" .AND. NAVOS > 0','000042','000006','.CON.','5','','','5','cTipoRot == "6" .AND. nAvos > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','AEVAL( APD ,{ |X|  SOMAINC(X,1,@NTOTTAREFA, , , , , , ,ACODF','000043','000042','.EXE.','5','Aeval( aPd ,{ |X|  SomaInc(X,1,@nTotTarefa, , , , , , ,aCodFol) })','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NGTARPRO := 0','000044','000042','.EXE.','5','nGTarPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FPROPGTAR('+"'"+'3'+"'"+',@NGTARPRO)','000045','000042','.EXE.','5','fPropGTar('+"'"+'3'+"'"+',@nGTarPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FCONDEXEC('+"'"+'NTOTTAREFA < NGTARPRO'+"'"+', '+"'"+'FGERAVERBA(ACODFOL[24,1]','000046','000042','.EXE.','5','fCondExec('+"'"+'nTotTarefa < nGTarPro'+"'"+', '+"'"+'fGeraVerba(aCodFol[24,1], nGTarPro-nTotTarefa ,,,,,,,,, .T.)'+"'"+','+"'"+''+"'"+')','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','CTIPOROT == "I"','000047','000006','.CON.','5','','','5','cTipoRot == "I"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','NGTARPRO := 0','000048','000047','.EXE.','5','nGTarPro := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','FPROPGTAR('+"'"+'2'+"'"+',@NGTARPRO)','000049','000047','.EXE.','5','fPropGTar('+"'"+'2'+"'"+',@nGTarPro)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','SALMES := MAX(SALMES,NTOTTAREFA)','000050','000047','.EXE.','5','SalMes := Max(SalMes,nTotTarefa)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','NVLGTARE','SALMES := MAX(SALMES,NGTARPRO)','000051','000047','.EXE.','5','SalMes := Max(SalMes,ngTarPro)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0305    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0305( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PARPROF','Variavel Sem/DSR/Hs.Atividade','','','008','2','1',} )

aAdd(aRc3Cols, { '','S_','PARPROF','APARPROF := {}','000001','000000','.EXE.','5','aParProf := {}','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PARPROF','(SRA->RA_CATFUNC $ "I*J")','000002','000000','.CON.','','','','6','(SRA->RA_CATFUNC $ "I*J")','','','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PARPROF','aParProf := fParProf()','000003','000002','.EXE.','6','aParProf := fParProf()','','','','','','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0306    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0306( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PDMEDAFA','VERB. P/MEDIAS AFAST.','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','PDMEDAFA','CVBMEDAFAS := ACODFOL[165,1]+"/"+ACODFOL[166,1]','000001','000000','.EXE.','5','cVbMedAfas := aCodFol[165,1]+"/"+aCodFol[166,1]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0307    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0307( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PERMES','GERA PERICULOSID.MENSAL','','','013','2','1',} )

aAdd(aRc3Cols, { '','S_','PERMES','ASCAN(APERIC,{|X| X[1] }) > 0','000001','000000','.CON.','5','','','5','aScan(aPeric,{|x| x[1] }) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PERMES','NINTPERCUL := NPERIC := 0','000002','000001','.EXE.','5','nIntPercul := nPeric := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PERMES','AEVAL(APERIC, {|X| NINTPERCUL += X[8], NPERIC += IF(X[4] $ "','000003','000001','.EXE.','5','aEval(aPeric, {|x| nIntPercul += x[8], nPeric += If(x[4] $ "2*6*7*8" .and. !P_RESADISB, x[8], x[7]) })','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PERMES','EMPTY(CVERBAROT)','000004','000000','.CON.','5','','','5','Empty(cVerbaRot)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PERMES','CVERBAROT := FGETCODFOL("0673")','000005','000004','.EXE.','5','cVerbaRot := fGetCodFol("0673")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PERMES','!EMPTY(CVERBAROT) .AND. NINTPERCUL > 0 .AND. LULTSEMANA','000006','000000','.CON.','5','','','5','!Empty(cVerbaRot) .And. nIntPercul > 0 .And. lUltSemana','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PERMES','FGERAVERBA(CVERBAROT,NINTPERCUL)','000007','000006','.EXE.','5','fGeraVerba(cVerbaRot,nIntPercul)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0308    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0308( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PGSALMAT','Variavel p/Definir Pagto.Sal.Maternidade','','','004','2','1',} )

aAdd(aRc3Cols, { '','S_','PGSALMAT','cPgSalMat := fPgMater()','000001','000000','.EXE.','6','cPgSalMat := fPgMater()','','','','','','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0309    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0309( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PLANTAOI','CALCULO DO PLANTAO INDENIZADO - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','PLANTAOI','cVb1337 := fGetCodFol("1337")     .CNT.','000001','000000','.EXE.','5','cVb1337 := fGetCodFol("1337")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','nVlTot := 0     .CNT.','000002','000000','.EXE.','5','nVlTot := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','aRet := FRIARET(cVb1337 , dDataDe , If(cTipoRot == "4" , sto','000003','000000','.EXE.','5','aRet := FRIARET(cVb1337 , dDataDe , If(cTipoRot == "4" , stod("99991231") , dDataAte) )  /*FUNCAO QUE MONTA O ARRAY DA RIA COM BASE NA VERBA PASSADA NO PARAMETRO */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','nVlBase := TabSalIni(SRA->RA_TABELA,dDataAte,.T.) /* VERIFIC','000004','000000','.EXE.','5','nVlBase := TabSalIni(SRA->RA_TABELA,dDataAte,.T.) /* VERIFICA A TABELA DO NIVEL ELEMENTAR */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','POSSRV(CVB1337, SRA->RA_FILIAL, "RV_BASCAL") == "2"','000005','000000','.CON.','5','','','5','POSSRV(CVB1337, SRA->RA_FILIAL, "RV_BASCAL") == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','NVLBASE := SALMES','000006','000005','.EXE.','5','NVLBASE := SALMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','i := 1     .CNT.','000007','000000','.EXE.','5','i := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','i <= Len(aRet)   .END.','000008','000000','.ENQ.','5','','','5','i <= Len(aRet)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','nVlTot += ( nVlBase / 30 ) * aRet[i][4] /* DIAS INDENIZADOS','000009','000008','.EXE.','5','nVlTot += ( nVlBase / 30 ) * aRet[i][4] /* DIAS INDENIZADOS */','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','nDias := aRet[i][4]     .CNT.','000010','000008','.EXE.','5','nDias := aRet[i][4]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','i++     .END.','000011','000008','.EXE.','5','i++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','( NVLTOT > 0 .AND.  ( ASCAN(APD, {|X| X[1] == CVB1337 .AND','000012','000000','.CON.','5','','','5','( NVLTOT > 0 .AND.  ( ASCAN(APD, {|X| X[1] == CVB1337 .AND. X[7] == "I"}) == 0)  )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','NCOUNT := 1     .CNT.','000013','000012','.EXE.','5','NCOUNT := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','NITENS := 0     .CNT.','000014','000012','.EXE.','5','NITENS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','(NCOUNT <= LEN(APD))   .END.','000015','000012','.ENQ.','5','','','5','(NCOUNT <= LEN(APD))','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','( APD[NCOUNT][1] == CVB1337 .AND. APD[NCOUNT][9]  <> "D")','000016','000015','.CON.','5','','','5','( APD[NCOUNT][1] == CVB1337 .AND. APD[NCOUNT][9]  <> "D")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','NITENS++     .END.','000017','000016','.EXE.','5','NITENS++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','NCOUNT++     .END.','000018','000015','.EXE.','5','NCOUNT++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','NSEQ := STR(NITENS + 1 , 1 )     .CNT.','000019','000012','.EXE.','5','NSEQ := STR(NITENS + 1 , 1 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLANTAOI','FGERAVERBA(CVB1337,ROUND(NVLTOT, MSDECIMAIS(1)),NDIAS,,,,,,,','000020','000012','.EXE.','5','FGERAVERBA(CVB1337,ROUND(NVLTOT, MSDECIMAIS(1)),NDIAS,,,,,,,,,,,NSEQ,,,,,,,,)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0310    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0310( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PLAPROP','PROPORCIONALIZA CALCULO PLA','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','PLAPROP','PROPPLA()','000001','000000','.EXE.','5','PropPLA()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0311    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0311( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PLRACUM','BUSCA VALORES DE PLR NOS ACUMULADOS','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','PLRACUM','CANOPLR := ASIND[1,8]+"0101"','000001','000000','.EXE.','5','CANOPLR := ASIND[1,8]+"0101"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRACUM','CFIMPLR := ASIND[1,8]+"1231"','000002','000000','.EXE.','5','CFIMPLR := ASIND[1,8]+"1231"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRACUM','FP_CODFOL(@ACODFOL,XFILIAL("SRA"))     .CNT.','000003','000000','.EXE.','5','FP_CODFOL(@ACODFOL,XFILIAL("SRA"))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRACUM','CVERBAS := ACODFOL[VAL("151"),1]+"/"+ACODFOL[VAL("152"),1]+"','000004','000000','.EXE.','5','CVERBAS := ACODFOL[VAL("151"),1]+"/"+ACODFOL[VAL("152"),1]+"/"+P_PDBIRPLR','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRACUM','APDACUM:= FBUSCAACMPER(CVERBAS, "", "V", , , CANOPLR, CANOPL','000005','000000','.EXE.','5','APDACUM:= FBUSCAACMPER(CVERBAS, "", "V", , , CANOPLR, CANOPLR, " ", "  ", ('+"'"+'F'+"'"+') , .T. , .F., CANOPLR )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0312    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0312( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PLRRCE','CARREGA DADOS DO SINDICATO','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','PLRRCE','LSINDOK := !EMPTY(SRA->RA_SINDICA)','000001','000000','.EXE.','5','lSindOk := !Empty(SRA->RA_SINDICA)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRRCE','LSINDOK','000002','000000','.CON.','5','','','5','lSindOK','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PLRRCE','LSINDOK := FCARGARCE()','000003','000002','.EXE.','5','lSindOk := fCargaRCE()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRRCE','!LSINDOK','000004','000000','.CON.','5','','','5','!lSindOK','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PLRRCE','NOPRCREG()','000005','000004','.EXE.','5','NOPRCREG()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0313    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0313( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PLRRG1','CARREGA LANCAMENTOS FIXOS','','','008','2','1',} )

aAdd(aRc3Cols, { '','S_','PLRRG1','FCARGARG1(SRA->RA_FILIAL, SRA->RA_MAT, CROT, DDATADE, DDATAA','000001','000000','.EXE.','5','fCargaRG1(SRA->RA_FILIAL, SRA->RA_MAT, cRot, DDATADE, DDATAATE)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0314    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0314( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PLRRGB','CARREGA LANCAMENTOS','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','PLRRGB','FCARMVTO(SRA->RA_FILIAL,SRA->RA_MAT,CSEMANA,CPROCESSO,CPERIO','000001','000000','.EXE.','5','fCarMvto(SRA->RA_FILIAL,SRA->RA_MAT,cSemana,cProcesso,cPeriodo,cRot,cNumPag)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0315    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0315( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PLRSAL','CARREGA SALARIO BASE','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','PLRSAL','FSALBASPLR()','000001','000000','.EXE.','5','fSalBasPLR()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0316    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0316( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PLRTAB','CARREGA TABELAS PARA PLR','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','PLRTAB','APD := {}','000001','000000','.EXE.','5','APD := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRTAB','LTABELAS := .T.','000002','000000','.EXE.','5','LTABELAS := .T.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRTAB','CFILCALC <> SRA->RA_FILIAL','000003','000000','.CON.','5','','','5','CFILCALC <> SRA->RA_FILIAL','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PLRTAB','CFILCALC := SRA->RA_FILIAL','000004','000003','.EXE.','5','CFILCALC := SRA->RA_FILIAL','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRTAB','LTABELAS := .F.','000005','000003','.EXE.','5','LTABELAS := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRTAB','CARIRPLR(@ATABIRPLR,CANOMES) .AND.  SAL_MIN(@VAL_SALMIN,CANO','000006','000003','.CON.','5','','','5','CARIRPLR(@ATABIRPLR,CANOMES) .AND.  Sal_Min(@Val_SalMin,CANOMES) .AND. FP_CODFOL(@ACODFOL,SRA->RA_FILIAL)   .AND. fCarPdCalc()','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PLRTAB','LTABELAS := .T.','000007','000006','.EXE.','5','LTABELAS := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PLRTAB','!LTABELAS','000008','000003','.CON.','5','','','5','!LTABELAS','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PLRTAB','FINALCALC()','000009','000008','.EXE.','5','FINALCALC()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0317    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0317( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PMULCONT','CALCULO VALOR MULTA CONTRATO DETERMINADO','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','PMULCONT','DEMITIDO ANTES DO TERMINO ?','000001','000000','.CON.','5','','','5','aIncRes[19] <> "   " .And. SRA->RA_DTFIMCT > dDataDem','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PMULCONT','CALCULA MULTA','000002','000001','.EXE.','5','fPagMultConEx(1,.T.)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0318    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0318( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PMULEXP1','PAGAMENTO MULTA CONTRATO EXPERIENCIA','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','PMULEXP1','!EMPTY(ACODFOL[176,1]) .AND. AINCRES[12] == "S"','000001','000000','.CON.','5','','','5','!Empty(aCodfol[176,1]) .and. aIncRes[12] == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PMULEXP1','FPAGMULTCONEX(1)','000002','000001','.EXE.','5','fPagMultConEx(1)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0319    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0319( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PMULEXP2','PAGAMENTO MULTA CONTRATO EXPERIENCIA 2','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','PMULEXP2','!EMPTY(ACODFOL[176,1]) .AND. AINCRES[12] == "S"','000001','000000','.CON.','5','','','5','!Empty(aCodfol[176,1]) .and. aIncRes[12] == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PMULEXP2','FPAGMULTCONEX(2)','000002','000001','.EXE.','5','fPagMultConEx(2)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0320    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0320( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PROCSRF','PROCESSA INFORMACOES DE SRF - GFP','','','003','2','1',} )

aAdd(aRc3Cols, { '','S_','PROCSRF','nApdCount := 0     .END.','000001','000000','.EXE.','5','nApdCount := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','SRF->(DbSetOrder( RetOrder( "SRF", "RF_FILIAL+RF_MAT+DTOS(RF','000002','000000','.EXE.','5','SRF->(DbSetOrder( RetOrder( "SRF", "RF_FILIAL+RF_MAT+DTOS(RF_DATABAS)")))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','SRF->(DbSeek( SRA->( RA_FILIAL + RA_MAT ) ))     .CNT.','000003','000000','.EXE.','5','SRF->(DbSeek( SRA->( RA_FILIAL + RA_MAT ) ))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','SRF->(!Eof()) .AND. SRA->( RA_FILIAL + RA_MAT ) == SRF->(R','000004','000000','.ENQ.','5','','','5','SRF->(!Eof()) .AND. SRA->( RA_FILIAL + RA_MAT ) == SRF->(RF_FILIAL + RF_MAT)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','cSTATUS := SRF->RF_STATUS     .CNT.','000005','000004','.EXE.','5','cSTATUS := SRF->RF_STATUS','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','cSTATUS $ " 01"   .END.','000006','000004','.CON.','5','','','5','cSTATUS $ " 01"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','cPDsrf := SRF->RF_PD     .CNT.','000007','000006','.EXE.','5','cPDsrf := SRF->RF_PD','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','aVetor := LISTS106("", SRA->RA_CATFUNC, SRA->RA_REGIME, cPDs','000008','000006','.EXE.','5','aVetor := LISTS106("", SRA->RA_CATFUNC, SRA->RA_REGIME, cPDsrf)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','Len(aVetor) > 0   .END.','000009','000006','.CON.','5','','','5','Len(aVetor) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','aVetor[01,09] == "1" /* Troca Desc por Indeniz */   .END.','000010','000009','.CON.','5','','','5','aVetor[01,09] == "1" /* Troca Desc por Indeniz */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','cPDsrf := aVetor[01,14]     .CNT.','000011','000010','.EXE.','5','cPDsrf := aVetor[01,14]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','dDATABAS := SRF->RF_DATABAS     .CNT.','000012','000010','.EXE.','5','dDATABAS := SRF->RF_DATABAS','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','dDATAFIM := SRF->RF_DATAFIM     .CNT.','000013','000010','.EXE.','5','dDATAFIM := SRF->RF_DATAFIM','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nDIASDIR := SRF->RF_DIASDIR     .CNT.','000014','000010','.EXE.','5','nDIASDIR := SRF->RF_DIASDIR','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nDIASPRG := SRF->RF_DIASPRG     .CNT.','000015','000010','.EXE.','5','nDIASPRG := SRF->RF_DIASPRG','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nDIREMAN := SRF->RF_DIREMAN     .CNT.','000016','000010','.EXE.','5','nDIREMAN := SRF->RF_DIREMAN','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nDFERVAT := SRF->RF_DFERVAT     .CNT.','000017','000010','.EXE.','5','nDFERVAT := SRF->RF_DFERVAT','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nDFERAAT := SRF->RF_DFERAAT     .CNT.','000018','000010','.EXE.','5','nDFERAAT := SRF->RF_DFERAAT','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nDFALVAT := SRF->RF_DFALVAT     .CNT.','000019','000010','.EXE.','5','nDFALVAT := SRF->RF_DFALVAT','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nDFALAAT := SRF->RF_DFALAAT     .CNT.','000020','000010','.EXE.','5','nDFALAAT := SRF->RF_DFALAAT','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','aScan(aPd,{|X| x[1] == cPDsrf .and. x[7] <> "I" .and. x[9]','000021','000010','.CON.','5','','','5','aScan(aPd,{|X| x[1] == cPDsrf .and. x[7] <> "I" .and. x[9] <> "D"}) == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nSLDhrs := 0     .CNT.','000022','000021','.EXE.','5','nSLDhrs := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nSLDvlr := 0     .CNT.','000023','000021','.EXE.','5','nSLDvlr := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','lOK := ((nDFERVAT + nDFERAAT) > 0)   .END.','000024','000021','.CON.','5','','','5','lOK := ((nDFERVAT + nDFERAAT) > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nSLDhrs := (nDFERVAT + nDFERAAT) - nDIASPRG     .END.','000025','000024','.EXE.','5','nSLDhrs := (nDFERVAT + nDFERAAT) - nDIASPRG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','!lOK   .END.','000026','000021','.CON.','5','','','5','!lOK','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nSLDhrs := nDIASDIR - nDIASPRG     .END.','000027','000026','.EXE.','5','nSLDhrs := nDIASDIR - nDIASPRG','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nSLDvlr := nSLDhrs * SALDIA     .CNT.','000028','000021','.EXE.','5','nSLDvlr := nSLDhrs * SALDIA','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','nSLDvlr > 0   .END.','000029','000021','.CON.','5','','','5','nSLDvlr > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','AEval(aPD, { | x | IIf( x[1] == cPDsrf .AND. x[9] <> "D", nA','000030','000029','.EXE.','5','AEval(aPD, { | x | IIf( x[1] == cPDsrf .AND. x[9] <> "D", nApdCount++, )} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','CSEQ := iif(nApdCount > 0, ALLTRIM(STR(nApdCount))," ")','000031','000029','.EXE.','5','CSEQ := iif(nApdCount > 0, ALLTRIM(STR(nApdCount))," ")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','FGeraVerba(cPDsrf,ROUND(nSLDvlr, MSDECIMAIS(1)),nSLDhrs,,,,,','000032','000029','.EXE.','5','FGeraVerba(cPDsrf,ROUND(nSLDvlr, MSDECIMAIS(1)),nSLDhrs,,,,,,,,,,,cSeq)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROCSRF','SRF->(DBSKIP())     .END.','000033','000004','.EXE.','5','SRF->(DBSKIP())','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0321    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0321( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PROPBENR','PROPORCIONALIZA BENEFICIOS NA RESCISÃO','','','014','2','1',} )

aAdd(aRc3Cols, { '','S_','PROPBENR','!EMPTY(AINCRES[21])','000001','000000','.CON.','5','','','5','!Empty(aIncRes[21])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','CDESCBEN := P_DESCBEN','000002','000001','.EXE.','5','cDescBen := P_DESCBEN','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','ABENEFRES := ARRAY(3)','000003','000001','.EXE.','5','aBenefRes := Array(3)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','ABENEFANT  := {{},{},{}}','000004','000001','.EXE.','5','aBenefAnt := {{},{},{}}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','"T" $ AINCRES[21] .AND. !EMPTY(ACODFOL[1896,1])','000005','000001','.CON.','5','','','5','"T" $ aIncRes[21] .and. !Empty(aCodFol[1896,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','FPROPBENRES(@ABENEFANT,@ABENEFRES,CDESCBEN,"VT")','000006','000005','.EXE.','5','fPropBenRES(@aBenefAnt,@aBenefRes,cDescBen,"VT")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','"R" $ AINCRES[21]  .AND. !EMPTY(ACODFOL[1897,1])','000007','000001','.CON.','5','','','5','"R" $ aIncRes[21]  .and. !Empty(aCodFol[1897,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','FPROPBENRES(@ABENEFANT,@ABENEFRES,CDESCBEN,"VR")','000008','000007','.EXE.','5','fPropBenRES(@aBenefAnt,@aBenefRes,cDescBen,"VR")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','"A" $ AINCRES[21]  .AND. !EMPTY(ACODFOL[1898,1])','000009','000001','.CON.','5','','','5','"A" $ aIncRes[21]  .and. !Empty(aCodFol[1898,1])','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','FPROPBENRES(@ABENEFANT,@ABENEFRES,CDESCBEN,"VA")','000010','000009','.EXE.','5','fPropBenRES(@aBenefAnt,@aBenefRes,cDescBen,"VA")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','NPOSLIQ := ASCAN( APD,{|X| X[1] == ACODFOL[126,1] .AND. X[9]','000011','000001','.EXE.','5','nPosLiq := aScan( aPD,{|x| x[1] == aCodfol[126,1] .And. x[9] != "D" } )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','NTIPO := 1','000012','000001','.EXE.','5','nTipo := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','ATIPO := {"VT","VR","VA"}','000013','000001','.EXE.','5','aTipo := {"VT","VR","VA"}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','AVERBA := {1896,1897,1898}','000014','000001','.EXE.','5','aVerba := {1896,1897,1898}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','NTIPO <= 3','000015','000001','.ENQ.','5','','','5','nTipo <= 3','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','( ABENEFRES[NTIPO] <> NIL .AND. LEN(ABENEFRES[NTIPO]) > 0 )','000016','000015','.CON.','5','','','5','( aBenefRes[nTipo] <> Nil .and. Len(aBenefRes[nTipo]) > 0 ) .or. (aTipo[nTipo] $ cDescBen)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','NVALBENANT  := 0','000017','000016','.EXE.','5','nValBenAnt 	:= 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','NVALBENATU  := 0','000018','000016','.EXE.','5','nValBenAtu 	:= 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','AEVAL(ABENEFANT[NTIPO], {|X| NVALBENANT += X[3]})','000019','000016','.EXE.','5','aEval(aBenefAnt[nTipo], {|x| nValBenAnt += x[3]})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','ABENEFRES[NTIPO] <> NIL','000020','000016','.CON.','5','','','5','aBenefRes[nTipo] <> Nil','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','AEVAL(ABENEFRES[NTIPO], {|X| NVALBENATU += X[6]})','000021','000020','.EXE.','5','aEval(aBenefRes[nTipo], {|x| nValBenAtu += x[6]})','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','NVALBENANT - NVALBENATU > 0','000022','000016','.CON.','5','','','5','nValBenAnt - nValBenAtu > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','FGERAVERBA(ACODFOL[AVERBA[NTIPO],1], IF(P_PROPVT, NVALBENATU','000023','000022','.EXE.','5','fGeraVerba(aCodFol[aVerba[nTipo],1], If(P_PROPVT, nValBenAtu, nValBenAnt - nValBenAtu),,,,,"R")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','NPOSLIQ > 0','000024','000022','.CON.','5','','','5','nPosLiq > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','APD[NPOSLIQ,5] := MAX(0, APD[NPOSLIQ,5] - IF(P_PROPVT, NVALB','000025','000024','.EXE.','5','aPd[nPosLiq,5] := Max(0, aPd[nPosLiq,5] - If(P_PROPVT, nValBenAtu, nValBenAnt - nValBenAtu))','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','PROPBENR','NTIPO++','000026','000015','.EXE.','5','nTipo++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0322    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0322( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','PROPSPRO','PROP. SALARIO PROFESSOR','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','PROPSPRO','SRA->RA_CATFUNC $ "I*J"','000001','000000','.CON.','5','','','5','SRA->RA_CATFUNC $ "I*J"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','PROPSPRO','FPSLPROF(ATAREFAS)','000002','000001','.EXE.','5','fPSlProf(aTarefas)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0323    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0323( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RATEIOCC','RATEIO POR CENTRO DE CUSTO','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','RATEIOCC','CTIPOROT == "4" .OR. CSITFOLH # "D" .AND. ( LDISSIDIO .OR. C','000001','000000','.CON.','5','','','5','cTipoRot == "4" .Or. cSitFolh # "D" .And. ( lDissidio .Or. cComp13 # "S" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','RATEIOCC','FENCARCC()','000002','000001','.EXE.','5','fEncarCc()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0324    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0324( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','REC132','RECALC. MULTIPLOS VINCULOS - 13O.','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','REC132','CTIPOROT == "6"','000001','000000','.CON.','5','','','5','cTipoRot == "6"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REC132','S_INSS13()','000002','000001','.EXE.','5','S_INSS13()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REC132','S_CALCPENS()','000003','000001','.EXE.','5','S_CALCPENS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REC132','S_CALCIR13()','000004','000001','.EXE.','5','S_CALCIR13()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0325    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0325( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RECADI','RECALC. MUTIPLOS VINCULOS - ADIANTAMENTO','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','RECADI','CTIPOROT == "2"','000001','000000','.CON.','5','','','5','cTipoRot == "2"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_MUVADI()','000002','000001','.EXE.','5','S_MUVADI()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_CBASEINI()','000003','000001','.EXE.','5','S_CBASEINI()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_SOMAADT()','000004','000001','.EXE.','5','S_SOMAADT()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_CALCPENS()','000005','000001','.EXE.','5','S_CALCPENS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_CALCIR()','000006','000001','.EXE.','5','S_CALCIR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_GERIRPLR()','000007','000001','.EXE.','5','S_GERIRPLR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_GERAIR()','000008','000001','.EXE.','5','S_GERAIR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_BASEIR()','000009','000001','.EXE.','5','S_BASEIR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECADI','S_GRAVADEP()','000010','000001','.EXE.','5','S_GRAVADEP()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0326    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0326( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RECAUT','RECALC. MULTIPLOS VINCULOS - AUTONOMO','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','RECAUT','CTIPOROT == "9"','000001','000000','.CON.','5','','','5','cTipoRot == "9"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_DIASTRAB()','000002','000001','.EXE.','5','S_DIASTRAB()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_PGSALMAT()','000003','000001','.EXE.','5','S_PGSALMAT()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_DIASAFAS()','000004','000001','.EXE.','5','S_DIASAFAS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_GERATAR()','000005','000001','.EXE.','5','S_GERATAR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_SCONTAUT()','000006','000001','.EXE.','5','S_SCONTAUT()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_BINSSCI()','000007','000001','.EXE.','5','S_BINSSCI()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_BINSSOE()','000008','000001','.EXE.','5','S_BINSSOE()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_CINSSCI()','000009','000001','.EXE.','5','S_CINSSCI()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_SOMASEM()','000010','000001','.EXE.','5','S_SOMASEM()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_VRDESCI()','000011','000001','.EXE.','5','S_VRDESCI()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_INSSFRET()','000012','000001','.EXE.','5','S_INSSFRET()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_IRRFFRET()','000013','000001','.EXE.','5','S_IRRFFRET()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_GINSSAUT()','000014','000001','.EXE.','5','S_GINSSAUT()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_GRDEDIR()','000015','000001','.EXE.','5','S_GRDEDIR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_CALCPENS()','000016','000001','.EXE.','5','S_CALCPENS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_CALIR()','000017','000001','.EXE.','5','S_CALIR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_GERIRPLR()','000018','000001','.EXE.','5','S_GERIRPLR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECAUT','S_CALSALFA()','000019','000001','.EXE.','5','S_CALSALFA()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0327    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0327( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RECFER','RECALC. MULTIPLOS VINCULOS - FERIAS','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','RECFER','CTIPOROT == "3"','000001','000000','.CON.','5','','','5','cTipoRot == "3"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','RECFER','S_CINSSFER()','000002','000001','.EXE.','5','S_CINSSFER()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFER','S_FPOUTFER ()','000003','000001','.EXE.','5','S_FPOUTFER ()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFER','S_CALCPENS()','000004','000001','.EXE.','5','S_CALCPENS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFER','S_CAIRFFER()','000005','000001','.EXE.','5','S_CAIRFFER()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0328    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0328( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RECFOL','RECALC. MULTIPLOS VINCULOS - FOLHA','','','009','2','1',} )

aAdd(aRc3Cols, { '','S_','RECFOL','CTIPOROT == "1"','000001','000000','.CON.','5','','','5','cTipoRot == "1"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_DIASTRAB()','000002','000001','.EXE.','5','S_DIASTRAB()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_PGSALMAT()','000003','000001','.EXE.','5','S_PGSALMAT()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_DIASAFAS()','000004','000001','.EXE.','5','S_DIASAFAS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_GERATAR()','000005','000001','.EXE.','5','S_GERATAR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_PARPROF()','000006','000001','.EXE.','5','S_PARPROF()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_SALPROF()','000007','000001','.EXE.','5','S_SALPROF()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_INSSFOL()','000008','000001','.EXE.','5','S_INSSFOL()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_CALCPENS()','000009','000001','.EXE.','5','S_CALCPENS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_CALIR()','000010','000001','.EXE.','5','S_CALIR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_GERIRPLR()','000011','000001','.EXE.','5','S_GERIRPLR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_CAIRFFER()','000012','000001','.EXE.','5','S_CAIRFFER()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_CALCIR13()','000013','000001','.EXE.','5','S_CALCIR13()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_CALSALFA()','000014','000001','.EXE.','5','S_CALSALFA()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECFOL','S_CALCCOMP()','000015','000001','.EXE.','5','S_CALCCOMP()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0329    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0329( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','RECRES','RECALC. MULTIPLOS VINCULOS - RESCISAO','','','006','2','1',} )

aAdd(aRc3Cols, { '','S_','RECRES','CTIPOROT == "4"','000001','000000','.CON.','5','','','5','cTipoRot == "4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_INSSFOL()','000002','000001','.EXE.','5','S_INSSFOL()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_INSS13()','000003','000001','.EXE.','5','S_INSS13()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_CALCPENS()','000004','000001','.EXE.','5','S_CALCPENS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_CALIR()','000005','000001','.EXE.','5','S_CALIR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_GERIRPLR()','000006','000001','.EXE.','5','S_GERIRPLR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_RPENSFER()','000007','000001','.EXE.','5','S_RPENSFER()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_CAIRFFER()','000008','000001','.EXE.','5','S_CAIRFFER()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_RPENS13()','000009','000001','.EXE.','5','S_RPENS13()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_CALCIR13()','000010','000001','.EXE.','5','S_CALCIR13()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','RECRES','S_CALSALFA()','000011','000001','.EXE.','5','S_CALSALFA()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

/*/
ÚÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄ¿
³Fun‡…o    ³AddBRA0330    ³Autor³ Gerado pelo sistema ³ Data ³          ³
ÀÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ/*/
Function AddBRA0330( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','REDUJORN','REDUCAO DE JORNADA - GFP','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','REDUJORN','aRetCalc := CALCREDJOR()     .CNT.','000001','000000','.EXE.','5','aRetCalc := CALCREDJOR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','lAchou := LREDUJOR30 := LREDUJOR35 := .F.     .CNT.','000002','000000','.EXE.','5','lAchou := LREDUJOR30 := LREDUJOR35 := .F.','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','nReduz := aRetCalc[1]     .CNT.','000003','000000','.EXE.','5','nReduz := aRetCalc[1]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','NREDUZ := IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0, ROUND( (','000004','000000','.EXE.','5','NREDUZ := IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0, ROUND( (NREDUZ * NREFLICPRE),2 ), NREDUZ)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','NPOS := ASCAN(APD,{|X| X[1] == FGETCODFOL("1371")})','000005','000000','.EXE.','5','nPos := ASCAN(APD,{|X| X[1] == FGETCODFOL("1371")})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','( NPOS == 0 .OR. (NPOS > 0 .AND. !(APD[NPOS,7] == "I")) ) .A','000006','000000','.CON.','5','','','5','( nPos == 0 .OR. (nPos > 0 .AND. !(APD[nPos,7] == "I")) ) .AND. (NREDUZ > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','FGERAVERBA(FGETCODFOL("1371"),NREDUZ)','000007','000006','.EXE.','5','fGeraVerba(FGETCODFOL("1371"),NREDUZ)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','!( (ARETCALC[4] = 0) .AND. (ARETCALC[6] = 0) )   .END.','000008','000000','.CON.','5','','','5','!( (ARETCALC[4] = 0) .AND. (ARETCALC[6] = 0) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','x := 1     .CNT.','000009','000008','.EXE.','5','x := 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','aTabS114 := {}     .CNT.','000010','000008','.EXE.','5','aTabS114 := {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','fCarrTab(@aTabS114,"S114", DDATAATE , .T. )     .CNT.','000011','000008','.EXE.','5','fCarrTab(@aTabS114,"S114", DDATAATE , .T. )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','x <= Len(aTabS114) .AND. !(lAchou)   .END.','000012','000008','.ENQ.','5','','','5','x <= Len(aTabS114) .AND. !(lAchou)','','5','','.END.','PMSTASK3','PMSTASK3',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','aTabS114[x][1] == "S114"   .END.','000013','000012','.CON.','5','','','5','aTabS114[x][1] == "S114"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','lAchou := (aTabS114[x][5] == "R" )   .END.','000014','000013','.CON.','5','','','5','lAchou := (aTabS114[x][5] == "R" )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','cVerba30 := aTabS114[x][7]     .CNT.','000015','000014','.EXE.','5','cVerba30 := aTabS114[x][7]','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','cVerba35 := aTabS114[x][8]     .END.','000016','000014','.EXE.','5','cVerba35 := aTabS114[x][8]','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','x++     .END.','000017','000012','.EXE.','5','x++','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','!(CTIPOROT $ "5*6") .or. (CTIPOROT $ "6" .and. SRA->RA_CAT','000018','000008','.CON.','5','','','5','!(CTIPOROT $ "5*6") .or. (CTIPOROT $ "6" .and. SRA->RA_CATFUNC != '+"'"+'6'+"'"+')','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','NPOS := ASCAN(APD,{|X| X[1] == CVERBA35})','000019','000018','.EXE.','5','nPos := ASCAN(APD,{|X| X[1] == CVERBA35})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','( nPos == 0 .OR. (nPos > 0 .AND. !(APD[nPos,7] == "I"))) .','000020','000018','.CON.','5','','','5','( nPos == 0 .OR. (nPos > 0 .AND. !(APD[nPos,7] == "I"))) .AND. (ARETCALC[4] > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','FGeraVerba(CVERBA35,IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0','000021','000020','.EXE.','5','FGeraVerba(CVERBA35,IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0, ROUND( (ARETCALC[4] * NREFLICPRE),2 ), ARETCALC[4] ), ARETCALC[3] ,,,"V",,,,,,,,,)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','LREDUJOR35 := .T.     .END.','000022','000020','.EXE.','5','LREDUJOR35 := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','NPOS := ASCAN(APD,{|X| X[1] == CVERBA30})','000023','000018','.EXE.','5','nPos := ASCAN(APD,{|X| X[1] == CVERBA30})','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','( NPOS == 0 .OR. (NPOS > 0 .AND. !(APD[NPOS,7] == "I")) ) .A','000024','000018','.CON.','5','','','5','( nPos == 0 .OR. (nPos > 0 .AND. !(APD[nPos,7] == "I")) ) .AND. (ARETCALC[6] > 0)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','FGeraVerba(CVERBA30,IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0','000025','000024','.EXE.','5','FGeraVerba(CVERBA30,IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0, ROUND( (ARETCALC[6] * NREFLICPRE),2 ), ARETCALC[6] ),ARETCALC[5],,,"V",,,,,,,,,)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','LREDUJOR30 := .T.     .END.','000026','000024','.EXE.','5','LREDUJOR30 := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','(CTIPOROT $ "5*6") .And. 1=2   .END.','000027','000008','.CON.','5','','','5','(CTIPOROT $ "5*6") .And. 1=2','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','aRetCalc[4] > 0 /* VALOR 35H */   .END.','000028','000027','.CON.','5','','','5','aRetCalc[4] > 0 /* VALOR 35H */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','N13SAL -= (N13SAL - IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0','000029','000028','.EXE.','5','N13SAL -= (N13SAL - IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0, ROUND( (ARETCALC[4] * NREFLICPRE),2 ), ARETCALC[4] ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','LREDUJOR35 := .T.     .END.','000030','000028','.EXE.','5','LREDUJOR35 := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','aRetCalc[6] > 0 /* VALOR 30H */   .END.','000031','000027','.CON.','5','','','5','aRetCalc[6] > 0 /* VALOR 30H */','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','N13SAL -= (N13SAL - IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0','000032','000031','.EXE.','5','N13SAL -= (N13SAL - IIF(C__ROTEIRO=="250" .AND. NREFLICPRE>0, ROUND( (ARETCALC[6] * NREFLICPRE),2 ), ARETCALC[6] ))','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','REDUJORN','LREDUJOR30 := .T.     .END.','000033','000031','.EXE.','5','LREDUJOR30 := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
If ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIf
If ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__') .Or. ( lFilRPO .And. Empty(xFilial('RC2')) .And. Val(cCliVersao) == Val(aRc2Cols[ 1 , nRc2Versao ]) )
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIf

Return( NIL )

