#include "totvs.ch"
#include "msobject.ch"
#include "tlpp-rest.th"
#include "tlpp-core.th"
#include "totvs.framework.treports.integratedprovider.th"
#include "backoffice.sv.fin.listofposts.ch"

namespace totvs.protheus.backoffice.fin.smartView.integratedProvider

@totvsFrameworkTReportsIntegratedProvider(active=.T., team="SIGAFIN", tables="SE1,SE2,FK1,FK2,FK5,F7G,SED", name="Relação de baixas por natureza", country="ALL")
//-------------------------------------------------------------------
/*/{Protheus.doc} ListOfPostsPerClassSmartViewBusinessObject
    Classe do Objeto de Negócio Relação de baixas por natureza
    @author guilherme.sordi@totvs.com.br
    @since 21/06/2023
    @version 12.1.2210
*/
//-------------------------------------------------------------------
class ListOfPostsPerClassSmartViewBusinessObject from totvs.protheus.backoffice.fin.smartView.integratedProvider.ListOfPostsSmartViewBusinessObject
    public method new() as object 
    protected method handleData() as json
    protected method handleSchema() as object 
    protected method initializeBusinessObject()
endclass

//-------------------------------------------------------------------
/*{Protheus.doc} new
    Construtor
    @author guilherme.sordi@totvs.com.br
    @since 21/06/2023
    @version 12.1.2210
*/
//-------------------------------------------------------------------
method new() class ListOfPostsPerClassSmartViewBusinessObject
    _Super:new()
return self

//-------------------------------------------------------------------
/*{Protheus.doc} initializeBusinessObject

@author Fábio Andrade
@since 08/01/2024
@version 1.0
*/
//-------------------------------------------------------------------
method initializeBusinessObject() class ListOfPostsPerClassSmartViewBusinessObject
    self:setDisplayName(STR0012) //"Relação de baixas por natureza"
    self:setDescription(STR0012) //"Relação de baixas por natureza"

    self:setPergunte("FINT001")
return

//-------------------------------------------------------------------
/*{Protheus.doc} handleSchema
    Complementa a estrutura dos campos e conjunto de parametros
    @author guilherme.sordi@totvs.com.br
    @since 21/06/2023
    @version 12.1.2210
*/
//-------------------------------------------------------------------
method handleSchema() as object class ListOfPostsPerClassSmartViewBusinessObject

    self:finAddProperty("CADEIA_NATUREZA", STR0013, "string") //"Cadeia de naturezas"

return self:oSchema

//-------------------------------------------------------------------
/*{Protheus.doc} handleData
    Complementa os dados retornados pelo objeto de negócio
    @author guilherme.sordi@totvs.com.br
    @since 21/06/2023
    @version 12.1.2210
*/
//-------------------------------------------------------------------
method handleData() class ListOfPostsPerClassSmartViewBusinessObject
    _Super:handleData()

    self:jData["CADEIA_NATUREZA"] := self:oFinClassUtil:getClassChain((self:cAlias)->NATURE)

return self:jData

