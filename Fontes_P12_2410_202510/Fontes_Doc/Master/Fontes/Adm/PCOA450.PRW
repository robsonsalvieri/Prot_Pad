#INCLUDE "PCOA450.ch"
/*/
_F_U_N_C_

Ŀ
FUNCAO     PCOA450   AUTOR  Joo Gonalves Oliveira  DATA  28.02.2008 
Ĵ
DESCRICAO  Programa de Cadastro de Movimentos no Operacionais            
Ĵ
 USO       SIGAPCO                                                        
Ĵ
_DOCUMEN_  PCOA450                                                        
_DESCRI_   Programa de Cadastro de Movimentos No Operacionais            
_FUNC_     Esta funcao podera ser utilizada com a sua chamada normal      
           partir do Menu ou a partir de uma funcao pulando assim o       
           browse principal e executando a chamada direta da rotina       
           selecionada.                                                   
           Exemplo: PCOA450(2) - Executa a chamada da funcao de visua-    
                                 zacao da rotina.                         
Ĵ
_PARAMETR_ ExpN1 : Chamada direta sem passar pela mBrowse                 
ٱ


*/
Function PCOA450(nCallOpcx)

Private cCadastro	:= STR0001 //"Cadastro de Movimentos No OPeracionais"
Private aRotina := MenuDef()

If AMIIn(57) // AMIIn do modulo SIGAPCO ( 57 )
	If nCallOpcx <> Nil
		PMS200Dlg("AM4",AM4->(RecNo()),nCallOpcx)
	Else
		mBrowse(6,1,22,75,"AM4")
	EndIf
EndIf

Return

/*/


Ŀ
Programa  MenuDef    Autor  Ana Paula N. Silva     Data17/11/06   
Ĵ
Descrio  Utilizacao de menu Funcional                                    
Ĵ
Retorno   Array com opcoes da rotina.                                 
Ĵ
ParametrosParametros do array a Rotina:                               
          1. Nome a aparecer no cabecalho                             
          2. Nome da Rotina associada                                 
          3. Reservado                                                
          4. Tipo de Transao a ser efetuada:                        
          		1 - Pesquisa e Posiciona em um Banco de Dados         
              2 - Simplesmente Mostra os Campos                       
              3 - Inclui registros no Bancos de Dados                 
              4 - Altera o registro corrente                          
              5 - Remove o registro corrente do Banco de Dados        
          5. Nivel de acesso                                          
          6. Habilita Menu Funcional                                  
Ĵ
   DATA    Programador   Manutencao efetuada                         
Ĵ
                                                                     
ٱ


/*/
Static Function MenuDef()
Local aRotina 	:= {	{ STR0002,"AxPesqui",0,1,,.F.},;  //"Pesquisar"
						{ STR0003,"AxVisual",0,2},;       //"Visualizar"
						{ STR0004,"AxInclui",0,3},;	      //"Incluir"
						{ STR0005,"AxAltera",0,4},;       //"Alterar"
						{ STR0006,"AxDeleta",0,5}}        //"Excluir"
							
If AMIIn(57) // AMIIn do modulo SIGAPCO ( 57 )
	//Ŀ
	// Adiciona botoes do usuario na EnchoiceBar                              
	//
	If ExistBlock( "PCOA4501" )
		//P_EĿ
		//P_E Ponto de entrada utilizado para inclusao de funcoes de usuarios no     
		//P_E browse da tela de Classes Orcamentarias                                
		//P_E Parametros : Nenhum                                                    
		//P_E Retorno    : Array contendo as rotinas a serem adicionados na enchoice 
		//P_E               Ex. :  User Function PCOA4501                            
		//P_E                      Return {{"Titulo", {|| U_Teste() } }}             
		//P_E
		If ValType( aUsRotina := ExecBlock( "PCOA4501", .F., .F. ) ) == "A"
			AEval( aUsRotina, { |x| AAdd( aRotina, x ) } )
		EndIf
	EndIf
EndIf							
Return(aRotina)