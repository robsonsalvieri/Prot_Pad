// ͻ
//  Versao  03     
// ͼ

#Include "VEICA680.CH"

/*


Ŀ
Funcao     VEICA680  Autor  Andre Luis Almeida     Data  21/10/14 
Ĵ
Descricao  Cadastro de disparos CEV ( eventos )                       
ٱ


*/
Function VEICA680()
PRIVATE cCadastro := STR0001 // Cadastro de disparos CEV
axCadastro("VDX",cCadastro)
Return .T.

/*


Ŀ
Funcao    VCA680WHEN Autor  Andre Luis Almeida     Data  21/10/14 
Ĵ
Descricao  WHEN dos campos VDX                                        
ٱ


*/
Function VCA680WHEN(nTp)
Local lRet := .t.
If nTp == 1 // Veiculos
	If !( M->VDX_EVENTO $ "3,4,5" ) // 3 = Perseguidor / 4 = Venda Veiculo / 5 = Cancel.Veiculo
		lRet := .f.
	EndIf
ElseIf nTp == 2 // Oficina
	If !( M->VDX_EVENTO $ "6,7" ) // 6 = Venda Servico / 7 = Cancel.Servico
		lRet := .f.
	EndIf
EndIf
Return(lRet)

/*


Ŀ
Funcao     VCA680VLD Autor  Andre Luis Almeida     Data  21/10/14 
Ĵ
Descricao  Valid dos campos VDX                                       
ٱ


*/
Function VCA680VLD()
Local lRet := .t.
If !( M->VDX_EVENTO $ "3,4,5" ) // 3 = Perseguidor / 4 = Venda Veiculo / 5 = Cancel.Veiculo
	M->VDX_TIPVEI := "3" // 3 = Todos
EndIf
If !( M->VDX_EVENTO $ "6,7" ) // 6 = Venda Servico / 7 = Cancel.Servico
	M->VDX_SITTPO := space(TamSx3("VDX_SITTPO")[1])
EndIf
Return(lRet)

/*


Ŀ
Funcao     MenuDef   Autor  Andre Luis Almeida     Data  21/10/14 
Ĵ
Descricao  MenuDef padrao                                             
ٱ


*/
Static Function MenuDef()
Local aRotina := {  { oemtoansi(STR0002),"AxPesqui", 0 , 1,,.F.},;  // "Pesquisar"
                    { oemtoansi(STR0003),"AxCadVis", 0 , 2},;       // "Visualizar"
                    { oemtoansi(STR0004),"AxCadInc", 0 , 3},;       // "Incluir"
                    { oemtoansi(STR0005),"AxCadAlt", 0 , 4},;       // "Alterar"
                    { oemtoansi(STR0006),"AxCadDel", 0 , 5}}        // "Excluir"
Return aRotina
