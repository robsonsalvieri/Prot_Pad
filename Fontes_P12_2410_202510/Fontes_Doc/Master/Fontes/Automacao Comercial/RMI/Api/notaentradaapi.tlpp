#INCLUDE "TLPP-CORE.TH"
#INCLUDE "TLPP-REST.TH"

namespace totvs.protheus.retail.rmi.api.notaentradaapi

using namespace totvs.protheus.retail.rmi.api.notaentradaobj

//-------------------------------------------------------------------
/*/{Protheus.doc}
    API para consulta de Notas Fiscais de Entrada do Varejo
/*/
//-------------------------------------------------------------------

/* ----------------------------------------- */
@Post("api/retail/v1/notaentrada/devolucao")
Function devolucao()

    Local oNotaEntrada  := Nil
    Local cBody         := oRest:getBodyRequest()
    Local cReturn       := ""
    
    oNotaEntrada := NotaEntradaObj():New(oRest, oRest:getQueryRequest(), cBody)

    LjGrvLog("notaEntradaApi", "Parâmetros de requisição da API nota de entrada - devolução", cBody)

    oNotaEntrada:Post()
    
    cReturn := oNotaEntrada:getReturn()

    LjGrvLog("notaEntradaApi", "Retorno da API nota de entrada - devolução", cReturn)

Return oRest:setResponse(cReturn)

//-------------------------------------------------------------------
/*/{Protheus.doc}
    API para consulta de Notas Fiscais de Entrada do Varejo - Uso Interno
/*/
//-------------------------------------------------------------------

/* ----------------------------------------- */
@Post("/api/pdvsyncserver/retaguarda/processoonlinenotaentrada")
Function devolucaoQa()
    LjGrvLog("Realizada chamada de API de uso interno através do endpoint : /api/pdvsyncserver/retaguarda/processoonlinenotaentrada")
    devolucao()
Return 