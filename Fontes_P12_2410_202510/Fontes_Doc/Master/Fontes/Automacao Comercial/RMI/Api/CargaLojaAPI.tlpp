#INCLUDE "TLPP-CORE.TH"
#INCLUDE "TLPP-REST.TH"

namespace totvs.protheus.retail.rmi.api.cargaLojaAPI

using namespace totvs.protheus.retail.rmi.api.cargaLojaObj

/*/{Protheus.doc} solicitacarga
    API para solicitar carga automática
    @type  Function
    @author Samuel de Vincenzo
    @since 14/05/2024
    @version 1.0
/*/
@POST("api/retail/v1/cargaloja/solicitacarga")
Function solicitacarga()
    Local cReturn  := ""
    Local oCarga := cargaLojaObj():New(oRest, oRest:getQueryRequest(), oRest:getBodyRequest())
    Local cBody     := oRest:getBodyRequest()

    LjGrvLog("solicitacarga", "Parâmetros de requisição da API solicita carga - ", cBody)

    oCarga:Post()
    cReturn := EncodeUtf8( oCarga:getReturn())
    LjGrvLog("api/retail/v1/cargaloja/solicitacarga","Return: ",cReturn)

Return oRest:setResponse(cReturn)
