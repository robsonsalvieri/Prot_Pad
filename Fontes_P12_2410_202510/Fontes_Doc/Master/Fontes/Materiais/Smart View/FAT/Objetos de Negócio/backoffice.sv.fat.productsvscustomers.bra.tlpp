#INCLUDE "PROTHEUS.CH"
#INCLUDE "FWLIBVERSION.CH"
#include "totvs.ch"
#include "msobject.ch"
#include "totvs.framework.treports.integratedprovider.th"
#include "tlpp-rest.th"
#include "tlpp-core.th"
#include "backoffice.sv.fat.productsvscustomers.ch"

namespace totvs.protheus.backoffice.sv.fat.productsvscustomers.treportsintegratedprovider
using namespace totvs.framework.treports.integratedprovider

@totvsFrameworkTReportsIntegratedProvider(active=.F., team="SIGAFAT", tables="SA7,SA1", name="Produtos x Clientes", country="BRA")

//-----------------------------------------------------------------------------------
/*/{Protheus.doc} productsvscustomersSmartViewBusinessObjectBRA
Classe para criação do Objeto de Negócio para Relacao de Pedidos de Vendas Brasil.

@author FAT/CRM
@since 07/08/2023
@version 1.0
*/
//-----------------------------------------------------------------------------------  
class productsvscustomersSmartViewBusinessObjectBRA from totvs.protheus.backoffice.sv.fat.productsvscustomers.treportsintegratedprovider.productsvscustomersSmartViewBusinessObject
    
    public method new() as object
    public method preData() as object
    public method processData() as object
    public method preSchema() as object

endclass
 
//-------------------------------------------------------------------
/*{Protheus.doc} new
Método de instância da classe
 
@return object: self
 
@author FAT/CRM
@since 07/08/2023
@version 1.0
*/
//-------------------------------------------------------------------   
method new() class productsvscustomersSmartViewBusinessObjectBRA 
	
    _Super:new()

return self

//-------------------------------------------------------------------
/*{Protheus.doc} preData
Método chamado antes do getData do objeto principal
 
@return object: self:oData
 
@author FAT/CRM
@since 07/08/2023
@version 1.0
*/
//-------------------------------------------------------------------   
method preData() as object class productsvscustomersSmartViewBusinessObjectBRA 
	
    self:cLocSelect := " ,A7_IDADEM, A7_UMNFE "
    self:cLocWhere  := ""

Return self:oData

//-------------------------------------------------------------------
/*{Protheus.doc} processData
Deverá ser chamado no momento do processamento da query
 
@return object: self:oData
 
@author FAT/CRM
@since 07/08/2023
@version 1.0
*/
//-------------------------------------------------------------------    
method processData(nOperLoc as numeric) as object class productsvscustomersSmartViewBusinessObjectBRA
    
    Do Case
        //-----------------------------------------------------------
        //Operação 1 será utilizado somente para commit dos 
        //campos antes do appendData 
        //Case (nOperLoc == 1)
        //-----------------------------------------------------------
        Case nOperLoc == 1
            self:ojItems["IDADEM"] := (self:cAliasQry)->A7_IDADEM
            self:ojItems["UMNFE"]  := (self:cAliasQry)->A7_UMNFE

    EndCase
        
return

//-------------------------------------------------------------------
/*{Protheus.doc} preSchema
Método chamada antes do getSchema do objeto principal
 
@return object: self:oSchema
 
@author FAT/CRM
@since 07/08/2023
@version 1.0
*/
//-------------------------------------------------------------------   
method preSchema() as object class productsvscustomersSmartViewBusinessObjectBRA

    self:oSchema:addProperty("IDADEM",  STR0013 ,"number"   ,STR0013    ,"IDADEM" )  //Idade Máxima do Veículo  
	self:oSchema:addProperty("UMNFE",   STR0014 ,"string"   ,STR0014    ,"UMNFE"  )  //Unidade de Medida p/ NFe 

return self:oSchema
