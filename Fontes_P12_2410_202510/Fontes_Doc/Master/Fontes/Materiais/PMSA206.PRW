#include "protheus.ch"
#include "pmsa206.ch"

/*/


Ŀ
Funo    PMS206Evt  Autor  Totvs                       Data  13/07/2010 
Ĵ
Descrio Funcao para tratar os eventos de notificacao do projeto.           
Ĵ
 Uso      SIGAPMS                                                       	 
ٱ


*/
Function PMS206Evt( cAlias, nReg, nOpcx )
Local aSize		:= MsAdvSize(,.F.,430)
Local aRotina	:= {}
Local bPre		:= {|| .T. }
Local bOk		:= {|| .T. }
Local bTTS		:= {|| .T. }
Local bNoTTS	:= {|| .T. }
Local cRevisa	:= AF8->AF8_REVISA
Local cPrgCall	:= AllTrim( FunName() )
Local lRet		:= .T.
Local aMemosBkp	:= aMemos

Private aGetCpo
Private cOkFunc 	:= ".T."
Private cDelFunc	:= ".T."
Private aParam  	:= { bPre, bOK, bTTS, bNoTTS }
Private xAuto
Private aNewBtn 	:= {}

aMemos	:= {}
aRotina := MenuDef()

DbSelectArea( "AN6" )
MaWndBrowse( 	aSize[7], 0, aSize[6], aSize[5],;
				STR0001,; //"Notificao de Eventos do Projeto"
				"AN6",;
				/*aCampos*/,;
				aRotina,,,,;
				.T.,,,,,,,,.F. ) 

aMemos := aMemosBkp
Return lRet

/*/


Ŀ
Funo	 PA206IncEvtAutor   Totvs                 Data 14/07/2010
Ĵ
Descrio Chamada da funcao AxInclui                 		          
ٱ


/*/
Function PA206IncEvt(cAlias,nReg,nOpc,aAcho,cFunc,aCpos)
INCLUI := .T.
ALTERA := .F.
EXCLUI := .F.

Return(AxInclui(cAlias,nReg,nOpc,aAcho,cFunc,aCpos,cOkFunc,/*lF3*/,/*cTransact*/,aNewBtn,aParam,xAuto))

/*/


Ŀ
Funo	 PA206AltEvtAutor   Totvs                 Data 14/07/2010
Ĵ
Descrio Chamada da funcao AxAltera                 		          
ٱ


/*/
Function PA206AltEvt(cAlias,nReg,nOpc,aAcho,aCpos,nColMens,cMensagem,cTudoOk)
If (cAlias)->( Bof() ) .and. (cAlias)->( Eof() )
	Help(" ",1,"RECNO")
	Return
End 

INCLUI := .F.
ALTERA := .T.
EXCLUI := .F.

AxAltera(cAlias,nReg,nOpc,aAcho,aCpos,nColMens,cMensagem,cOkFunc,/*cTransact*/,/*cFunc*/,aNewBtn,aParam,xAuto)
Return

/*/


Ŀ
Funo	 PA206DelEvtAutor   Totvs                 Data 14/07/2010
Ĵ
Descrio Chamada da funcao AxDeleta                 		          
ٱ


/*/
Function PA206DelEvt(cAlias,nReg,nOpc,aCpos)
If (cAlias)->( Bof() ) .and. (cAlias)->( Eof() )
	Help(" ",1,"RECNO")
	Return
End 

INCLUI := .F.
ALTERA := .F.
EXCLUI := .T.

RegToMemory(cAlias,.F.)
AxDeleta(cAlias,nReg,nOpc,/*cTransact*/,aCpos,aNewBtn,aParam,xAuto)
Return

/*/


Ŀ
Funo	 PA206VisEvtAutor   Totvs                 Data 14/07/2010
Ĵ
Descrio Chamada da funcao AxVisual                 		          
ٱ


/*/
Function PA206VisEvt(cAlias,nReg,nOpc,aCpos)
If (cAlias)->( Bof() ) .and. (cAlias)->( Eof() )
	Help(" ",1,"RECNO")
	Return
End 

AxVisual(cAlias,nReg,nOpc,/*aAcho*/,/*nColMens*/,/*cMensagem*/,/*cFunc*/,aNewBtn,/*lMaximized*/)
Return

/*


Ŀ
Programa  MenuDef    Autor  Totvs                  Data  14/07/10 
Ĵ
Descrio Utilizacao de menu Funcional                                
Ĵ
Retorno   Array com opcoes da rotina.                                 
ٱ


*/
Static Function MenuDef()
Local aRotina := {{STR0006, "AxPesqui"   , 0 , 1},; 	//"Pesquisar"
					{ STR0002,	"PA206VisEvt", 0 , 2 },;	//"Visualizar"
					{ STR0003,	"PA206IncEvt", 0 , 3 },;	//"Incluir"
					{ STR0004,	"PA206AltEvt", 0 , 4 },;	//"Alterar"
					{ STR0005,	"PA206DelEvt", 0 , 5 }}	//"Excluir"

Return(aRotina)
