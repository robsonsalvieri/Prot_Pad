<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="pr-br">
<head>

  <link rel="icon" href="favico.ico">

  <link rel="shortcut icon" href="favico.ico">
  <title>Protheus - SigaDW</title>


  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

  <meta name="author" content="Microsiga Software S.A. - Intelig&ecirc;ncia Protheus - B.I.">

  <meta name="Generator" content="APServer - Modulo SigaDW">

  <meta name="Content-Script-Type" content="application/x-javascript">

  <meta http-equiv="Cache-control" content="no-cache">

  <meta http-equiv="Expires" content="0">

  <meta name="Robots" content="none,noarchive">

  <meta http-equiv="imagetoolbar" content="no">

  <script type="text/javascript" src="jsoverlib.js"></script>
  <script type="text/javascript" src="sigadw3.js"></script>
  <script type="text/javascript" src="jstable.js"></script>
  <script type="text/javascript" src="jstree.js"></script>
  <script type="text/javascript" src="calendar.js"></script>
  <script type="text/javascript" src="choosecolor.js"></script>
  <script type="text/javascript" src="sigadw_pt.js"></script>
  <script type="text/javascript">
function getTagWaitImage()
{
return "<img id='waitImg' style='position:absolute; left:45%; top:45%;border:2px solid blue;z-index:10000;width:99px;height:40px;' onMouseOver='doMouseOver_img(this)' onMouseOut='doMouseOut_img(this)' border='0' alt='' title='' src='themes/wait.gif'>"
}
showWait();
  </script><!-- aph/apl: h_dwQryVirtFld()-->
  <style type="text/css">
@import url("file://N:/Protheus10/Protheus_Data/web/SIGADW3/p10_ie.css")
  </style>
  <script type="text/javascript">
function getEditExpressionURL()
{
return "?action=edtExpression&amp;obj=&amp;objID=&amp;options=0001&amp;isSQL=0&amp;chg=0&amp;caption=&amp;id_expr=-1&amp;id_base=-1&amp;targetID=&amp;targetText=&amp;noCache=303114"
}
function getImageList()
{
var oImageList = Array();
oImageList.push('themes/p10/ic_list_on.gif');
oImageList.push('themes/p10/ic_mini_on.gif');
oImageList.push('themes/p10/ic_toolbar_normal_on.gif');
oImageList.push('themes/p10/ic_toolbar_label_on.gif');
return oImageList;
}
  </script>
</head>
<body id="moz_lwLbYEXr2822" onresize="div_resize();" onload="div_load();" onunload='div_unload("?action=saveDW&headers=0&XEvent=0&noCache=3031113");'>

<!-- frmModalForm begin -->
<div id="frmModalForm">
<div id="divModalForm">
<div id="divModalFormTitle"></div>

<div id="divModalFormBody"></div>

<div id="divModalFormMsg"></div>

<div id="divModalFormButton"></div>

</div>

</div>

<!-- frmModalForm end --><!-- waitInProcess begin --><!-- waitInProcess end -->
<!-- buildBody begin -->
<div id="page_body" class="page_body" align="center"><!-- buildBody beginData -->
<script type="text/javascript">
function edExpressao_dot(oSender) {
doEditExpression('Expressão', getElement('edId_expr').value, 0,
'edId_expr', 'edExpressao', 'CVQ', '48',
true, false) //'Expressão'
}
function edMascara_dot(oSender) {
var oMask = getObject('edMascara', oSender.form);
oMask.value = makeMask(getElement('edTipo', oSender.form).value, getElement('edTam', oSender.form).value,
getElement('edNDec', oSender.form).value);
}
</script>
<script type="text/javascript">
function frmVirt_valid(oSender) {
var lRet = true;
lRet = doValidField(getElement('edTam'), false, "N", 4, 0, 1);
if (lRet) {
var lDis = getElement('edExpressao').disabled;
getElement('edExpressao').disabled = false;
lRet = doValidField(getElement('edExpressao'), true, "C", 4, 0, 1, 4, getElement('edExpressao'));
getElement('edExpressao').disabled = lDis;
}
return lRet;
}
</script><!-- buildForm start aph/apl EXECACTION:H_DWQRYVIRTFLD -->
<form enctype="application/x-www-form-urlencoded" method="post" action="?action=recManutVirtFld&amp;oper=1&amp;suboper=3&amp;noCache=313115" name="frmVirt" id="frmVirt" onsubmit="return(frmVirtSubmit(this))"><!-- buildBodyFields begin CSS form fields --><input name="edID" id="edID" value="25" type="hidden"><input name="edID_CONS" id="edID_CONS" value="48" type="hidden"><input name="edTipo" id="edTipo" value="N" type="hidden"><input name="edId_expr" id="edId_expr" value="82" type="hidden"><!-- buildBodyFields end CSS form fields -->
  <table class="container" summary="">

    <col width="18">
    <col><col width="18"><tbody>

      <tr>

        <td class="comborda_sup_esq"></td>

        <td class="comborda_sup"></td>

        <td class="comborda_sup_dir"></td>

      </tr>

      <tr>

        <td class="comborda_esq"></td>

        <td class="titulo">Campo Virtual <small>V4</small>
        <small>(altera&ccedil;&atilde;o)</small></td>

        <td class="comborda_dir"></td>

      </tr>

      <tr>

        <td class="comborda_esq"></td>

        <td valign="top">
<!-- buildBodyFields begin CSS form - only fields -->
        <table class="buildForm" summary="">

          <tbody>

            <tr class="meiaLinha">

              <td class="buildFormLabel" style="width: 280px;"></td>

              <td class="buildFormBody"></td>

            </tr>

            <tr class="zebraOff">

              <td class="buildFormLabel" style="width: 280px;"><label class="key" accesskey="N" for="edNome"><u>N</u>ome</label></td>

              <td class="buildFormBody"><input maxlength="15" size="15" value="V4" onfocus="doFocus(this)" onblur="doBlur(this, 'B')" onkeypress="return checkKey(this)" class="key" name="edNome" id="edNome"></td>

            </tr>

            <tr class="zebraOn">

              <td class="buildFormLabel" style="width: 280px;"><label accesskey="D" for="edDescricao"><u>D</u>escri&ccedil;&atilde;o</label></td>

              <td class="buildFormBody"><input maxlength="30" size="30" value="V1-V2" onfocus="doFocus(this)" onblur="doBlur(this, 'C')" class="" name="edDescricao" id="edDescricao"></td>

            </tr>

            <tr class="zebraOff">

              <td class="buildFormLabel" style="width: 280px;"><label accesskey="T" for="edTam"><u>T</u>amanho</label></td>

              <td class="buildFormBody"><input maxlength="4" size="5" value="12" onfocus="doFocus(this)" onblur="doBlur(this, 'N')" onkeypress="return checkNumber(this)" class="" name="edTam" id="edTam"></td>

            </tr>

            <tr class="zebraOn">

              <td class="buildFormLabel" style="width: 280px;"><label accesskey="c" for="edNDec">De<u>c</u>imais</label></td>

              <td class="buildFormBody"><input maxlength="4" size="5" value="0" onfocus="doFocus(this)" onblur="doBlur(this, 'N')" onkeypress="return checkNumber(this)" class="" name="edNDec" id="edNDec"></td>

            </tr>

            <tr class="zebraOff">

              <td class="buildFormLabel" style="width: 280px;"><label accesskey="M" for="edMascara"><u>M</u>&aacute;scara</label></td>

              <td class="buildFormBody"><input maxlength="30" size="30" value="@E 999,999,999,999" onfocus="doFocus(this)" onblur="doBlur(this, 'C')" class="" name="edMascara" id="edMascara"><button id="dotedMascara" name="dotedMascara" onclick="javascript: !enableElement(this,edMascara_dot(this)); return false;" onmouseout="this.className='small'" onmouseover="this.className='ativosmall'" class="small" value="...">...</button></td>

            </tr>

            <tr class="zebraOn">

              <td class="buildFormOneCol" colspan="2" style="width: 280px;"><label accesskey="E" for="edExpressao"><u>E</u>xpress&atilde;o</label><br>

              <textarea disabled="disabled" name="edExpressao" id="edExpressao" rows="10" cols="45" readonly="readonly" onclick="doFocus(this);">COUNT(
FATO-&gt;TOTPED) -
COUNT(DISTINCT FATO-&gt;TOTPED)</textarea><button id="dotedExpressao" name="dotedExpressao" onclick="javascript: !enableElement(this,edExpressao_dot(this)); return false;" onmouseout="this.className='small'" onmouseover="this.className='ativosmall'" class="small" value="...">...</button></td>

            </tr>

            <tr class="zebraOff">

              <td class="buildFormOneCol" colspan="2" style="width: 280px;" valign="bottom"><label accesskey="a" for="edExpTotal">Express&atilde;o p<u>a</u>ra
sub-total e total</label><br>

              <textarea disabled="disabled" name="edExpTotal" id="edExpTotal" rows="10" cols="45" readonly="readonly" onclick="doFocus(this);"></textarea><button id="dotedExpTotal" name="dotedExpTotal" onclick="javascript: !enableElement(this,edExpTotal_dot(this)); return false;" onmouseout="this.className='small'" onmouseover="this.className='ativosmall'" class="small" value="...">...</button></td>

            </tr>

          </tbody>
        </table>

<!-- buildBodyFields end CSS form - only fields -->
        </td>

        <td class="comborda_dir"></td>

      </tr>

      <tr>

        <td class="comborda_esq"></td>

        <td class="comborda_meio form_row_sep">
        <div id="formMsg" class="formMsg"></div>

        <div id="formMsgHint" class="formMsgHint"></div>

        </td>

        <td class="comborda_dir"></td>

      </tr>

      <tr>

        <td class="comborda_esq"></td>

        <td class="comborda_meio">
        <span id="msgButtonContainer" class="warning"></span>
        <div class="buttonContainer"><button onclick="javascript: !enableElement(this,doSubmit(this.form,false)); return false;" onmouseout="this.className=''" onmouseover="this.className='ativo'" class="" value="enviar">enviar</button>
        <button onclick="javascript: !enableElement(this,doClose(false)); return false;" onmouseout="this.className=''" onmouseover="this.className='ativo'" class="" value="cancelar">cancelar</button>
        <button onclick="javascript:doReset(this.form);" onmouseout="this.className=''" onmouseover="this.className='ativo'" class="" value="desfazer">desfazer</button>
        </div>

        </td>

        <td class="comborda_dir"></td>

      </tr>

      <tr>

        <td class="comborda_inf_esq" valign="top"></td>

        <td class="comborda_inf"></td>

        <td class="comborda_inf_dir" valign="top"></td>

      </tr>

    </tbody>
  </table>

</form>

<script type="text/javascript">
function frmVirtSubmit(oSender)
{
var lRet = true;
if (!(doValidField(oSender.edNome, true,"B",15,0))) lRet = false;
if (!(doValidField(oSender.edDescricao, true,"C",30,0))) lRet = false;
if (!(doValidField(oSender.edTam, true,"N",4,0))) lRet = false;
if (!(doValidField(oSender.edNDec, true,"N",4,0))) lRet = false;
if (!(doValidField(oSender.edMascara, false,"C",30,0))) lRet = false;
if (!(doValidField(oSender.edExpressao, true,"M",10,45))) lRet = false;
if (!(doValidField(oSender.edExpTotal, true,"M",10,45))) lRet = false;
if (lRet)
try { lRet = lRet && frmVirt_valid(oSender); } catch ( err ) { lRet = true };
return lRet;
}
</script>
<!-- buildForm end -->&lt;% //'Campo Virtual '
%&gt;
<!-- buildBody endData --></div>

<!-- buildBody end -->
<div id="divAuxiliarBrowser" class="auxHiddenObjects"></div>

<iframe id="ifRequest" class="auxHiddenObjects"></iframe>
</body>
</html>
