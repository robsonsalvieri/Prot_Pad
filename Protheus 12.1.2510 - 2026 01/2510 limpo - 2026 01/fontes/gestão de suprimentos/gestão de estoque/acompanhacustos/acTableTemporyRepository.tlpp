#include "tlpp-core.th"
#INCLUDE "FWMVCDEF.CH"

namespace ac.TableTempory.Repository

Class acTableTemporyRepository
  	public method New()
	public method doesTableIdExist()
	public method deletedTableId()
	public method version()
EndClass

method new() Class acTableTemporyRepository

return Self

/*/{Protheus.doc} acTableTemporyRepository:doesTableIdExist()
    Metodo responsavel por verificar se existe a tabela com o nome informado
    @type  Metodo
    @author samuel.macedo
    @since  Março 12, 2021
    @version 12.1.27
/*/
Method doesTableIdExist(cTable) CLASS acTableTemporyRepository

Local lRet    as Logical

lRet := .F.

If TcCanOpen(cTable)
	lRet := .T.
Endif	

Return lRet


/*/{Protheus.doc} acTableTemporyRepository:deletedTableId()
    Metodo responsavel pela exclusão da tabela do banco
    @type  Metodo
    @author samuel.macedo
    @since  Março 12, 2021
    @version 12.1.27
/*/
Method deletedTableId(cTable) CLASS acTableTemporyRepository

Local lRet    as Logical

lRet := .F.

If !(Alias() == cTable)
	DbUseArea(.T.,"TOPCONN",cTable,cTable,.T.)
Endif

(cTable)->(dbCloseArea())

If TcDelFile(cTable)
	lRet := .T.
Endif	

Return lRet

/*/{Protheus.doc} version
    Metodo responsavel por indicar a versao da classe
    @type  Method
    @author Adriano Vieira
    @since  15/02/2024
    @version 12.1.23.10
/*/
Method version() Class acTableTemporyRepository
    Local nVersion := 200
Return nVersion
