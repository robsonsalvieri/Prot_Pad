#include "totvs.ch"
#include 'tlpp-core.th'

/*/{Protheus.doc} agdFeatUtils
Utilitarios para Features TCO
@type class
@version 12
@author jean.schulze
@since 07/01/2025
/*/
class agdFeatUtils

	static method buildParametros()
	static method buildOptions()
	static method buildCadastros()
	static method buildTabelaDePara()
	static method buildAdapters()
	static method setError()

endclass

/*/{Protheus.doc} buildParametros
Padrao de parametros de feature
@type method
@version 12
@author jean.schulze
@since 12/19/2025
@param cParam, character, param
@param aOptions, array, opcoes
@param cExpectedValue, character, valor esperado
@return variant, retorno
/*/
method buildParametros(cParam as character, aOptions as array, cExpectedValue as character,  lValidaAtivacao as logical, lConteudoCompleto as logical,) class agdFeatUtils
	Default aOptions := {}
	Default cExpectedValue := ''
	Default lConteudoCompleto := .T.
	Default lValidaAtivacao := .F.

	jValue := JsonObject():new()
	jValue['parametro'] := cParam
	jValue['options'] := aOptions
	jValue['valorEsperado'] := cExpectedValue	
	jValue['validaAtivacao'] := lValidaAtivacao
	jValue['conteudoCompleto'] := lConteudoCompleto

return jValue

/*/{Protheus.doc} buildOptions
Cria as opçoes para os parametros
@type method
@version 12
@author jean.schulze
@since 12/19/2025
@param cValue, character, valor
@param cLabel, character, label
@return variant, retorno
/*/
method buildOptions(cValue as character, cLabel as character) class agdFeatUtils
	jValue := JsonObject():new()
	jValue['value'] := cValue
	jValue['label'] := cLabel
return jValue

/*/{Protheus.doc} buildCadastros
Retorna o padrao de cadastros basicos
@type method
@version 12
@author jean.schulze
@since 12/19/2025
@param cRotina, character, rotina
@param cTabela, character, tabela
@return variant, retorno
/*/
method buildCadastros(cRotina as character, cTabela as character) class agdFeatUtils
	jValue := JsonObject():new()
	jValue['rotina'] := cRotina
	jValue['tabela'] := cTabela
return jValue

/*/{Protheus.doc} buildTabelaDePara
padrao de tabela de-para
@type method
@version 12
@author jean.schulze
@since 12/19/2025
@param cTabela, character, tabela
@param cCampo, character, campo
@return variant, retorno
/*/
method buildTabelaDePara(cTabela as character, cCampo as character) class agdFeatUtils
	jValue := JsonObject():new()
	jValue['tabela'] := cTabela
	jValue['campo'] := cCampo
return jValue

/*/{Protheus.doc} buildAdapters
Adapters para integrações
@type method
@version 12
@author jean.schulze
@since 12/19/2025
@param cRotina, character, rotina
@param cMensagem, character, mensagem eai
@param cCondition, character, condicao do adapter	
@return variant, returno
/*/
method buildAdapters(cRotina as character, cMensagem as character, cCondition as character) class agdFeatUtils
	Default cCondition := ""

	jValue := JsonObject():new()
	jValue['rotina']   := cRotina
	jValue['mensagem'] := cMensagem
	jValue['condicao'] := cCondition

return jValue

/*/{Protheus.doc} setError
Informa um padrao de erro
@type method
@version 12
@author jean.schulze
@since 12/19/2025
@param cError, character, erro
@param cSolucao, character, solução
@return variant, retorno
/*/
method setError(cError as character, cTipo as character, cSolucao as character) class agdFeatUtils
	Default cSolucao := ""
	Default cTipo := "CONFIGURACAO"

	jValue := JsonObject():new()
	jValue['error']   := cError	
	jValue['tipo']    := cTipo
	jValue['solucao'] := cSolucao
return jValue

